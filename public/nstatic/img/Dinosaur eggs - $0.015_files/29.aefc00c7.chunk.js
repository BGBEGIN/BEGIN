(this["webpackJsonpxxx-swap"]=this["webpackJsonpxxx-swap"]||[]).push([[29],{1362:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return xe}));var c,a,r,o,i,s,b,l,j,d,u,O=n(1),x=n(6),h=n(2),p=n(57),m=n(4),w=n(5),f=n(114),g=n(134),y=n(402),v=n(44),k=n(20),D=n(51),R=n(162),Q=n(371),S=n(407),A=n(15),q=n.n(A),L=n(393),K=n(255),N=n(194),P=n(37),C=n(26),T=n(0),W=["allVolume","allQuantity"],z=Object(w.e)(m.v)(c||(c=Object(x.a)(["\n  flex: 1;\n  /* margin-right: 48px; */\n  ","\n  min-width: 300px;\n  padding: 24px;\n  /* height: 157px; */\n  margin-bottom: 32px;\n"])),(function(e){return e.theme.mediaQueriesSize.marginr})),F=function(e){var t=e.allVolume,n=e.allQuantity,c=Object(C.a)(e,W),a=Object(k.b)().t;return Object(T.jsxs)(z,Object(O.a)(Object(O.a)({},c),{},{children:[Object(T.jsxs)(m.Q,{flexWrap:"wrap",children:[Object(T.jsxs)(m.q,{mr:"48px",children:[Object(T.jsx)(m.Kb,{fontSize:"14px",color:"textSubtle",children:a("Total volume")}),t?Object(T.jsx)(m.Kb,{fontSize:"30px",bold:!0,children:t}):Object(T.jsx)(m.Eb,{width:80,height:24})]}),Object(T.jsxs)(m.q,{children:[Object(T.jsxs)(m.Kb,{fontSize:"14px",color:"textSubtle",children:[a("Current volume"),"(",a("In pool"),")"]}),n?Object(T.jsx)(m.Kb,{fontSize:"30px",bold:!0,children:n}):Object(T.jsx)(m.Eb,{width:80,height:24})]})]}),Object(T.jsxs)(m.Kb,{fontSize:"14px",mt:"16px",color:"textSubtle",children:["* ",a("After the withdrawal of your rewards, you will lose the transaction mining weight")]})]}))},U=n(3),E=n.n(U),G=n(9),M=n(12),_=n(405),B=n(67),H=n(214),V=n(98),Y=n(163),$=n(56),J=function(){var e=Object($.u)();return{onReward:Object(h.useCallback)(Object(G.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Y.k)(e);case 2:case"end":return t.stop()}}),t)}))),[e])}},I=["isLoading","bounty","account"],X=Object(w.e)(m.v)(a||(a=Object(x.a)(["\n  width: 400px;\n  /* height: 157px;. */\n  padding: 24px;\n  padding-top: 18px;\n  margin-bottom: 32px;\n  background: ",";\n  filter: ",";\n  background-repeat: no-repeat;\n  background-image: url('/images/home/27.png');\n  background-size: 136px;\n  background-position: bottom right;\n"])),(function(e){return e.theme.colors.backgroundPrimary}),(function(e){return e.theme.filter.brightness})),Z=function(e){var t=e.isLoading,n=e.bounty,c=e.account,a=Object(C.a)(e,I),r=Object(k.b)().t,o=(J().onReward,function(){var e=Object($.u)();return{onReward:Object(h.useCallback)(Object(G.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(Y.l)(e));case 1:case"end":return t.stop()}}),t)}))),[e])}}().onReward),i=Object(m.Xb)(),s=Object(M.a)(i,2),b=s[0],l=s[1],j=Object(h.useState)(!1),d=Object(M.a)(j,2),u=d[0],x=d[1],p=Object(B.b)(),w=Object(V.a)(),f=w.toastSuccess,g=w.toastError;return Object(T.jsxs)(X,Object(O.a)(Object(O.a)({},a),{},{children:[Object(T.jsx)(m.q,{children:Object(T.jsx)(_.a,{isLoading:t,fontColor:"white",cakePriceUsd:n,isBalance:!0,dollar:!1,tokenLable:"".concat(r("Your withdrawable rewards")," DSG"),scale:"sm"})}),Object(T.jsx)(m.q,{mt:"12px",children:Object(T.jsx)(m.r,{disabled:u||t||!n,scale:"ld",onClick:Object(G.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,o();case 4:return t=e.sent,b(),e.next=8,t.wait();case 8:f("".concat(r("Harvested"),"!"),r("Your %symbol% earnings have been sent to your wallet!",{symbol:"DSG"})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),g(r("Error"),r("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 15:return e.prev=15,l(),x(!1),e.finish(15);case 19:p(Object(H.d)(c));case 20:case"end":return e.stop()}}),e,null,[[1,11,15,19]])}))),children:r("Harvest")})})]}))},ee=Object(w.e)(m.Q)(r||(r=Object(x.a)(["\n  /* height: 157px; */\n"]))),te=function(e){var t=e.userData,n=e.totalAllocPoint,c=e.totalQuantityAllocPoint,a=e.account,r=new q.a(t.pendingRewards),o=n?new q.a(n):P.c,i=c?new q.a(c):P.c,s=Object(D.f)(r).toNumber(),b=o.eq(0)?null:Object(D.f)(o).toFixed(3),l=i.eq(0)?null:Object(D.f)(i).toFixed(3);return Object(T.jsxs)(ee,{flexWrap:"wrap",justifyContent:"space-between",children:[Object(T.jsx)(F,{allQuantity:l,allVolume:b}),Object(T.jsx)(Z,{account:a,isLoading:t.isLoading,bounty:s})]})},ne=n(110),ce=n(409),ae=n(52),re=Object(w.e)(m.Q)(o||(o=Object(x.a)(["\n  svg {\n    margin-right: 4px;\n  }\n"]))),oe=function(e){var t=e.lpLabel,n=e.symbol,c=e.quoteAddress,a=e.address,r=e.apr,o=e.quoteSymbol,i=Object(k.b)().t,s=Object(ae.h)(a),b=Object(ae.h)(c),l=Object(D.a)(Number(r));return Object(T.jsxs)(re,{justifyContent:"space-between",mb:"12px",children:[Object(T.jsx)(m.Q,{minWidth:"50px",children:Object(T.jsx)(ce.b,{variant:"inverted",primarySymbol:n,secondarySymbol:o,primaryToken:s,secondaryToken:b,width:55,height:55})}),Object(T.jsxs)(m.Q,{flex:"1",flexDirection:"column",children:[Object(T.jsxs)(m.Q,{justifyContent:"space-between",flex:"1",children:[Object(T.jsx)(m.T,{ml:"12px",mb:"4px",children:t}),Object(T.jsx)(m.Kb,{color:"textSubtle",textAlign:"right",children:i("APY")})]}),Object(T.jsx)(m.Q,{justifyContent:"flex-end",children:r?Object(T.jsx)(m.Kb,{color:"textPrimary",fontSize:"24px",children:"".concat(l,"%")}):Object(T.jsx)(m.Eb,{width:80,height:24})})]})]})},ie=w.e.div(i||(i=Object(x.a)(["\n  align-self: baseline;\n  background: ",";\n  border-radius: ",";\n  box-shadow: 0px 1px 4px rgba(25, 19, 38, 0.15);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 24px;\n  position: relative;\n"])),(function(e){return e.theme.card.background}),(function(e){return e.theme.radii.card})),se=Object(w.e)(m.Q)(s||(s=Object(x.a)(["\n  margin-top: 12px;\n  justify-content: space-between;\n"]))),be=Object(w.e)(m.Kb)(b||(b=Object(x.a)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.textSubtle})),le=w.e.div(l||(l=Object(x.a)(["\n  background-color: ",";\n  height: ","px;\n  margin: ",";\n  transition: 0.3s;\n  width: 100%;\n"])),(function(e){return e.theme.colors.cardBorder}),(function(e){return e.show?1:0}),(function(e){return e.show?"28px auto":"0 auto"})),je=Object(w.e)(m.q)(j||(j=Object(x.a)(["\n  height: ","px;\n  overflow: ",";\n  overflow: hidden;\n  transition: 0.3s;\n"])),(function(e){return e.show?138:0}),(function(e){return e.show?"visible":"hidden"})),de=function(e){var t=e.pool,n=e.account,c=e.userDataLoaded,a=Object(k.b)().t,r=t.userData||{},o=r.quantity,i=void 0===o?"0":o,s=r.accQuantity,b=void 0===s?"0":s,l=r.unclaimedRewards,j=void 0===l?"0":l,d=r.accRewardAmount,u=void 0===d?"0":d,O=Object(h.useMemo)((function(){var e=new q.a(i),t=new q.a(b),n=new q.a(j),c=new q.a(u),a=Object(D.j)(3);return{quantity:e.eq(0)?e.toFixed(3,q.a.ROUND_DOWN):e.isLessThan(a)?"< ".concat(Object(D.i)(a)):Object(D.i)(e,void 0,3),accQuantity:t.eq(0)?t.toFixed(3,q.a.ROUND_DOWN):t.isLessThan(a)?"< ".concat(Object(D.i)(a)):Object(D.i)(t,void 0,3),unclaimedRewards:Object(D.g)(n),accRewardAmount:c.eq(0)?c.toFixed(3,q.a.ROUND_DOWN):c.isLessThan(a)?"< ".concat(Object(D.i)(a)):Object(D.i)(c,void 0,3)}}),[i,b,j,u]);return Object(T.jsxs)(ie,{children:[Object(T.jsx)(oe,{lpLabel:"".concat(Object(ne.a)(t.token0)||t.symbol0,"/").concat(Object(ne.a)(t.token1)||t.symbol1),symbol:t.symbol0,quoteSymbol:t.symbol1,address:t.token0,quoteAddress:t.token1,apr:t.apr}),Object(T.jsxs)(se,{children:[Object(T.jsx)(be,{children:a("Rewards allocated")}),Object(T.jsxs)(m.Kb,{bold:!0,children:["$ ",t.dispalyRawAccRewardAmount]})]}),Object(T.jsxs)(se,{children:[Object(T.jsx)(be,{children:a("Total volume")}),Object(T.jsxs)(m.Kb,{bold:!0,children:["$ ",t.dispalyRawAccQuantity]})]}),Object(T.jsxs)(se,{children:[Object(T.jsx)(be,{children:a("Current volume")}),Object(T.jsxs)(m.Kb,{bold:!0,children:["$ ",t.dispalyRawQuantity]})]}),Object(T.jsx)(le,{show:!!n}),Object(T.jsxs)(je,{show:!!n,children:[Object(T.jsxs)(se,{children:[Object(T.jsxs)(m.q,{children:[Object(T.jsx)(be,{children:a("My total rewards")}),c?Object(T.jsxs)(m.Kb,{bold:!0,children:["DSG ",O.accRewardAmount]}):Object(T.jsx)(m.Eb,{width:80,height:24})]}),Object(T.jsxs)(m.q,{children:[Object(T.jsx)(be,{children:a("My volume")}),c?Object(T.jsx)(m.Kb,{textAlign:"right",color:"textPrimary",bold:!0,children:O.quantity}):Object(T.jsx)(m.Eb,{width:80,height:24})]})]}),Object(T.jsx)(m.q,{pl:"8px",children:Object(T.jsx)(_.a,{dollar:!1,formatLocal:6,isLoading:!c,cakePriceUsd:O.unclaimedRewards,suffix:"  DSG",tokenLable:a("My unclaimed rewards"),scale:"sm"})})]})]})},ue=Object(w.e)(N.a)(d||(d=Object(x.a)(["\n  padding-top: 32px;\n"]))),Oe=Object(w.e)(K.a)(u||(u=Object(x.a)(["\n  padding-top: 0;\n"]))),xe=function(){Object(Q.a)();var e=Object(p.c)().account,t=Object(R.a)().theme,n=Object(k.b)(),c=n.t,a=n.getHTML,r=Object(f.j)(),o=Object(Q.b)(e),i=o.pools,s=o.userData,b=o.userDataLoaded,l=o.totalAllocPoint,j=o.totalQuantityAllocPoint,d=o.poolDataLoaded,u=Object(h.useCallback)((function(e){return e.map((function(e){var t=e||{},n=t.quantity,c=void 0===n?"0":n,a=t.accQuantity,o=void 0===a?"":a,i=t.accRewardAmount,s=void 0===i?"0":i,b=t.rewardsPerBlock,l=void 0===b?"0":b,j=new q.a(c),d=new q.a(o),u=new q.a(s),x=new q.a(l),h=Object(D.f)(j).toFixed(3,q.a.ROUND_DOWN),p=Object(D.f)(d).toFixed(3,q.a.ROUND_DOWN),m=Object(D.f)(u).toFixed(3,q.a.ROUND_DOWN),w=Object(y.g)(j.times(v.s),r,x);return Object(O.a)(Object(O.a)({},e),{},{dispalyRawQuantity:h,dispalyRawAccQuantity:p,dispalyRawAccRewardAmount:m,apr:w})}))}),[r]),x=Object(h.useMemo)((function(){var e=u(i),t=Object(g.orderBy)(e,(function(e){return"".concat(e.symbol0,"/").concat(e.symbol1).includes("DSG")?10:1}),"desc");return Object(g.orderBy)(t,(function(e){return Number(e.apr)?10:1}),"desc")}),[i,u]);return Object(T.jsxs)(L.a,{index:2,width:"100%",background:"bgimage2",children:[Object(T.jsx)(ue,{children:Object(T.jsx)(te,{account:e,totalQuantityAllocPoint:j,totalAllocPoint:l,userData:s})}),Object(T.jsxs)(Oe,{children:[Object(T.jsxs)(m.Q,{mb:"18px",flexWrap:"wrap",children:[Object(T.jsx)(m.T,{mr:"36px",mb:"18px",children:c("Trading")}),Object(T.jsx)(m.Kb,{mb:"18px",children:a('All trading volume will mine DSG block output pro rata.Thus, the trading volume is similar to a "mining machine" which will be %distoried% when you harvest.',{distoried:'<span style="color: '.concat(t.colors.warning,'">').concat(c("distoried"),"</span>")})})]}),Object(T.jsx)(S.a,{children:x.map((function(t){return Object(T.jsx)(de,{account:e,userDataLoaded:b,pool:t},t.pid)}))}),d&&!x.length&&Object(T.jsx)(m.K,{}),!d&&Object(T.jsx)(m.Q,{justifyContent:"center",children:Object(T.jsx)(m.Hb,{})})]})]})}}}]);
//# sourceMappingURL=29.aefc00c7.chunk.js.map