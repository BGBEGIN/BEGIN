(this["webpackJsonpxxx-swap"]=this["webpackJsonpxxx-swap"]||[]).push([[34],{1354:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return wt}));var r,c,a,s,o=n(12),i=n(6),u=n(2),l=n.n(u),b=n(81),j=n(15),d=n.n(j),p=n(57),f=n(4),O=n(5),x=n(162),h=n(255),m=n(20),v=n(194),g=n(804),k=n(114),w=n(396),y=n(393),S=n(17),C=n(44),A=n(37),T=n(52),E=n(51),I=n(0),N=Object(O.e)(f.v)(r||(r=Object(i.a)(["\n  width: 100%;\n  /* margin: 32px 24px; */\n  padding: 24px 28px;\n  ","\n  /* "," */\n  padding-right: 0;\n"])),(function(e){return e.theme.mediaQueriesSize.margin}),(function(e){return e.theme.mediaQueriesSize.marginr})),D=Object(O.e)(f.Q)(c||(c=Object(i.a)(["\n  justify-content: space-between;\n  "," {\n    /* justify-content: flex-end; */\n    /* text-align: right; */\n  }\n"])),(function(e){return e.theme.mediaQueries.xl})),F=(Object(O.e)(f.Q)(a||(a=Object(i.a)(["\n  ","\n"])),(function(e){return e.theme.mediaQueriesSize.marginr})),function(e){var t=e.poolInfo,n=Object(m.b)().t,r=t.share,c=t.userPowerRate,a=t.poolTotalPowers;return Object(I.jsx)(f.Q,{mb:"16px",flex:"1",children:Object(I.jsx)(N,{children:Object(I.jsxs)(f.Q,{height:"100%",flexWrap:"wrap",justifyContent:"space-between",children:[Object(I.jsxs)(f.Q,{flex:"1",minWidth:"74%",flexDirection:"column",justifyContent:"space-between",children:[Object(I.jsxs)(f.Q,{alignItems:"center",children:[Object(I.jsxs)(f.T,{children:[n("My Power value"),"\uff1a"]}),r.isFinite()?Object(I.jsxs)(f.T,{color:"textPrimary",children:[" ",Object(E.d)(r.toNumber())]}):Object(I.jsx)(f.Eb,{width:120,height:24})]}),Object(I.jsxs)(f.Q,{flex:"1",mt:"8px",mr:"28px",minWidth:"240px",justifyContent:"space-between",alignItems:"center",children:[Object(I.jsxs)(f.q,{children:[Object(I.jsx)(f.Kb,{color:"textSubtle",fontSize:"14px",children:n("Power rate")}),c.isFinite()?Object(I.jsxs)(f.T,{color:"textPrimary",children:[c.times(100).toFixed(2),"%"]}):Object(I.jsx)(f.Eb,{width:120,height:24})]}),Object(I.jsxs)(f.q,{children:[Object(I.jsx)(f.Kb,{color:"textSubtle",fontSize:"14px",children:n("Current Total Power")}),r.isFinite()?Object(I.jsx)(f.T,{color:"textPrimary",children:Object(E.d)(a.toNumber())}):Object(I.jsx)(f.Eb,{width:120,height:24})]})]})]}),Object(I.jsxs)(D,{mr:"28px",flex:"1",alignItems:"flex-end",justifyContent:"space-between",flexWrap:"wrap",children:[Object(I.jsx)(f.r,{mt:"16px",as:f.fb,href:"".concat(C.d),scale:"ld",children:n("Buy NFT")}),Object(I.jsx)(f.r,{mt:"16px",as:f.fb,href:"".concat(C.e),scale:"ld",children:n("Exchange NFT")})]})]})})})}),Q=n(197),L=n(3),P=n.n(L),M=n(9),U=n(67),K=n(98),R=n(140),B=n(115),_=n(163),q=n(56),W=function(e){var t=e.poolInfo,n=e.account,r=Object(m.b)().t,c=Object(K.a)(),a=c.toastSuccess,s=c.toastError,i=Object(u.useState)(!1),l=Object(o.a)(i,2),b=l[0],j=l[1],d=Object(f.Xb)(),p=Object(o.a)(d,2),O=p[0],x=p[1],h=function(e){var t=Object(q.n)(e);return{onReward:Object(u.useCallback)(Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.p)(t);case 2:case"end":return e.stop()}}),e)}))),[t])}}(t.contractAddress).onReward,v=Object(U.b)(),g=t.earnings,k=n?g:A.c;return Object(I.jsx)(I.Fragment,{children:n?Object(I.jsx)(f.r,{disabled:k.eq(0)||b,onClick:Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),O(),e.prev=2,e.next=5,h();case 5:a("".concat(r("Harvested"),"!"),r("Your %symbol% earnings have been sent to your wallet!",{symbol:"BNB"})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),s(r("Error"),r("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 12:return e.prev=12,x(),j(!1),e.finish(12);case 16:v(Object(B.i)(n));case 17:case"end":return e.stop()}}),e,null,[[2,8,12,16]])}))),children:r("Harvest")}):Object(I.jsx)(R.a,{})})},z=Object(O.e)(f.v)(s||(s=Object(i.a)(["\n  width: 100%;\n  /* margin: 32px 24px; */\n  padding: 24px 28px;\n  ","\n"])),(function(e){return e.theme.mediaQueriesSize.margin})),G=function(e){var t=e.poolInfo,n=e.account,r=e.symbol,c=Object(m.b)().t,a=t.earnings,s=t.totalRewardTheDayLeft;return Object(I.jsx)(f.Q,{mb:"16px",flex:"1",children:Object(I.jsx)(z,{children:Object(I.jsxs)(f.Q,{height:"100%",justifyContent:"space-between",children:[Object(I.jsxs)(f.q,{children:[Object(I.jsxs)(f.T,{children:[c("Rewards to be distributed today"),"\uff1a"]}),Object(I.jsx)(f.Q,{mt:"8px",alignItems:"center",children:s.isFinite()?Object(I.jsx)(f.T,{children:Object(I.jsx)(Q.a,{fontSize:"inherit",bold:!0,color:"textPrimary",unit:r,value:Object(E.g)(s)})}):Object(I.jsx)(f.Eb,{mt:"8px",height:24,width:120})})]}),Object(I.jsxs)(f.Q,{alignItems:"flex-end",justifyContent:"space-between",flexDirection:"column",children:[Object(I.jsxs)(f.q,{children:[Object(I.jsx)(f.T,{textAlign:"right",children:c("My earnings")}),Object(I.jsx)(f.Q,{mt:"8px",mb:"8px",alignItems:"center",children:a.isFinite()?Object(I.jsx)(f.T,{children:Object(I.jsx)(Q.a,{fontSize:"inherit",bold:!0,color:"textPrimary",unit:r,value:Object(E.g)(a)})}):Object(I.jsx)(f.Eb,{mt:"8px",height:24,width:120})})]}),t.contractAddress&&Object(I.jsx)(W,{account:n,poolInfo:t})]})]})})})},H=new Date;H.setHours(10,0,0,0);var Y,V,X,Z,J,$,ee,te,ne,re,ce,ae=H.getTime(),se=function(e){var t=e.farm,n=e.account,r=e.isFinished,c=Object(T.g)((null===t||void 0===t?void 0:t.rewardToken)||Object(S.D)()),a=Object(S.D)(),s=c&&(null===a||void 0===a?void 0:a.toLowerCase())!==(null===c||void 0===c?void 0:c.address.toLowerCase())?c.symbol:r?"BNB":"WBNB",o=Object(u.useMemo)((function(){var e,n=(t||{}).contractAddress,c=(t||{}).rewardsPerBlock,a=(null===t||void 0===t?void 0:t.userData)||{},s=a.earnings,o=void 0===s?0:s,i=a.share,u=void 0===i?0:i,l=a.accRewardAmount_,b=void 0===l?0:l,j=(new Date).getTime(),p=(ae-j>0?ae-j:ae-j+C.q)/C.q;r&&(c=0);var f=C.k.times(c),O=f.times(p);O=O.isLessThan(0)?A.c:O;var x=new d.a((null===t||void 0===t||null===(e=t.poolInfo)||void 0===e?void 0:e.accShare_)||0),h=new d.a(u),m=new d.a(b),v=new d.a(o),g=x.eq(0)?A.c:h.isGreaterThanOrEqualTo(x)?A.a:h.div(x),k=f.times(g),w=k.div(c);return{totalRewardDay:f,contractAddress:n,poolTotalPowers:x,share:h,accRewardAmount:m,earnings:v,userPowerRate:g,userRewardDay:k,userRewardDayUsd:w,totalRewardTheDayLeft:O}}),[t,r]);return Object(I.jsxs)(f.Q,{flexWrap:"wrap",children:[Object(I.jsx)(G,{symbol:s,account:n,poolInfo:o}),Object(I.jsx)(F,{poolInfo:o})]})},oe=n(1),ie=n(41),ue=function(e){var t={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},n="",r=e;return Object.keys(t).forEach((function(e){for(;r>=t[e];)n+=e,r-=t[e]})),n},le=n(134),be=n(395),je=function(e){var t=Object(q.n)(e);return{onEnableSlot:Object(u.useCallback)(Object(M.a)(P.a.mark((function e(){var n,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.enableSlot();case 2:return n=e.sent,e.next=5,n.wait();case 5:return r=e.sent,e.abrupt("return",r.status);case 7:case"end":return e.stop()}}),e)}))),[t])}},de=function(e){var t=Object(q.n)(e);return{onUnstake:Object(u.useCallback)(Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.B)(t);case 2:case"end":return e.stop()}}),e)}))),[t])}},pe=n(259),fe=n(232),Oe=Object(O.e)(f.Q)(Y||(Y=Object(i.a)(["\n  /* width: 162px;\n  height: 321px; */\n  width: ","px;\n  height: ","px;\n  justify-content: center;\n  align-items: center;\n  box-shadow: ",";\n  background: ",";\n  border-radius: 10px;\n  overflow: hidden;\n"])),fe.b[fe.c.LM].width,fe.b[fe.c.LM].height,(function(e){return e.theme.shadows.inset}),(function(e){return e.theme.colors.background})),xe=function(e){e.hasNft;var t=e.lock,n=(e.level,e.src,e.id,e.onClick);return Object(I.jsx)(Oe,{onClick:n,children:t?Object(I.jsx)(f.jb,{color:"textPrimary",height:44}):Object(I.jsx)(f.a,{height:44})})},he=n(132),me=Object(O.e)(f.Y)(V||(V=Object(i.a)(["\n  padding: 0;\n  margin: 0;\n"]))),ve=Object(O.e)(f.Q)(X||(X=Object(i.a)(["\n  position: relative;\n  overflow: hidden;\n  border-radius: ",";\n  &:hover .overlay {\n    opacity: 0.65;\n  }\n  &:hover .handle-btn {\n    opacity: 1;\n  }\n"])),(function(e){return e.theme.radii.nftImage})),ge=Object(O.e)(f.q)(Z||(Z=Object(i.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 10;\n  transition: 0.3s;\n"]))),ke=Object(O.e)(ge)(J||(J=Object(i.a)(["\n  opacity: 0;\n  background: ",";\n"])),(function(e){return e.theme.colors.overlay})),we=Object(O.e)(ge)($||($=Object(i.a)(["\n  opacity: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]))),ye=function(e){var t=e.lock,n=e.isStake,r=e.nftInfoSlots,c=e.onClick,a=void 0===c?function(){}:c,s=e.handling,o=Object(m.b)().t,i=Object(u.useMemo)((function(){var e;if(!r)return null;var t={};return null===r||void 0===r||null===(e=r.nftsInfo)||void 0===e||e.forEach((function(e,n){e.properties.level?t[e.properties.level]=e:t[n+1]=e})),t}),[r]);return Object(I.jsx)(f.Q,{flex:"1",minWidth:"64%",padding:"0 4px",flexWrap:"wrap",alignItems:"center",justifyContent:"space-around",children:Object(I.jsx)(pe.a,{children:[1,2,3,4,5,6].map((function(e){return Object(I.jsxs)(ve,{ml:"2px",mr:"2px",mb:"16px",flexDirection:"column",alignItems:"center",justifyContent:"center",children:[s?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(ke,{className:"overlay"}),Object(I.jsx)(we,{className:"handle-btn",children:Object(I.jsx)(f.r,{onClick:function(){return a(e)},children:o("Replace NFT")})})]}):null,Object(I.jsx)(me,{onClick:function(){i&&i[e]&&n||a(e)},children:i&&i[e]?Object(I.jsx)(he.c,{scale:"lm",id:i[e].properties.token_id,name:i[e].name,nft:i[e].properties.token,power:i[e].properties.power,src:i[e].image,level:i[e].properties.level}):Object(I.jsx)(xe,{lock:t})})]},e)}))})})},Se=n(195),Ce=n(929),Ae=function(e){var t=e.onConfirm,n=e.onDismiss,r=(e.onChange,e.nfts),c=e.currentLevel,a=Object(u.useState)([]),s=Object(o.a)(a,2),i=s[0],l=s[1],b=Object(m.b)().t,j=Object(u.useCallback)((function(e){l(e)}),[l]);return Object(I.jsxs)(f.pb,{title:b("Adding NFT"),onDismiss:n,children:[Object(I.jsx)(Ce.a,{nfts:r,maxSelect:1,onChange:j,children:Object(I.jsxs)(f.Kb,{children:[b("Select level")," ",Object(I.jsxs)(f.Kb,{as:"span",color:"textPrimary",children:["LV ",c]})]})}),Object(I.jsxs)(f.q,{maxWidth:"432px",children:[Object(I.jsxs)(f.Kb,{color:"textSubtle",fontSize:"14px",children:["* ",b("Each farm pool can only unlock the NFT card slot n times")]}),Object(I.jsxs)(f.Kb,{color:"textSubtle",fontSize:"14px",children:["* ",b("After unlocking the NFT card slot, collect level 1-6 dividend NFT and insert the card slot to obtain 5 times Power bonus")]})]}),Object(I.jsxs)(Se.a,{children:[Object(I.jsx)(f.r,{variant:"secondary",onClick:n,width:"100%",children:b("Cancel")}),Object(I.jsx)(f.r,{disabled:!i.length,onClick:Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(i),n();case 2:case"end":return e.stop()}}),e)}))),width:"100%",children:b("Confirm")})]})]})},Te=n(803),Ee=n(848),Ie=function(e){var t=e.onConfirm,n=e.onDismiss,r=(e.total,e.value),c=e.symbol,a=void 0===c?"DSG":c,s=Object(u.useState)(""),i=Object(o.a)(s,2),l=(i[0],i[1],Object(K.a)()),b=l.toastSuccess,j=l.toastError,d=Object(u.useState)(!1),p=Object(o.a)(d,2),O=p[0],x=p[1],h=Object(m.b)().t,v=Object(Te.c)(),g=v.balance,k=v.fetchStatus===Te.a.SUCCESS&&g.isLessThan(r);return Object(I.jsxs)(f.pb,{minWidth:"370px",maxWidth:"420px",title:h("Buy slot"),onDismiss:n,children:[Object(I.jsx)(f.cb,{mt:"8px",isWarning:k,warning:Object(I.jsx)(Ee.a,{address:Object(S.e)(),symbol:"DSG"}),children:Object(I.jsxs)(f.Q,{mt:"8px",justifyContent:"space-between",children:[Object(I.jsx)(f.Kb,{children:h("Price")}),Object(I.jsxs)(f.Kb,{bold:!0,children:[Object(I.jsxs)(f.Kb,{as:"span",fontSize:"20px",children:[Object(E.i)(r)," "]}),a]})]})}),Object(I.jsxs)(Se.a,{children:[Object(I.jsx)(f.r,{variant:"secondary",onClick:n,width:"100%",disabled:O,children:h("Cancel")}),Object(I.jsx)(f.r,{disabled:O||k,onClick:Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,t();case 4:b(h("UnLock!"),h("Your can stake NFT in this slot")),n(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),j(h("Error"),h("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 12:return e.prev=12,x(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])}))),width:"100%",children:h(O?"Confirming":"Confirm")})]})]})},Ne=n(26),De=["slotAdditionRate","onUnStake","onHandle","handling","onSave","onCancel","onClose","isStake","lock","onConfirm","nftInfoSlots","onClick"],Fe=Object(O.e)(f.v)(ee||(ee=Object(i.a)(["\n  width: 125px;\n  height: 100px;\n  text-align: center;\n  padding: 32px 0;\n"]))),Qe=function(e){var t=e.slotAdditionRate,n=e.onUnStake,r=e.onHandle,c=e.handling,a=e.onSave,s=e.onCancel,i=(e.onClose,e.isStake),l=e.lock,b=e.onConfirm,j=e.nftInfoSlots,p=e.onClick,O=Object(Ne.a)(e,De),x=Object(m.b)().t,h=Object(K.a)(),v=h.toastSuccess,g=h.toastError,k=Object(u.useState)(!1),w=Object(o.a)(k,2),y=w[0],S=w[1],C=Object(u.useMemo)((function(){return!!j&&6===j.nftsInfo.length}),[j]),A=Object(u.useMemo)((function(){return C?new d.a(t).div(100).toFixed(2):0}),[C,t]);return Object(I.jsxs)(f.Q,Object(oe.a)(Object(oe.a)({},O),{},{children:[Object(I.jsxs)(Fe,{children:[Object(I.jsx)(f.Kb,{children:x("Power bonus")}),Object(I.jsxs)(f.Kb,{bold:!0,color:"textPrimary",children:[A,"%"]})]}),Object(I.jsxs)(f.q,{children:[l?Object(I.jsx)(f.r,{onClick:p,scale:"ld",children:x("Unlock slot")}):i?Object(I.jsxs)(I.Fragment,{children:[c?Object(I.jsx)(f.r,{variant:"orange",onClick:s,scale:"ld",mt:"16px",children:x("Cancel")}):Object(I.jsx)(f.r,{disabled:y,variant:"orange",onClick:Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,n();case 4:v(x("Unstaked!"),x("Your earnings have also been harvested to your wallet")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),g(x("Error"),x("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 11:return e.prev=11,S(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,7,11,14]])}))),scale:"ld",children:x("Unstake")}),Object(I.jsx)("br",{}),c?Object(I.jsx)(f.r,{onClick:Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,a();case 4:v(x("Replaced!"),x("Your funds have been staked in the farm")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),g(x("Error"),x("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 11:return e.prev=11,S(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,7,11,14]])}))),scale:"ld",mt:"16px",children:x("Save")}):Object(I.jsx)(f.r,{onClick:r,scale:"ld",mt:"16px",children:x("Slot edit")})]}):Object(I.jsx)(f.r,{onClick:Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,b();case 4:v(x("Staked!"),x("Your funds have been staked in the farm")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),g(x("Error"),x("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 11:return e.prev=11,S(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,7,11,14]])}))),disabled:!C||y,scale:"ld",children:x("Stake")}),Object(I.jsx)("br",{})]})]}))},Le=["tips","children"],Pe=Object(O.e)(f.v)(te||(te=Object(i.a)(["\n  position: relative;\n  padding-top: 24px;\n"]))),Me=Object(O.e)(f.v)(ne||(ne=Object(i.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  border-radius: ",";\n  background: ",";\n  width: 166px;\n  height: 56px;\n  line-height: 56px;\n"])),(function(e){var t=e.theme;return"".concat(t.radii.card," 0 ").concat(t.radii.card," 0")}),(function(e){return e.theme.colors.primary})),Ue=function(e){var t=e.tips,n=e.children,r=Object(Ne.a)(e,Le);return Object(I.jsxs)(Pe,Object(oe.a)(Object(oe.a)({},r),{},{children:[Object(I.jsx)(Me,{children:Object(I.jsx)(f.Kb,{lineHeight:"inherit",color:"white",fontSize:"18px",bold:!0,textAlign:"center",children:t})}),n]}))},Ke=Object(O.e)(Qe)(re||(re=Object(i.a)(["\n  ","  \n  margin-top: 66px;\n  align-items: center;\n  flex-direction: row;\n  justify-content: space-around;\n  flex-wrap: wrap;\n  flex: 1;\n  "," {\n    height: 226px;\n    flex-wrap: wrap;\n  }\n  "," {\n    flex-wrap: nowrap;\n  }\n  "," {\n    justify-content: space-between;\n    height: 226px;\n    flex: 0;\n    flex-direction: column;\n  }\n"])),(function(e){return e.theme.mediaQueriesSize.padding}),(function(e){return e.theme.mediaQueries.xxs}),(function(e){return e.theme.mediaQueries.xs}),(function(e){return e.theme.mediaQueries.sm})),Re=function(e){e.open;var t=e.farm,n=e.userNfts,r=(e.onClose,Object(m.b)().t),c=Object(U.b)(),a=Object(p.c)().account,s=Object(u.useState)(null),i=Object(o.a)(s,2),l=(i[0],i[1],Object(u.useState)(null)),b=Object(o.a)(l,2),j=b[0],O=b[1],x=Object(u.useState)([]),h=Object(o.a)(x,2),v=h[0],k=h[1],w=Object(u.useState)(null),y=Object(o.a)(w,2),S=y[0],C=y[1],A=Object(u.useState)([]),T=Object(o.a)(A,2),E=T[0],N=T[1];Object(g.f)();var D=t||{},F=D.slotsNftsInfo,Q=void 0===F?[]:F,L=D.enableSlotFee,K=void 0===L?"0":L,R=D.slotAdditionRate,W=void 0===R?"0":R,z=D.contractAddress,G=Object(u.useState)([]),H=Object(o.a)(G,2),Y=H[0],V=H[1],X=((null===t||void 0===t?void 0:t.userData)||{}).slots,Z=void 0===X?[]:X;Object(u.useEffect)((function(){Q.length!==Y.length&&V(Object(ie.a)(Q))}),[Q,Y,V]);var J=Q.map((function(e){return 6===e.nftsInfo.length&&Number(e.index)})),$=Object(u.useCallback)((function(e){return Y.find((function(t){return Number(t.index)===e}))||{index:e,nftsInfo:[]}}),[Y]),ee=new d.a(K),te=new d.a(W),ne=je(z).onEnableSlot,re=function(e){var t=Object(q.n)(e);return{onStake:Object(u.useCallback)(function(){var e=Object(M.a)(P.a.mark((function e(n,r){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.w)(t,n,r);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t])}}(z).onStake,ce=function(e){var t=Object(q.n)(e);return{onUnstake:Object(u.useCallback)(function(){var e=Object(M.a)(P.a.mark((function e(n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.F)(t,n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t])}}(z).onUnstake,ae=function(e){var t=Object(q.n)(e);return{onReplaceStake:Object(u.useCallback)(function(){var e=Object(M.a)(P.a.mark((function e(n,r){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.s)(t,n,r);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t])}}(z).onReplaceStake,se=Object(u.useCallback)((function(e){var t=Y.map((function(t){if(Number(t.index)===S){var n=t.nftsInfo.filter((function(e){return Number(e.properties.level)!==j})),r=[].concat(Object(ie.a)(n),[e[0]]);return Object(oe.a)(Object(oe.a)({},t),{},{nftsInfo:r})}return t}));V(t)}),[S,j,Y,V]),de=Object(u.useMemo)((function(){var e=[];return Y.forEach((function(t){t.nftsInfo.length&&t.nftsInfo.forEach((function(t){e=[].concat(Object(ie.a)(e),[t.properties.token_id])}))})),n.filter((function(t){return!e.includes(t.properties.token_id)}))}),[Y,n]),pe=Object(u.useCallback)(Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne();case 2:c(Object(B.h)(a)),c(Object(B.i)(a));case 4:case"end":return e.stop()}}),e)}))),[ne,c,a]),fe=Object(f.Zb)(Object(I.jsx)(Ae,{nfts:E,currentLevel:j,onConfirm:se}),!0,!0,"selectSlotsNftsModal"),Oe=Object(o.a)(fe,1)[0],xe=Object(f.Zb)(Object(I.jsx)(Ie,{value:ee,onConfirm:pe})),he=Object(o.a)(xe,1)[0],me=Object(u.useCallback)((function(e,t,n){if(e)he();else{if(n){O(n),C(t);var r=de.filter((function(e){return Number(e.properties.level)===n}));N(r)}Oe()}}),[he,Oe,N,de]),ve=Object(u.useCallback)(function(){var e=Object(M.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(t);case 2:c(Object(be.d)(a)),c(Object(B.i)(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,c,ce]),ge=Object(u.useCallback)(function(){var e=Object(M.a)(P.a.mark((function e(t){var n,r,s,o=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:[],r=Object(le.orderBy)(n,(function(e){return Number(e.properties.level)})),s=r.map((function(e){return e.properties.token_id})),e.next=5,re(t,s);case 5:c(Object(be.d)(a)),c(Object(B.i)(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,c,re]),ke=Object(u.useCallback)(function(){var e=Object(M.a)(P.a.mark((function e(t){var n,r,s,o=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:[],r=Object(le.orderBy)(n,(function(e){return Number(e.properties.level)})),s=r.map((function(e){return e.properties.token_id})),e.next=5,ae(t,s);case 5:c(Object(be.d)(a)),c(Object(B.i)(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,c,ae]),we=Object(u.useCallback)((function(e){var t=Object(ie.a)(v);t[e]=!t[e],k(t)}),[v,k]),Se=Object(u.useCallback)((function(e){V(Q),we(e)}),[V,Q,we]);return Object(I.jsx)(I.Fragment,{children:function(){var e=Z.length;return Array.from(new Array(e)).map((function(t,n){return function(e,t){var n=$(e);return Object(I.jsx)(Ue,{mb:"16px",tips:"".concat(r("Slot")," ").concat(ue(e+1)),children:Object(I.jsxs)(f.Q,{flexWrap:"wrap",children:[Object(I.jsx)(Ke,{isStake:J.includes(e),nftInfoSlots:n,lock:t,slotAdditionRate:te,handling:v[e],onHandle:function(){return we(e)},onCancel:function(){return Se(e)},onSave:function(){return ke(e,null===n||void 0===n?void 0:n.nftsInfo)},onUnStake:function(){return ve(e)},onClick:function(){return me(t,e)},onConfirm:function(){return ge(e,null===n||void 0===n?void 0:n.nftsInfo)}}),Object(I.jsx)(f.Q,{minWidth:"65%",mt:"66px",flex:"1",children:Object(I.jsx)(ye,{nftInfoSlots:n,isLevel:!0,isStake:J.includes(e),handling:v[e],lock:t,onClick:function(n){return me(t,e,n)}})})]})},e)}(n,n===e)}))}()})},Be=l.a.memo(Re),_e=["contractAddress","enableSlotFee","account"],qe=function(e){var t=e.contractAddress,n=e.enableSlotFee,r=e.account,c=Object(Ne.a)(e,_e),a=Object(U.b)(),s=Object(m.b)().t,i=je(t).onEnableSlot,l=Object(u.useCallback)(Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:a(Object(B.h)(r)),a(Object(B.i)(r));case 4:case"end":return e.stop()}}),e)}))),[i,a,r]),b=Object(f.Zb)(Object(I.jsx)(Ie,{value:n,onConfirm:l})),j=Object(o.a)(b,1)[0];return Object(I.jsx)(f.r,Object(oe.a)(Object(oe.a)({},c),{},{onClick:j,children:s("Buy slot")}))},We=function(){var e=Object(u.useRef)(null),t=Object(u.useState)(!1),n=Object(o.a)(t,2),r=n[0],c=n[1],a=Object(u.useState)(!1),s=Object(o.a)(a,2),i=s[0],l=s[1];return Object(u.useEffect)((function(){r||(new IntersectionObserver((function(e){var t=Object(o.a)(e,1)[0];l(t.isIntersecting)}),{rootMargin:"0px",threshold:1}).observe(e.current),c(!0))}),[r]),{observerRef:e,isIntersecting:i}},ze=n(130),Ge=n(96);!function(e){e[e.NFT=0]="NFT",e[e.DSG=1]="DSG"}(ce||(ce={}));var He,Ye,Ve,Xe=function(e){var t=e.account,n=e.nft,r=e.contractAddress,c=Object(m.b)().t,a=Object(K.a)(),s=a.toastSuccess,i=a.toastError,l=Object(u.useState)(!1),b=Object(o.a)(l,2),j=b[0],d=b[1],p=Object(U.b)(),O=function(e,t){var n=Object(q.b)(t),r=Object(q.n)(e);return{onApprove:Object(u.useCallback)(Object(M.a)(P.a.mark((function e(){var t,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.setApprovalForAll(r.address,!0);case 3:return t=e.sent,e.next=6,t.wait();case 6:return c=e.sent,e.abrupt("return",c.status);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[n,r])}}(r,n).onApprove,x=Object(u.useCallback)(Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:p(Object(B.i)(t)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),[O,p,t]);return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(f.r,{margin:"16px",scale:"ld",disabled:j,onClick:Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,x();case 4:s(c("Successfully Enabled!")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),i(c("Error"),c("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 11:return e.prev=11,d(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,7,11,14]])}))),children:j?Object(I.jsx)(ze.a,{children:c("Enabling %asset%",{asset:"NFT"})}):c("Enable %asset%",{asset:"NFT"})})})},Ze=Object(O.e)(f.q)(He||(He=Object(i.a)(["\n  padding: 36px 0 28px 0;\n  text-align: center;\n"]))),Je=function(e){var t=e.account,n=e.nft,r=e.contractAddress,c=Object(m.b)().t;return Object(I.jsx)(Ue,{tips:c("Enable"),children:Object(I.jsxs)(Ze,{children:[Object(I.jsx)(f.Kb,{margin:"auto",width:"61.8%",children:c("After collecting level 1-6 Money-hungry Dino NFT and inserting it into the slot, you can get 5 times of Power bonus")}),t?Object(I.jsx)(Xe,{account:t,nft:n,contractAddress:r}):Object(I.jsx)(R.a,{})]})})},$e=["onClick","children","type"],et=function(e){var t=e.onClick,n=e.children,r=e.type,c=Object(Ne.a)(e,$e),a=Object(m.b)().t,s=Object(K.a)(),i=s.toastSuccess,l=s.toastError,b=Object(u.useState)(!1),j=Object(o.a)(b,2),d=j[0],p=j[1];return Object(I.jsx)(f.r,Object(oe.a)(Object(oe.a)({},c),{},{disabled:d,scale:"ld",onClick:Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,t();case 4:"Stake"===r?i("".concat(a("Staked"),"!"),a("Your Money-hungry Dino have been staken !")):i("".concat(a("Unstaked"),"!"),a("Your %symbol% earnings have also been harvested to your wallet!",{symbol:"BNB"})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),l(a("Error"),a("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 11:return e.prev=11,p(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,7,11,14]])}))),children:d?Object(I.jsx)(ze.a,{children:n}):n}))};!function(e){e[e.STAKE=0]="STAKE",e[e.UNSTAKE=1]="UNSTAKE",e[e.UNSTAKE_ALL=2]="UNSTAKE_ALL"}(Ve||(Ve={}));var tt,nt=Object(O.e)(f.q)(Ye||(Ye=Object(i.a)(["\n  text-align: center;\n  margin-bottom: 32px;\n"]))),rt=function(e){var t=e.nftToken,n=e.stakeNfts,r=e.contractAddress,c=e.userNfts,a=e.account,s=e.isApproved,i=Object(m.b)().t,l=Object(U.b)(),b=(Object(u.useMemo)((function(){var e=n.map((function(e){return"".concat(e.properties.token_id,"_").concat(e.properties.token)}));return c.filter((function(t){return!e.includes("".concat(t.properties.token_id,"_").concat(t.properties.token))}))}),[c,n]),function(e){var t=Object(q.n)(e);return{onStake:Object(u.useCallback)(function(){var e=Object(M.a)(P.a.mark((function e(n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.v)(t,n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t])}}(r).onStake),j=function(e){var t=Object(q.n)(e);return{onUnstake:Object(u.useCallback)(function(){var e=Object(M.a)(P.a.mark((function e(n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.E)(t,n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t])}}(r).onUnstake,d=de(r).onUnstake,p=Object(u.useCallback)(function(){var e=Object(M.a)(P.a.mark((function e(t,n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==Ve.STAKE){e.next=5;break}return e.next=3,b(n);case 3:e.next=13;break;case 5:if(t!==Ve.UNSTAKE_ALL){e.next=10;break}return e.next=8,d();case 8:e.next=13;break;case 10:if(t!==Ve.UNSTAKE){e.next=13;break}return e.next=13,j(n);case 13:l(Object(B.h)(a)),l(Object(be.d)(a));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[b,d,j,a,l]),O=Object(u.useState)(8),x=Object(o.a)(O,2),h=x[0],v=x[1],g=Object(u.useState)(0),k=Object(o.a)(g,2),w=k[0],y=k[1],S=Object(u.useMemo)((function(){return n.slice(0,h)}),[n,h]),C=Object(u.useMemo)((function(){return c.slice(0,w)}),[c,w]),A=Object(u.useRef)(0);A.current=S.length;var T=Object(u.useRef)(0);T.current=C.length;var E=We(),N=E.observerRef,D=E.isIntersecting;return Object(u.useEffect)((function(){D&&v((function(e){return e<=A.current?e+8:e}))}),[D]),Object(u.useEffect)((function(){D&&h>n.length&&y((function(e){return e<=T.current?e+8:e}))}),[D,h,n.length]),Object(I.jsxs)(f.q,{children:[!s&&Object(I.jsx)(Je,{account:a,nft:t,contractAddress:r}),s&&Object(I.jsx)(f.Q,{flexWrap:"wrap",alignItems:"center",justifyContent:"space-around",children:Object(I.jsxs)(pe.a,{children:[S.map((function(e){return Object(I.jsxs)(nt,{children:[Object(I.jsx)(he.b,{nft:{scale:"md",src:e.image,id:e.properties.token_id,nft:e.properties.token,name:e.name,level:e.properties.level,power:e.properties.power}}),Object(I.jsx)(et,{mt:"16px",type:"Unstake",onClick:function(){return p(Ve.UNSTAKE,e.properties.token_id)},children:i("Unstake")})]},"".concat(e.key))})),C.map((function(e){return Object(I.jsxs)(nt,{children:[Object(I.jsx)(he.b,{nft:{grayscale:!0,scale:"md",src:e.image,nft:e.properties.token,name:e.name,id:e.properties.token_id,level:e.properties.level,power:e.properties.power}}),Object(I.jsx)(et,{mt:"16px",type:"Stake",onClick:function(){return p(Ve.STAKE,e.properties.token_id)},children:i("Stake")})]},"".concat(e.key))}))]})}),Object(I.jsx)("div",{ref:N})]})},ct=["contractAddress","account"],at=function(e){var t=e.contractAddress,n=e.account,r=Object(Ne.a)(e,ct),c=Object(U.b)(),a=Object(m.b)().t,s=Object(K.a)(),i=s.toastSuccess,l=s.toastError,b=de(t).onUnstake,j=Object(u.useState)(!1),d=Object(o.a)(j,2),p=d[0],O=d[1];return Object(I.jsx)(f.r,Object(oe.a)(Object(oe.a)({},r),{},{disabled:p,onClick:Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,b();case 4:i("".concat(a("Unstaked"),"!"),a("Your %symbol% earnings have also been harvested to your wallet!",{symbol:"BNB"})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),l(a("Error"),a("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 11:return e.prev=11,c(Object(B.i)(n)),c(Object(be.d)(n)),O(!1),e.finish(11);case 16:case"end":return e.stop()}}),e,null,[[1,7,11,16]])}))),children:p?Object(I.jsx)(ze.a,{children:a("Unstake all")}):a("Unstake all")}))};!function(e){e[e.NFT=0]="NFT",e[e.DSG=1]="DSG"}(tt||(tt={}));var st,ot,it,ut=function(e){var t=e.account,n=e.contractAddress,r=Object(m.b)().t,c=Object(K.a)(),a=c.toastSuccess,s=c.toastError,i=Object(u.useState)(!1),l=Object(o.a)(i,2),b=l[0],j=l[1],d=Object(U.b)(),p=function(e,t){var n=Object(q.n)(e);return{onApprove:Object(u.useCallback)(Object(M.a)(P.a.mark((function e(){var r,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.approve(n.address,Ge.a.constants.MaxUint256);case 3:return r=e.sent,e.next=6,r.wait();case 6:return c=e.sent,e.abrupt("return",c.status);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[t,n])}}(n,Object(q.f)(Object(S.e)())).onApprove,O=Object(u.useCallback)(Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p();case 3:d(Object(B.i)(t)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),[p,d,t]);return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(f.r,{scale:"ld",margin:"16px",disabled:b,onClick:Object(M.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,O();case 4:a(r("Successfully Enabled!")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),s(r("Error"),r("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 11:return e.prev=11,j(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,7,11,14]])}))),children:b?Object(I.jsx)(ze.a,{children:r("Enabling %asset%",{asset:"DSG"})}):r("Enable %asset%",{asset:"DSG"})})})};!function(e){e[e.NFT=0]="NFT",e[e.DSG=1]="DSG"}(it||(it={}));O.e.div(st||(st=Object(i.a)(["\n  padding-top: 16px;\n"])));var lt,bt,jt,dt,pt,ft,Ot,xt=Object(O.e)(f.q)(ot||(ot=Object(i.a)(["\n  padding: 36px 0 28px 0;\n  text-align: center;\n"]))),ht=function(e){var t=e.account,n=e.isApproved,r=e.isDsgApproved,c=e.contractAddress,a=e.nft,s=Object(m.b)().t;return Object(I.jsx)(Ue,{tips:s("Enable"),children:Object(I.jsxs)(xt,{children:[Object(I.jsx)(f.Kb,{margin:"auto",width:"61.8%",children:s("After collecting level 1-6 Money-hungry Dino NFT and inserting it into the slot, you can get 5 times of Power bonus")}),t?Object(I.jsxs)(f.Q,{alignItems:"center",justifyContent:"center",children:[!n&&Object(I.jsx)(Xe,{account:t,nft:a,contractAddress:c}),!r&&Object(I.jsx)(ut,{account:t,contractAddress:c})]}):Object(I.jsx)(R.a,{})]})})},mt=n(63),vt=function(){var e,t=Object(b.i)().url,n=Object(b.h)(),r=Object(m.b)().t;switch(n.pathname){case"/nftfarm":e=0;break;case"/nftfarm/v1":e=1;break;default:e=-1}return Object(I.jsx)(I.Fragment,{children:-1===e?null:Object(I.jsx)(gt,{children:Object(I.jsxs)(f.s,{activeIndex:e,scale:"md",variant:"primary",children:[Object(I.jsx)(f.t,{as:mt.a,to:"".concat(t),children:r("V2")}),Object(I.jsx)(f.t,{as:mt.a,to:"".concat(t,"/v1"),children:r("V1(Old)")})]})})})},gt=O.e.div(lt||(lt=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  a {\n    padding-left: 12px;\n    padding-right: 12px;\n  }\n\n  "," {\n    margin-left: 16px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),kt=Object(O.e)(h.a)(bt||(bt=Object(i.a)(["\n  padding-top: 0;\n  margin-top: 0;\n"]))),wt=(Object(O.e)(v.a)(jt||(jt=Object(i.a)(["\n  padding-top: 24px;\n  padding-bottom: 24px;\n"]))),O.e.div(dt||(dt=Object(i.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  position: relative;\n\n  justify-content: space-between;\n  flex-direction: column;\n  margin-bottom: 32px;\n\n  "," {\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 0 32px;\n    margin-bottom: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Object(O.e)(f.R)(pt||(pt=Object(i.a)(["\n  grid-gap: 64px;\n  /* grid-template-columns: minmax(192px, 284px) minmax(192px, 284px) minmax(192px, 284px); */\n  grid-template-columns: repeat(auto-fit, minmax(176px, 1fr));\n  justify-content: space-between;\n"]))),Object(O.e)(f.v)(ft||(ft=Object(i.a)(["\n  box-shadow: none;\n  /* min-width: 168px; */\n  /* max-width: 214px; */\n"]))),Object(O.e)(f.v)(Ot||(Ot=Object(i.a)(["\n  padding: 4px;\n  max-width: 218px;\n"]))),function(){var e,t=Object(b.h)().pathname,n=(Object(x.a)().theme,Object(m.b)().t);Object(k.c)(),Object(g.f)();var r=Object(u.useState)(""),c=Object(o.a)(r,2),a=(c[0],c[1],Object(p.c)().account),s=(Object(k.j)(),Object(k.a)().nftFarm),i=Object(g.j)().data,l="/nftfarm/v1"===t,j=l,O=Object(u.useMemo)((function(){var e=l?1:0,t=s.dataLoaded,n=s.userLoaded;if(t&&s.data.length){var r,c=s.data[e],o=(c.pid,c.nft),i=c.contractAddress,u=c.nftsInfo,b=void 0===u?[]:u,j=(c.rewardsPerBlock,c.rewardToken),p=(new d.a((null===c||void 0===c||null===(r=c.poolInfo)||void 0===r?void 0:r.accShare_)||0),c.userData||{}),f=(p.stakedBalance,p.allowance),O=void 0===f?0:f,x=(p.earnings,p.isApproval),h=void 0!==x&&x,m=(p.share,a&&h),v=new d.a(O);return{farm:c,rewardToken:j,isApproved:m,isDsgApproved:v.isGreaterThan(0),allowance:v,nftsInfo:b,nft:o,contractAddress:i,dataLoaded:!0,userLoaded:n}}return{userLoaded:!1,dataLoaded:!1,isApproved:!1,isDsgApproved:!1,allowance:0,nftsInfo:[]}}),[s,a,l]),h=Object(u.useMemo)((function(){return i.filter((function(e){var t;return e.properties.token.toLowerCase()===(null===O||void 0===O||null===(t=O.nft)||void 0===t?void 0:t.toLowerCase())}))}),[i,O.nft]),v=Object(u.useMemo)((function(){return!(h.length+O.nftsInfo.length)}),[O.nftsInfo,h]),S=Object(u.useMemo)((function(){return a?O.dataLoaded&&O.userLoaded:O.dataLoaded}),[O.dataLoaded,O.userLoaded,a]);return Object(I.jsxs)(y.a,{index:2,width:"100%",background:"bgimage4",children:[Object(I.jsxs)(w.a,{noPaddingRight:!0,children:[Object(I.jsx)(f.T,{as:"h1",scale:"xl",mb:"16px",children:n("Stake money-hungry Dino")}),Object(I.jsxs)(f.Q,{alignItems:"center",flexWrap:"wrap",children:[Object(I.jsx)(f.Q,{mr:"32px",mb:"8px",minWidth:"300px",flex:"1",children:Object(I.jsx)(f.Kb,{color:"textSubtle",children:n("Money-hungry Dinos share 0.04% of the exchange volume, distributed by the power pro rata.Different levels of Money-hungry Dinos have different Power, and you can get 5 times more  Power bonus by putting together a whole set of Money-hungry Dinos and inserting them into the slots !")})}),Object(I.jsx)(vt,{})]})]}),Object(I.jsx)(se,{isFinished:j,account:a,farm:O.farm}),S?Object(I.jsxs)(kt,{children:[Object(I.jsxs)(f.q,{mt:"16px",children:[Object(I.jsxs)(f.Q,{height:"56px",mb:"16px",alignItems:"center",justifyContent:"space-between",children:[Object(I.jsx)(f.T,{children:n("My money-hungry Dino")}),O.contractAddress&&!!O.nftsInfo.length&&Object(I.jsx)(at,{account:a,contractAddress:O.contractAddress})]}),O.dataLoaded?v?Object(I.jsx)(f.K,{}):Object(I.jsx)(rt,{nftToken:O.nft,stakeNfts:O.nftsInfo,contractAddress:O.contractAddress,userNfts:h,account:a,isApproved:O.isApproved}):Object(I.jsx)(f.Q,{justifyContent:"center",children:Object(I.jsx)(f.Hb,{})})]}),Object(I.jsxs)(f.q,{mt:"32px",children:[Object(I.jsxs)(f.Q,{height:"56px",alignItems:"center",justifyContent:"space-between",children:[Object(I.jsx)(f.T,{children:n("My slot")}),O.contractAddress&&O.isDsgApproved&&O.isApproved&&Object(I.jsx)(qe,{enableSlotFee:null===O||void 0===O||null===(e=O.farm)||void 0===e?void 0:e.enableSlotFee,account:a,contractAddress:O.contractAddress})]}),Object(I.jsx)(f.Kb,{mb:"24px",color:"textSubtle",children:n("After collecting level 1-6 Money-hungry Dino NFT and inserting it into the slot, you can get 5 times of Power bonus")}),O.dataLoaded&&(!O.isDsgApproved||!O.isApproved)&&Object(I.jsx)(ht,{isApproved:O.isApproved,isDsgApproved:O.isDsgApproved,nft:O.nft,account:a,contractAddress:O.contractAddress}),O.dataLoaded&&O.isDsgApproved&&O.isApproved&&Object(I.jsx)(Be,{userNfts:h,farm:O.farm})]})]}):Object(I.jsx)(f.Q,{justifyContent:"center",children:Object(I.jsx)(f.Hb,{})})]})})}}]);
//# sourceMappingURL=34.04a3a057.chunk.js.map