(this["webpackJsonpxxx-swap"]=this["webpackJsonpxxx-swap"]||[]).push([[16],{1373:function(t,e,n){"use strict";n.r(e);var c,r,a,o,u,i,s,b,f,d=n(6),j=n(2),O=n(81),l=n(57),p=n(4),v=n(5),x=n(804),h=n(255),m=n(814),w=n(20),S=n(396),k=n(393),g=n(818),C=n(1),E=n(26),y=n(44),D=n(65),L=n(162),N=n(0),A=["factoryAddress","avatarNftAddress","type","userData"],_=Object(v.e)(p.v)(c||(c=Object(d.a)(["\n  ","\n"])),(function(t){return t.theme.mediaQueriesSize.padding})),T=Object(v.e)(p.q)(r||(r=Object(d.a)(["\n  ","\n"])),(function(t){return t.theme.mediaQueriesSize.marginr})),F=function(t){var e=t.factoryAddress,n=(t.avatarNftAddress,t.type),c=t.userData,r=Object(E.a)(t,A),a=(Object(l.c)().account,Object(w.b)()),o=a.t,u=a.getHTML,i=Object(L.a)().theme,s=(Object(O.g)().push,Object(j.useMemo)((function(){return D.f[e.toLowerCase()]}),[e])),b=Object(j.useMemo)((function(){var t=e.toLowerCase();return c.filter((function(e){var n;return(null===(n=e.properties.token)||void 0===n?void 0:n.toLowerCase())===t}))}),[c,e]);return Object(N.jsx)(_,Object(C.a)(Object(C.a)({mb:"26px"},r),{},{children:Object(N.jsxs)(p.Q,{children:[Object(N.jsx)(p.X,{height:219,width:219,src:s.src}),Object(N.jsx)(T,{}),Object(N.jsxs)(p.Q,{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",children:[Object(N.jsx)(p.T,{children:o(s.name)}),Object(N.jsxs)(p.Kb,{mt:"16px",children:[o("Artist"),":",s.artist]}),Object(N.jsx)(p.Kb,{fontSize:"14px",color:"textSubtle",mt:"36px",children:u("You have %num% %name% now",{num:'<span style="margin: 0.2em;font-size: 18px; font-weight: bold; color: '.concat(i.colors.textPrimary,'">').concat(b.length,"</span>"),name:o("".concat(s.subName).concat(b.length>1?"s":""))})}),Object(N.jsx)(p.fb,{href:"".concat(y.f).concat(n),mt:"20px",children:Object(N.jsx)(p.r,{disabled:!b.length,children:o("Pick your %name% style",{name:s.nftSymbol})})})]})]})}))},I=Object(v.e)(h.a)(a||(a=Object(d.a)(["\n  padding-top: 0;\n"]))),H=Object(v.e)(S.a)(o||(o=Object(d.a)(["\n  padding-bottom: 0;\n"]))),G=(v.e.div(u||(u=Object(d.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  position: relative;\n\n  justify-content: space-between;\n  flex-direction: column;\n  margin-bottom: 32px;\n\n  "," {\n    flex-direction: row;\n    flex-wrap: wrap;\n    /* padding: 0 32px; */\n    margin-bottom: 0;\n  }\n"])),(function(t){return t.theme.mediaQueries.sm})),v.e.div(i||(i=Object(d.a)(["\n  display: flex;\n  margin-bottom: 10px;\n  align-items: center;\n  /* margin-left: 10px; */\n\n  "," {\n    margin-left: 8px;\n  }\n"])),p.Kb),v.e.div(s||(s=Object(d.a)(["\n  background-color: ",";\n  height: 1px;\n  margin: 16px 0 32px;\n  width: 100%;\n"])),(function(t){return t.theme.colors.cardBorder})));v.e.div(b||(b=Object(d.a)(["\n  flex-wrap: wrap;\n  justify-content: space-between;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  "," {\n    justify-content: flex-start;\n    width: auto;\n\n    > div {\n      padding: 0;\n    }\n  }\n"])),(function(t){return t.theme.mediaQueries.sm})),v.e.div(f||(f=Object(d.a)(["\n  cursor: pointer;\n  margin-bottom: 16px;\n  margin-left: 2px;\n  margin-right: 2px;\n"]))),e.default=function(){var t=Object(O.i)(),e=(t.path,t.url,Object(w.b)().t);Object(l.c)().account,Object(O.g)().push;Object(g.a)(),Object(m.d)();var n=Object(m.f)();Object(g.b)().data;Object(x.f)();var c=Object(x.i)().user,r=c.data,a=(c.loaded,Object(j.useMemo)((function(){return[n.types[1],n.types[0]]}),[n]));return Object(N.jsxs)(k.a,{index:2,width:"100%",background:"bgimage2",children:[Object(N.jsx)(H,{noPaddingRight:!0,children:Object(N.jsx)(p.T,{as:"h1",scale:"xl",children:e("Drawing Boards")})}),Object(N.jsxs)(I,{children:[Object(N.jsx)(G,{}),n[n.types[0]].ticketInfo.loaded?Object(N.jsx)(p.q,{children:a.map((function(t){return Object(N.jsx)(F,{userData:r,type:t,factoryAddress:n[t].ticketAddress,avatarNftAddress:n[t].nftAddress})}))}):Object(N.jsx)(p.Q,{justifyContent:"center",children:Object(N.jsx)(p.Hb,{})})]})]})}},804:function(t,e,n){"use strict";n.d(e,"f",(function(){return C})),n.d(e,"e",(function(){return E})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return D})),n.d(e,"h",(function(){return L})),n.d(e,"g",(function(){return N})),n.d(e,"a",(function(){return A})),n.d(e,"b",(function(){return _})),n.d(e,"d",(function(){return I})),n.d(e,"c",(function(){return H}));var c=n(1),r=n(3),a=n.n(r),o=n(11),u=n(9),i=n(12),s=n(2),b=n(32),f=n(96),d=n(65),j=n(7),O=n(132),l=n(67),p=n(57),v=n(40),x=n(229),h=n(224),m=n(113),w=n(395),S=n(22),k=n(256),g=n(228),C=function(){var t=Object(l.b)(),e=Object(m.a)().slowRefresh,n=Object(p.c)().account;Object(s.useEffect)((function(){n&&t(Object(w.d)(n))}),[t,e,n])},E=function(t){var e=Object(l.b)(),n=Object(m.a)().slowRefresh,c=Object(p.c)().account;Object(s.useEffect)((function(){c&&t&&e(Object(w.d)(c))}),[e,n,c,t])},y=function(){return Object(b.c)((function(t){return t.nfts}))},D=function(){var t=y().user;return{loaded:t.loaded,data:t.data.filter((function(t){return t.properties.owner_status===S.b.NORMAL}))}},L=function(t,e){return y().market.data.find((function(n){var c,r;return Number(null===(c=n.metadata)||void 0===c||null===(r=c.properties)||void 0===r?void 0:r.token_id)===Number(t)&&"".concat(e).toLowerCase()===n.nft.toLowerCase()}))},N=function(t,e){var n=y().user;return(null===n||void 0===n?void 0:n.data)?n.data.find((function(n){return Number(n.properties.token_id)===Number(t)&&"".concat(e).toLowerCase()===n.properties.token.toLowerCase()})):null},A=function(t,e){var n=Object(p.c)().account,c=Object(l.b)(),r=y().market,b=Object(s.useState)(""),f=Object(i.a)(b,2),d=f[0],j=f[1],O=Object(s.useState)(h.b.NOT_FETCHED),x=Object(i.a)(O,2),m=x[0],S=x[1],g=Object(s.useCallback)(function(){var e=Object(u.a)(a.a.mark((function e(u){var s,b,f,d,j,O,l,p,x,m,g,C,E,y,D,L,N,A,_,T,F,I;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(h.b.LOADING),b=(s=r||{}).data,f=s.limit,d=s.loadEnd,j=s.total,O=JSON.parse(t),l=O.sort,p=O.currency,x=O.search,m=O.nft,g=O.isOwner,C=O.contract,E=O.contracts,!u){e.next=7;break}c(Object(w.f)({refresh:u,data:[],total:j})),e.next=10;break;case 7:if(!d){e.next=10;break}return S(h.b.DATA_END),e.abrupt("return");case 10:return y=u?0:(null===b||void 0===b?void 0:b.length)||0,D=g?"".concat(n).toLowerCase():"",c(Object(w.h)(!0)),L=x?Object(v.h)(x)?["seller",x.toLowerCase()]:(Number(x),["token_id",x]):["",""],N=Object(i.a)(L,2),A=N[0],_=N[1],e.prev=14,e.next=17,Object(k.a)(Object(o.a)({limit:f,sort:l,contract:null===C||void 0===C?void 0:C.toLowerCase(),"metadata.properties.nft":null===m||void 0===m?void 0:m.toLowerCase(),currency:null===p||void 0===p?void 0:p.toLowerCase(),offset:y,seller:D,contracts:null===E||void 0===E?void 0:E.map((function(t){return null===t||void 0===t?void 0:t.toLowerCase()}))},A,_));case 17:T=e.sent,F=T.data,I=T.total,c(Object(w.f)({data:F,total:I,refresh:u})),S(h.b.SUCCESS),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(14),S(h.b.FAILED);case 27:n&&c(Object(w.b)(n));case 28:case"end":return e.stop()}}),e,null,[[14,24]])})));return function(t){return e.apply(this,arguments)}}(),[r,t,n,c]);return Object(s.useEffect)((function(){if(m===h.b.NOT_FETCHED||t!==d){if(j(t),!e)return;S(h.b.LOADING),g(!0)}}),[m,t,d,e,g]),{fetchData:g,fetchState:m,setFetchState:S}},_=function(t){var e=Object(p.c)().account,n=Object(l.b)(),c=y().marketHistory,r=Object(s.useState)(""),o=Object(i.a)(r,2),b=o[0],f=o[1],d=Object(s.useState)(h.b.NOT_FETCHED),j=Object(i.a)(d,2),O=j[0],x=j[1],m=Object(s.useCallback)(function(){var r=Object(u.a)(a.a.mark((function r(o){var u,s,b,f,d,j,O,l,p,m,S,g,C,E,y,D,L,N,A,_;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(x(h.b.LOADING),s=(u=c||{}).data,b=u.limit,f=u.loadEnd,d=u.total,j=JSON.parse(t),O=j.sort,l=j.currency,p=j.search,m=j.nft,S=j.isOwner,g=j.time,C=j.contract,E=j.contracts,!o){r.next=7;break}n(Object(w.g)({refresh:o,data:[],total:d})),r.next=10;break;case 7:if(!f){r.next=10;break}return x(h.b.DATA_END),r.abrupt("return");case 10:return y=o?0:(null===s||void 0===s?void 0:s.length)||0,S?e:"",n(Object(w.h)(!0)),D=p?Object(v.h)(p)?["seller",p]:(Number(p),["token_id",p]):["",""],L=Object(i.a)(D,2),L[0],L[1],r.prev=14,r.next=17,Object(k.a)({limit:b,sort:O,contract:null===C||void 0===C?void 0:C.toLowerCase(),"metadata.properties.nft":null===m||void 0===m?void 0:m.toLowerCase(),currency:null===l||void 0===l?void 0:l.toLowerCase(),contracts:null===E||void 0===E?void 0:E.map((function(t){return null===t||void 0===t?void 0:t.toLowerCase()})),offset:y,final_time_gt:g,state:1});case 17:N=r.sent,A=N.data,_=N.total,n(Object(w.g)({data:A,total:_,refresh:o})),x(h.b.SUCCESS),r.next=27;break;case 24:r.prev=24,r.t0=r.catch(14),x(h.b.FAILED);case 27:e&&n(Object(w.b)(e));case 28:case"end":return r.stop()}}),r,null,[[14,24]])})));return function(t){return r.apply(this,arguments)}}(),[c,t,e,n]);return Object(s.useEffect)((function(){(O===h.b.NOT_FETCHED||t!==b)&&(f(t),x(h.b.LOADING),m(!0))}),[O,t,b,m]),{fetchData:m,fetchState:O,setFetchState:x}},T=function(){var t=Object(u.a)(a.a.mark((function t(e,n,r){var o,u,s,b,d,O,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(k.a)({contract:null===e||void 0===e?void 0:e.toLowerCase(),token_id:n});case 2:if((u=t.sent).total){t.next=5;break}return t.abrupt("return",null);case 5:if(r){t.next=7;break}return t.abrupt("return",u.data[0]);case 7:return t.next=9,Object(g.d)(r);case 9:return s=t.sent,t.next=12,Object(g.b)(r,[null===(o=u.data[0])||void 0===o?void 0:o.metadata]);case 12:return b=t.sent,d=Object(i.a)(b,1),O=d[0],l=s.find((function(t){return u.data[0].currency.toLowerCase()===t.currency.toLowerCase()}))||{allowance:f.a.constants.MaxUint256.toHexString(),currencySymbol:j.e.symbol},t.abrupt("return",Object(c.a)(Object(c.a)(Object(c.a)({},u.data[0]),l),O));case 17:case"end":return t.stop()}}),t)})));return function(e,n,c){return t.apply(this,arguments)}}(),F=function(){var t=Object(u.a)(a.a.mark((function t(e,n,r){var o,u,s,b,f,j,O,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=Object(d.e)(e),u=null,!o){t.next=8;break}return t.next=5,Object(x.b)(e,[n]);case 5:u=t.sent,t.next=11;break;case 8:return t.next=10,Object(x.a)(e,[n]);case 10:u=t.sent;case 11:if(!u||!u.length){t.next=25;break}if(r){t.next=14;break}return t.abrupt("return",u[0]);case 14:return t.next=16,Object(g.b)(r,[u[0]]);case 16:return s=t.sent,b=Object(i.a)(s,1),f=b[0],t.next=21,Object(k.d)([u[0]]);case 21:return j=t.sent,O=Object(i.a)(j,1),l=O[0],t.abrupt("return",Object(c.a)(Object(c.a)(Object(c.a)({},u[0]),f),l));case 25:return t.abrupt("return",null);case 26:case"end":return t.stop()}}),t)})));return function(e,n,c){return t.apply(this,arguments)}}(),I=function(t,e,n){var c=Object(s.useState)(h.b.NOT_FETCHED),r=Object(i.a)(c,2),o=r[0],b=r[1],f=Object(s.useState)(null),d=Object(i.a)(f,2),j=d[0],l=d[1],v=Object(s.useState)(null),x=Object(i.a)(v,2),w=x[0],S=x[1],k=Object(s.useState)(null),g=Object(i.a)(k,2),C=g[0],E=g[1],y=Object(p.c)().account,D=Object(s.useState)(""),L=Object(i.a)(D,2),N=L[0],A=L[1],_=Object(m.a)().fastRefresh,I=Object(s.useCallback)(Object(u.a)(a.a.mark((function n(){var c,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o===h.b.SUCCESS?b(h.b.REFRESH):b(h.b.LOADING),n.prev=1,n.next=4,T(t,e,y);case 4:if(!(c=n.sent)){n.next=10;break}return S(c),l(O.a.MARKET),b(h.b.SUCCESS),n.abrupt("return");case 10:return n.next=12,F(t,e,y);case 12:if(!(r=n.sent)){n.next=18;break}return E(r),l(O.a.INFO),b(h.b.SUCCESS),n.abrupt("return");case 18:n.next=24;break;case 20:n.prev=20,n.t0=n.catch(1),console.error(n.t0),b(h.b.FAILED);case 24:case"end":return n.stop()}}),n,null,[[1,20]])}))),[o,t,e,y]);return Object(s.useEffect)((function(){var c="".concat(e,"_").concat(t,"_").concat(n,"_").concat(_,"_").concat(y);e&&t&&c!==N&&(A(c),I())}),[I,t,e,n,N,_,y]),{fetchData:I,dataType:j,marketNftInfo:w,nftInfo:C,fetchState:o,setFetchState:b}},H=function(t,e){var n=Object(s.useState)(h.b.NOT_FETCHED),c=Object(i.a)(n,2),r=c[0],o=c[1],b=Object(s.useState)(null),f=Object(i.a)(b,2),d=f[0],j=f[1],O=Object(s.useCallback)(Object(u.a)(a.a.mark((function n(){var c,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(h.b.LOADING),n.prev=1,n.next=4,Object(k.a)({limit:500,sort:"final_time",contract:null===t||void 0===t?void 0:t.toLowerCase(),token_id:e,state:1});case 4:c=n.sent,r=c.data,c.total,j(r),o(h.b.SUCCESS),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),console.error(n.t0),o(h.b.FAILED);case 15:case"end":return n.stop()}}),n,null,[[1,11]])}))),[t,e]);return Object(s.useEffect)((function(){e&&t&&O()}),[O,t,e]),{fetchData:O,historyData:d,fetchState:r,setFetchState:o}}},814:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"d",(function(){return f})),n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return j})),n.d(e,"f",(function(){return O})),n.d(e,"g",(function(){return l}));var c=n(2),r=n(57),a=n(32),o=n(67),u=n(401),i=n(22),s=function(){var t=Object(o.b)(),e=Object(r.c)().account;Object(c.useEffect)((function(){e&&t(Object(u.c)(e))}),[t,e])},b=function(){var t=Object(o.b)(),e=Object(r.c)().account;Object(c.useEffect)((function(){e&&t(Object(u.e)(e))}),[t,e])},f=function(){var t=Object(o.b)();Object(c.useEffect)((function(){t(Object(u.f)())}),[t])},d=function(){var t=Object(o.b)();Object(c.useEffect)((function(){t(Object(u.b)())}),[t])},j=function(t){var e=Object(o.b)();Object(c.useEffect)((function(){t===i.c.DSGAV&&e(Object(u.d)()),t===i.c.DSGYC&&e(Object(u.g)())}),[e,t])},O=function(){return Object(a.c)((function(t){return t.pickNft}))},l=function(t){var e=O();return e[t]?e[t]:e[i.c.DSGAV]}},818:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var c=n(2),r=n(57),a=n(32),o=n(67),u=n(403),i=function(){var t=Object(o.b)(),e=Object(r.c)().account;Object(c.useEffect)((function(){t(Object(u.c)(e))}),[t,e])},s=function(){return Object(a.c)((function(t){return t.mysteryBox}))}}}]);
//# sourceMappingURL=16.d5711e77.chunk.js.map