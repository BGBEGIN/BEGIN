(this["webpackJsonpxxx-swap"]=this["webpackJsonpxxx-swap"]||[]).push([[38],{1357:function(e,t,n){"use strict";n.r(t);var r,a,o,i,c,s,d,l,u,b,p,j,k,m,w,O,h,x,f=n(6),v=n(2),g=n(5),T=n(4),y=n(20),S=n(396),A=n(255),R=n(393),D=n(407),C=n(57),P=n(113),q=n(32),E=n(67),U=n(3),I=n.n(U),B=n(9),K=n(1),M=n(12),N=n(107),L=n.n(N),Q=n(15),V=n.n(Q),H=n(33),z=n(17),F=n(37),_=n(436),Y=n(294),W=n(69),G=function(){var e=Object(B.a)(I.a.mark((function e(){var t,n,r,a,o,i,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(z.o)(),n=[{address:t,name:"getAllPoolViews"},{address:t,name:"getBaseInfo"}],e.prev=2,e.next=5,Object(H.a)(_,n);case 5:return r=e.sent,a=Object(M.a)(r,2),o=a[0],i=a[1],c=o[0].map((function(e){return{poolAddress:t,pid:e.pid.toString(),duration:e.duration.toString(),allocPoint:e.allocPoint.toString(),lastRewardBlock:e.lastRewardBlock.toString(),token0RewardsPerBlock:e.token0RewardsPerBlock.toString(),token1RewardsPerBlock:e.token1RewardsPerBlock.toString(),token0AdditionalRewardPerBlock:e.token0AdditionalRewardPerBlock.toString(),token1AdditionalRewardPerBlock:e.token1AdditionalRewardPerBlock.toString(),depositToken:i.depositToken_,depositSymbol:e.lpSymbol,depositName:e.lpName,depositDecimals:Number(e.lpDecimals),rewardToken0:i.rewardToken0_,rewardToken0Symbol:e.rewardToken0Symbol,rewardToken0Name:e.rewardToken0Name,rewardToken0Decimals:Number(e.rewardToken0Decimals),rewardToken1:i.rewardToken1_,rewardToken1Symbol:e.rewardToken1Symbol,rewardToken1Name:e.rewardToken1Name,rewardToken1Decimals:Number(e.rewardToken1Decimals),token0AdditionalRewardEndBlock:i.token0AdditionalRewardEndBlock_.toString(),token1AdditionalRewardEndBlock:i.token1AdditionalRewardEndBlock_.toString(),startBlock:i.startBlock_.toString(),bonusEndBlock:i.bonusEndBlock_.toString(),totalAmount:e.totalDeposit.toString()}})),e.abrupt("return",c);case 13:return e.prev=13,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(B.a)(I.a.mark((function e(t){var n,r,a,o,i,c,s,d,l,u,b,p,j,k,m;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return e.depositToken})),r=t.map((function(e){return e.rewardToken0})),a=t.map((function(e){return e.rewardToken1})),o=L()(n.concat(r).concat(a)),e.prev=4,l=Object(z.t)(),u=o.map((function(e){return{address:l,name:"getCurrentPrice",params:[e]}})),e.next=9,Object(H.b)(Y,u,{requireSuccess:!1});case 9:return b=e.sent,p=o.find((function(e){return e.toLowerCase()===Object(z.e)().toLowerCase()})),j=(null===(i=b[o.indexOf(p)])||void 0===i||null===(c=i.price)||void 0===c?void 0:c.toString())||"0",k=o.find((function(e){return e.toLowerCase()===Object(z.y)().toLowerCase()})),m=(null===(s=b[o.indexOf(k)])||void 0===s||null===(d=s.price)||void 0===d?void 0:d.toString())||new V.a(j).times(5e-9),e.abrupt("return",t.map((function(e){var t,n,r,a,i,c="0";(null===(t=b[o.indexOf(e.depositToken)])||void 0===t?void 0:t.price)?c=(null===(a=b[o.indexOf(e.depositToken)])||void 0===a||null===(i=a.price)||void 0===i?void 0:i.toString())||"0":e.depositToken===p?c=j:e.depositToken===k&&(c=m);var s,d,l="0";(null===(n=b[o.indexOf(e.rewardToken0)])||void 0===n?void 0:n.price)?l=(null===(s=b[o.indexOf(e.rewardToken0)])||void 0===s||null===(d=s.price)||void 0===d?void 0:d.toString())||"0":e.rewardToken0===p?l=j:e.rewardToken0===k&&(l=m);var u,w,O="0";(null===(r=b[o.indexOf(e.rewardToken1)])||void 0===r?void 0:r.price)?O=(null===(u=b[o.indexOf(e.rewardToken1)])||void 0===u||null===(w=u.price)||void 0===w?void 0:w.toString())||"0":e.rewardToken1===p?O=j:e.rewardToken1===k&&(O=m);c=new V.a(c).div(F.b.pow(18)).toString(),l=new V.a(l).div(F.b.pow(18)).toString(),O=new V.a(O).div(F.b.pow(18)).toString();var h=new V.a(c).times(e.totalAmount).div(F.b.pow(e.depositDecimals)).toString();return Object(K.a)(Object(K.a)({},e),{},{depositTokenPrice:c,rewardToken0Price:l,rewardToken1Price:O,totalLiquidity:h})})));case 17:return e.prev=17,e.t0=e.catch(4),e.abrupt("return",t);case 20:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(B.a)(I.a.mark((function e(t){var n,r,a,o,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(z.o)(),r=[{address:n,name:"getStakingViews",params:[t]}],e.prev=2,e.next=5,Object(H.a)(_,r);case 5:return a=e.sent,o=Object(M.a)(a,1),i=o[0],e.abrupt("return",i[0].map((function(e){return{pid:e.pid.toString(),stakingId:e.stakingId.toString(),stakeAmount:e.amount.toString(),token0UnclaimedRewards:e.token0UnclaimedRewards.toString(),token1UnclaimedRewards:e.token1UnclaimedRewards.toString(),time:e.time.toString(),unlockTime:e.unlockTime.toString()}})));case 11:return e.prev=11,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(B.a)(I.a.mark((function e(t,n){var r,a,o,i,c,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map((function(e){return e.depositToken})),a=L()(r),e.prev=2,o=a.map((function(e){return{address:e,name:"allowance",params:[t,n[0].poolAddress]}})),i=a.map((function(e){return{address:e,name:"balanceOf",params:[t]}})),e.next=7,Object(H.a)(W,o);case 7:return c=e.sent,e.next=10,Object(H.a)(W,i);case 10:return s=e.sent,e.abrupt("return",n.map((function(e){var t=c[a.indexOf(e.depositToken)].toString(),n=s[a.indexOf(e.depositToken)].toString();return{pid:e.pid,allowance:t,tokenBalance:n}})));case 14:return e.prev=14,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",[]);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}(),$=n(470),ee=n(44),te=function(e){var t={};return e.forEach((function(e){t[e.pid]?t[e.pid]=t[e.pid].concat(Object(K.a)({},e)):t[e.pid]=[Object(K.a)({},e)]})),t},ne=function(e){var t={};return e.forEach((function(e){if(t[e.pid]){var n=new V.a(t[e.pid].stakeAmount).plus(e.stakeAmount).toString(),r=new V.a(t[e.pid].token0UnclaimedRewards).plus(e.token0UnclaimedRewards).toString(),a=new V.a(t[e.pid].token1UnclaimedRewards).plus(e.token1UnclaimedRewards).toString();t[e.pid]={stakeAmount:n,token0UnclaimedRewards:r,token1UnclaimedRewards:a,pid:e.pid}}else t[e.pid]={stakeAmount:e.stakeAmount,token0UnclaimedRewards:e.token0UnclaimedRewards,token1UnclaimedRewards:e.token1UnclaimedRewards,pid:e.pid}})),Object.values(t)},re=function(e,t,n,r){return new V.a(e).times(ee.l).div(F.b.pow(t)).times(n).div(r).times(100).toNumber()},ae=function(e,t,n,r,a){var o;return e.toLowerCase()===(null===(o=Object(z.y)())||void 0===o?void 0:o.toLowerCase())?0:new V.a(t).div(F.b.pow(n)).times(r).div(a).times(100).toNumber()},oe=function(e,t,n){return e+t+n},ie=function(e,t){var n=re(e.token0RewardsPerBlock,e.rewardToken0Decimals,e.rewardToken0Price,e.totalLiquidity),r=re(e.token1RewardsPerBlock,e.rewardToken1Decimals,e.rewardToken1Price,e.totalLiquidity),a=re(e.token0AdditionalRewardPerBlock,e.rewardToken0Decimals,e.rewardToken0Price,e.totalLiquidity),o=re(e.token1AdditionalRewardPerBlock,e.rewardToken1Decimals,e.rewardToken1Price,e.totalLiquidity),i=ae(e.rewardToken0,t,e.rewardToken0Decimals,e.rewardToken0Price,e.totalLiquidity),c=oe(n,a,i),s=ae(e.rewardToken1,t,e.rewardToken1Decimals,e.rewardToken1Price,e.totalLiquidity),d=oe(r,o,s);return{token0baseApr:n,token0additionalApr:a,token0donateApr:i,token0totalApr:c,token1baseApr:r,token1additionalApr:o,token1donateApr:s,token1totalApr:d,totalApr:c+d}},ce=n(64),se=n(133),de=function(){var e=Object(B.a)(I.a.mark((function e(t){var n,r,a,o,i,c,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={},t.forEach((function(e){n[e.pid]={pid:e.pid,allocPoint:e.allocPoint}})),e.next=5,se.a.getBlockNumber();case 5:return r=e.sent,a=Object(ce.n)(),o=a.filters.Donate(),e.next=10,a.queryFilter(o,r-2400,r);case 10:return i=e.sent,c={},i.reverse().forEach((function(e,t){c[e.args.pid.toNumber()]?c[e.args.pid.toNumber()]=c[e.args.pid.toNumber()].plus(e.args.realAmount.toJSON().hex):c[e.args.pid.toNumber()]=new V.a(e.args.realAmount.toJSON().hex)})),s=le(n,c),e.abrupt("return",s);case 17:return e.prev=17,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}(),le=function(e,t){return Object.values(e).map((function(e){var n=t[e.pid]||new V.a(0);return Object(K.a)(Object(K.a)({},e),{},{totalDonateAmount:n.times(.5).times(24).times(365).toString()})}))},ue=function(e){return function(){var t=Object(B.a)(I.a.mark((function t(n){var r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:r=t.sent,n(Object($.c)(r)),n(be(r));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},be=function(e){return function(){var t=Object(B.a)(I.a.mark((function t(n){var r,a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,de(e);case 2:r=t.sent,a={},e.forEach((function(e){var t=r.find((function(t){return t.pid===e.pid}));a[e.pid]=ie(e,null===t||void 0===t?void 0:t.totalDonateAmount)})),n(Object($.b)(a));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},pe=function(e,t){return function(){var n=Object(B.a)(I.a.mark((function n(r,a){var o,i,c;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Z(e);case 2:return o=n.sent,r(Object($.e)(te(o))),r(Object($.d)(ne(o))),i=t||a().staking.single.data,n.next=8,X(e,i);case 8:c=n.sent,r(Object($.d)(c));case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},je=function(){var e=Object(E.b)(),t=Object(P.a)().slowRefresh,n=Object(C.c)().account;Object(v.useEffect)((function(){e(function(e){return function(){var t=Object(B.a)(I.a.mark((function t(n,r){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G();case 2:a=t.sent,n(Object($.c)(a)),n(ue(a)),e&&n(pe(e));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(n))}),[t,e,n])},ke=function(){return Object(q.c)((function(e){return e.staking.single}))},me=n(194),we=n(51),Oe=n(408),he=n(409),xe=n(40),fe=n(52),ve=n(0),ge=Object(g.e)(T.q)(r||(r=Object(f.a)(["\n position: relative;\n"]))),Te=Object(g.e)(me.a)(a||(a=Object(f.a)(["\n padding-bottom: 0;\n"]))),ye=Object(g.e)(T.v)(o||(o=Object(f.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  border-radius: ",";\n  width: 30%;\n  background: ",";\n  min-width: 150px;\n  /* &::after{\n    content: '';\n    display: block;\n    padding-top: 38.2%;\n  } */\n  /* height: 56px;\n  line-height: 56px; */\n"])),(function(e){var t=e.theme;return"0 ".concat(t.radii.card," 0 20px")}),(function(e){return e.theme.colors.primary})),Se=Object(g.e)(T.Kb)(i||(i=Object(f.a)(["\n  /* position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%); */\n  white-space: nowrap;\n  font-size: 14px;\n"]))),Ae=function(e){var t=e.depositToken,n=(e.rewardToken0,e.rewardToken1,e.depositSymbol),r=e.rewardToken0Symbol,a=e.rewardToken1Symbol,o=e.poolAddress,i=e.locktime,c=Object(y.b)().t,s=Object(fe.h)(t);return Object(ve.jsxs)(ge,{children:[Object(ve.jsx)(Te,{children:Object(ve.jsxs)(T.Q,{alignItems:"center",children:[Object(ve.jsx)(he.a,{token:s,symbol:n,width:45,height:45}),Object(ve.jsxs)(T.q,{ml:"8px",children:[Object(ve.jsx)(T.Kb,{fontSize:"18px",color:"white_black",bold:!0,children:n}),Object(ve.jsx)(T.gb,{height:"24px",color:"textPrimary",fontSize:"16px",href:Object(xe.e)(o,"token"),children:c("View Contract")})]})]})}),Object(ve.jsxs)(ye,{children:[Object(ve.jsxs)(Se,{textAlign:"center",color:"white",children:[c("Earn")," ",r,"&",a]}),Object(ve.jsxs)(Se,{textAlign:"center",color:"white",children:[i," ",c("d")," ",c("Lock time")," "]})]})]})},Re=n(130),De=n(140),Ce=n(98),Pe=n(96),qe=n(56),Ee={gasLimit:ee.n},Ue=function(e){var t=F.b.pow(e);return t.isFinite()?t:ee.p},Ie=function(){var e=Object(qe.l)();return{onWithdraw:Object(v.useCallback)(function(){var t=Object(B.a)(I.a.mark((function t(n){var r,a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.withdraw(n,Ee);case 2:return r=t.sent,t.next=5,r.wait();case 5:return a=t.sent,t.abrupt("return",a.status);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e])}},Be=Object(g.e)(me.a)(c||(c=Object(f.a)(["\n  padding-top: 12px;\n  background: ",";\n  padding-bottom: 12px;\n"])),(function(e){return e.theme.card.background})),Ke=function(e){var t=e.isApproved,n=e.handleApprove,r=e.onHandleReward,a=e.showView,o=e.onView,i=e.t,c=e.account,s=e.canHarvest,d=Object(v.useState)(!1),l=Object(M.a)(d,2),u=l[0],b=l[1];return c?t?Object(ve.jsxs)(T.Q,{children:[a&&Object(ve.jsx)(T.r,{width:100,margin:"0 12px",disabled:u,onClick:o,children:i("View")}),Object(ve.jsx)(T.r,{width:100,margin:"0 12px",disabled:u||!s,onClick:Object(B.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,r();case 3:b(!1);case 4:case"end":return e.stop()}}),e)}))),children:u?Object(ve.jsx)(Re.a,{children:i("Harvesting")}):i("Harvest")})]}):Object(ve.jsx)(T.r,{width:100,disabled:u,onClick:Object(B.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)}))),children:u?Object(ve.jsx)(Re.a,{children:i("Enabling")}):i("Enable")}):Object(ve.jsx)(De.a,{})},Me=function(e){var t=e.earnings,n=void 0===t?"0":t,r=e.isApproved,a=e.depositToken,o=e.poolAddress,i=e.pid,c=e.onView,s=e.showView,d=(e.rewardTokenPrice,Object(C.c)().account),l=Object(y.b)().t,u=Object(q.b)(),b=Object(Ce.a)(),p=b.toastSuccess,j=b.toastError,k=(b.toastInfo,b.toastCustom,b.remove,function(e,t){var n=Object(qe.f)(e);return{onApprove:Object(v.useCallback)(Object(B.a)(I.a.mark((function e(){var r,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.approve(t,Pe.a.constants.MaxUint256);case 3:return r=e.sent,e.next=6,r.wait();case 6:return a=e.sent,e.abrupt("return",a.status);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[n,t])}}(a,o).onApprove),m=Object(v.useCallback)(Object(B.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k();case 3:u(pe(d)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),[k,u,d]),w=function(e){var t=Object(qe.l)();return{onHarvest:Object(v.useCallback)(Object(B.a)(I.a.mark((function n(){var r,a;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.harvestPool(e,Ee);case 2:return r=n.sent,n.next=5,r.wait();case 5:return a=n.sent,n.abrupt("return",a.status);case 7:case"end":return n.stop()}}),n)}))),[e,t])}}(i).onHarvest,O=Object(v.useCallback)(Object(B.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:u(pe(d)),p(l("Your earnings have been harvested to your wallet!")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),4001!==(null===e.t0||void 0===e.t0?void 0:e.t0.code)&&j(l("Error"),l("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[w,u,l,p,j,d]),h=new V.a(n).isGreaterThan(0);return Object(ve.jsx)(Be,{children:Object(ve.jsx)(T.Q,{justifyContent:"center",alignItems:"center",children:Object(ve.jsx)(Ke,{canHarvest:h,isApproved:r,handleApprove:m,onHandleReward:O,onView:c,account:d,showView:s,t:l})})})},Ne=n(195),Le=(Object(g.e)(T.q)(s||(s=Object(f.a)(["\n  width: 88vw;\n  padding-top: 8px;\n  padding-bottom: 16px;\n  "," {\n    width: 410px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Object(g.e)(T.bb)(d||(d=Object(f.a)(["\n  background-color: transparent;\n"]))),function(e){var t=e.decimals,n=void 0===t?18:t,r=e.onConfirm,a=e.onDismiss,o=e.max,i=e.depositSymbol,c=Object(y.b)().t,s=Object(Ce.a)(),d=s.toastSuccess,l=s.toastError,u=(s.toastInfo,s.toastCustom,s.remove,Object(v.useMemo)((function(){return[Object(we.i)(o,n),Object(we.b)(o,n)]}),[o,n])),b=Object(M.a)(u,2),p=b[0],j=(b[1],Object(v.useState)("")),k=Object(M.a)(j,2),m=k[0],w=k[1],O=Object(v.useState)(!1),h=Object(M.a)(O,2),x=h[0],f=h[1],g=new V.a(m),S=new V.a(p),A=Object(v.useCallback)((function(e){e.currentTarget.validity.valid&&w(e.currentTarget.value.replace(/,/g,"."))}),[w]),R=Object(v.useCallback)((function(){w(p)}),[p,w]),D="".concat(ee.h).concat(i);return Object(ve.jsxs)(T.pb,{title:c("Stake"),onDismiss:a,children:[Object(ve.jsx)(Ne.b,{value:m,onSelectMax:R,onChange:A,max:p,symbol:i,addLiquidityUrl:D,inputTitle:c("Stake")}),Object(ve.jsxs)(Ne.a,{children:[Object(ve.jsx)(T.r,{variant:"secondary",onClick:a,width:"100%",disabled:x,children:c("Cancel")}),Object(ve.jsx)(T.r,{width:"100%",disabled:x||!g.isFinite()||g.eq(0)||g.gt(S),onClick:Object(B.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,r(m);case 4:a(),d(c("Staked!"),c("Your funds have been staked in the pool!")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),l(c("Error"),c("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])}))),children:x?Object(ve.jsx)(Re.a,{children:c("Staking")}):c("Stake")})]}),Object(ve.jsxs)(T.Kb,{mt:"12px",textAlign:"center",maxWidth:"400px",fontSize:"14px",children:["*",c("The stake can be taken out after the expiration of the time")]})]})}),Qe=(Object(g.e)(T.r)(l||(l=Object(f.a)(["\n  padding: 0 8px;\n"]))),function(e){var t=e.depositToken,n=e.rewardToken0,r=e.rewardToken1,a=e.depositSymbol,o=e.rewardToken0Symbol,i=e.rewardToken1Symbol,c=e.stakeAmount,s=e.token0UnclaimedRewards,d=e.token1UnclaimedRewards,l=e.dispalyStakeAmount,u=e.dispalyToken0Rewards,b=e.dispalyToken1Rewards,p=e.children,j=Object(y.b)().t,k=Object(fe.h)(t),m=Object(fe.h)(n),w=Object(fe.h)(r);return Object(ve.jsxs)(T.q,{children:[Object(ve.jsxs)(T.Q,{justifyContent:"space-between",alignItems:"center",children:[Object(ve.jsxs)(T.Q,{alignItems:"center",flex:"1",children:[Object(ve.jsx)(he.a,{symbol:a,token:k,width:36,height:36}),Object(ve.jsxs)(T.q,{ml:"8px",children:[Object(ve.jsxs)(T.Kb,{fontSize:"14px",children:[j("Your staked")," ",a]}),c.isFinite()?Object(ve.jsx)(T.Kb,{bold:!0,color:"white_black",children:l}):Object(ve.jsx)(T.Eb,{})]})]}),Object(ve.jsx)(T.q,{children:p})]}),Object(ve.jsxs)(T.Q,{mt:"16px",justifyContent:"space-between",alignItems:"center",children:[Object(ve.jsxs)(T.Q,{alignItems:"center",flex:"1",children:[Object(ve.jsx)(he.a,{symbol:o,token:m,width:36,height:36}),Object(ve.jsxs)(T.q,{ml:"8px",children:[Object(ve.jsx)(T.Kb,{fontSize:"14px",children:j("Rewards")}),s.isFinite()?Object(ve.jsx)(T.Kb,{bold:!0,color:"primary",children:u}):Object(ve.jsx)(T.Eb,{})]})]}),Object(ve.jsxs)(T.Q,{justifyContent:"flex-end",alignItems:"center",flex:"1",children:[Object(ve.jsxs)(T.q,{mr:"8px",children:[Object(ve.jsx)(T.Kb,{fontSize:"14px",textAlign:"right",children:j("Rewards")}),d.isFinite()?Object(ve.jsx)(T.Kb,{textAlign:"right",bold:!0,color:"primary",children:b}):Object(ve.jsx)(T.Eb,{})]}),Object(ve.jsx)(he.a,{symbol:i,token:w,width:36,height:36})]})]})]})}),Ve=(Object(g.e)(T.r)(u||(u=Object(f.a)(["\n  padding: 0 8px;\n"]))),function(e){var t=e.isApproved,n=e.depositToken,r=e.rewardToken0,a=e.rewardToken1,o=e.depositSymbol,i=e.rewardToken0Symbol,c=e.rewardToken1Symbol,s=(e.rewardToken0Decimals,e.rewardToken1Decimals,e.depositDecimals),d=(e.poolAddress,e.pid),l=e.dispalynUserData,u=Object(q.b)(),b=Object(C.c)().account,p=ke().userStakesMap,j=(Object(y.b)().t,Object(v.useState)(!1)),k=Object(M.a)(j,2),m=(k[0],k[1],Object(v.useState)(!1)),w=Object(M.a)(m,2),O=(w[0],w[1],function(e,t){var n=Object(qe.l)();return{onStake:Object(v.useCallback)(function(){var r=Object(B.a)(I.a.mark((function r(a){var o,i,c;return I.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=new V.a(a).times(Ue(t)).toString(),r.next=3,n.deposit(e,o,Ee);case 3:return i=r.sent,r.next=6,i.wait();case 6:return c=r.sent,r.abrupt("return",c.status);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[e,n,t])}}(d).onStake),h=(Ie().onWithdraw,Object(v.useCallback)((function(){u(pe(b))}),[u,b])),x=Object(T.Zb)(Object(ve.jsx)(Le,{max:l.tokenBalance,decimals:s,depositSymbol:o,onConfirm:function(){var e=Object(B.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:h();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),!0,!0,"TimeStakeModal"),f=Object(M.a)(x,1)[0];return Object(ve.jsx)(T.q,{children:Object(ve.jsx)(Qe,Object(K.a)(Object(K.a)({depositToken:n,rewardToken0:r,rewardToken1:a,depositSymbol:o,rewardToken0Symbol:i,rewardToken1Symbol:c},l),{},{children:t&&(p[d]?Object(ve.jsx)(T.Q,{children:Object(ve.jsx)(T.r,{padding:0,height:23,variant:"secondary",style:{borderRadius:"0"},onClick:f,children:Object(ve.jsx)(T.b,{color:"primary"})})}):Object(ve.jsx)(T.r,{variant:"secondary",padding:0,height:23,style:{borderRadius:"0"},onClick:f,children:Object(ve.jsx)(T.b,{color:"primary"})}))}))})}),He=n(164),ze=n.n(He),Fe=Object(g.e)(T.q)(b||(b=Object(f.a)(["\n  width: 88vw;\n  padding-top: 8px;\n  padding-bottom: 16px;\n  "," {\n    width: 410px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),_e=Object(g.e)(T.q)(p||(p=Object(f.a)(["\n  border-top: 1px solid ",";\n  padding: 16px 20px;\n"])),(function(e){return e.theme.colors.textSubtle})),Ye=function(e){var t=e.onConfirm,n=e.onDismiss,r=e.stakingId,a=Object(v.useState)(!1),o=Object(M.a)(a,2),i=o[0],c=o[1],s=Object(y.b)().t,d=Object(Ce.a)(),l=d.toastSuccess,u=d.toastError;d.toastInfo,d.toastCustom,d.remove;return Object(ve.jsx)(T.r,{disabled:i,onClick:Object(B.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,t(r);case 4:n(),l(s("Unstaked!"),s("Your earnings have also been harvested to your wallet")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),4001!==(null===e.t0||void 0===e.t0?void 0:e.t0.code)&&u(s("Error"),s("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 11:return e.prev=11,c(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])}))),children:i?Object(ve.jsx)(Re.a,{children:s("Unstaking")}):s("Unstaked")})},We=function(e){var t=e.onConfirm,n=e.onDismiss,r=e.stakes,a=e.depositToken,o=e.rewardToken0,i=e.rewardToken1,c=e.depositSymbol,s=e.rewardToken0Symbol,d=e.rewardToken1Symbol,l=e.rewardToken0Decimals,u=e.rewardToken1Decimals,b=e.depositDecimals,p=Object(y.b)().t,j=Object(v.useMemo)((function(){return r.map((function(e){var t=e.token0UnclaimedRewards,n=void 0===t?"0":t,r=e.token1UnclaimedRewards,a=void 0===r?"0":r,o=e.stakeAmount,i=void 0===o?"0":o,c=new V.a(n),s=new V.a(a),d=new V.a(i),p=Object(we.c)(c,u),j=Object(we.c)(s,l),k=Object(we.c)(d,b);return Object(K.a)(Object(K.a)({},e),{},{stakeAmount:d,token0UnclaimedRewards:c,token1UnclaimedRewards:s,dispalyStakeAmount:k,dispalyToken0Rewards:p,dispalyToken1Rewards:j})}))}),[r,b,l,u]),k=(new Date).getTime();return Object(ve.jsx)(T.pb,{title:p("View"),onDismiss:n,children:Object(ve.jsx)(Fe,{children:j.map((function(e){return Object(ve.jsx)(_e,{children:Object(ve.jsx)(Qe,{depositToken:a,rewardToken0:o,rewardToken1:i,depositSymbol:c,rewardToken0Symbol:s,rewardToken1Symbol:d,stakeAmount:e.stakeAmount,token0UnclaimedRewards:e.token0UnclaimedRewards,token1UnclaimedRewards:e.token1UnclaimedRewards,dispalyStakeAmount:e.dispalyStakeAmount,dispalyToken0Rewards:e.dispalyToken0Rewards,dispalyToken1Rewards:e.dispalyToken1Rewards,children:1e3*Number(e.unlockTime)<=k?Object(ve.jsx)(Ye,{stakingId:e.stakingId,onConfirm:t,onDismiss:n}):Object(ve.jsxs)(T.q,{children:[Object(ve.jsx)(T.Kb,{textAlign:"right",children:p("Ending at")}),Object(ve.jsx)(T.Kb,{textAlign:"right",children:ze()(1e3*Number(e.unlockTime)).format("YYYY-MM-DD HH:mm")})]})})},e.stakingId)}))})})},Ge=Object(g.e)(T.q)(j||(j=Object(f.a)(["\n  background: ",";\n"])),(function(e){return e.theme.colors.input})),Je=Object(g.e)(me.a)(k||(k=Object(f.a)(["\n  padding-top: 12px;\n  padding-bottom: 12px;\n"]))),Ze=function(e){var t=e.poolInfo,n=e.userData,r=Object(C.c)().account,a=(Object(y.b)().t,Object(v.useState)(!1)),o=Object(M.a)(a,2),i=(o[0],o[1]),c=Ie().onWithdraw,s=Object(q.b)(),d=ke().userStakesMap,l=Object(v.useCallback)((function(){s(pe(r))}),[s,r]),u=Object(v.useMemo)((function(){var e=n||{},r=e.allowance,a=void 0===r?"0":r,o=e.token0UnclaimedRewards,i=void 0===o?"0":o,c=e.token1UnclaimedRewards,s=void 0===c?"0":c,d=e.stakeAmount,l=void 0===d?"0":d,u=e.tokenBalance,b=void 0===u?"0":u,p=new V.a(a),j=new V.a(i),k=new V.a(s),m=new V.a(l),w=new V.a(b),O=p.isGreaterThan(0),h=Object(we.c)(j,t.rewardToken1Decimals),x=Object(we.c)(k,t.rewardToken0Decimals),f=Object(we.c)(m,t.depositDecimals),v=j.plus(k).toString();return{allowance:p,isApproved:O,token0UnclaimedRewards:j,token1UnclaimedRewards:k,stakeAmount:m,tokenBalance:w,dispalyToken0Rewards:h,dispalyToken1Rewards:x,dispalyStakeAmount:f,earnings:v}}),[n,t.depositDecimals,t.rewardToken0Decimals,t.rewardToken1Decimals]),b=Object(T.Zb)(Object(ve.jsx)(We,{onConfirm:function(){var e=Object(B.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:l();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onDismiss:function(){return i(!1)},depositToken:t.depositToken,rewardToken0:t.rewardToken0,rewardToken1:t.rewardToken1,depositSymbol:t.depositSymbol,rewardToken0Symbol:t.rewardToken0Symbol,rewardToken1Symbol:t.rewardToken1Symbol,rewardToken0Decimals:t.rewardToken0Decimals,rewardToken1Decimals:t.rewardToken1Decimals,depositDecimals:t.depositDecimals,stakes:d[t.pid]}),!0),p=Object(M.a)(b,1)[0];return Object(ve.jsxs)(Ge,{children:[Object(ve.jsx)(Je,{children:Object(ve.jsx)(Ve,{depositToken:t.depositToken,isApproved:u.isApproved,rewardToken0:t.rewardToken0,rewardToken1:t.rewardToken1,depositSymbol:t.depositSymbol,rewardToken0Symbol:t.rewardToken0Symbol,rewardToken1Symbol:t.rewardToken1Symbol,poolAddress:t.poolAddress,dispalynUserData:u,rewardToken0Decimals:t.rewardToken0Decimals,pid:t.pid,rewardToken1Decimals:t.rewardToken1Decimals,depositDecimals:t.depositDecimals})}),Object(ve.jsx)(Me,{depositToken:t.depositToken,poolAddress:t.poolAddress,pid:t.pid,onView:p,earnings:u.earnings,showView:!!d[t.pid],isApproved:u.isApproved})]})},Xe=[{lable:"7",unit:"days",value:.2,days:7},{lable:"30",unit:"days",value:.3,days:30},{lable:"180",unit:"days",value:.5,days:180},{lable:"1",unit:"year",value:1,days:365},{lable:"2",unit:"years",value:2,days:730}],$e=Object(g.e)(me.a)(m||(m=Object(f.a)(["\n padding-top: 0;\n"]))),et=function(e){var t=e.poolInfo,n=e.userData,r=e.poolApr,a=(e.userStakes,Object(y.b)().t),o=Object(Oe.a)(Number(t.duration),!0).days,i=Xe.find((function(e){return e.days===o}));return Object(ve.jsx)(T.v,{children:Object(ve.jsxs)(T.q,{children:[Object(ve.jsx)(Ae,{depositToken:t.depositToken,rewardToken0:t.rewardToken0,rewardToken1:t.rewardToken1,depositSymbol:t.depositSymbol,rewardToken0Symbol:t.rewardToken0Symbol,rewardToken1Symbol:t.rewardToken1Symbol,locktime:o,poolAddress:t.poolAddress}),Object(ve.jsx)($e,{mt:"16px",children:Object(ve.jsxs)(T.Q,{justifyContent:"space-between",children:[Object(ve.jsxs)(T.q,{children:[Object(ve.jsx)(T.Kb,{fontSize:"14px",children:a("APR")}),Object(ve.jsxs)(T.Kb,{bold:!0,color:"upPrice",children:[Object(we.a)(null===r||void 0===r?void 0:r.totalApr),"%"]})]}),Object(ve.jsxs)(T.q,{children:[Object(ve.jsx)(T.Kb,{fontSize:"14px",children:a("Boost Factor")}),Object(ve.jsx)(T.Kb,{bold:!0,color:"orange",children:(null===i||void 0===i?void 0:i.value)?"".concat(null===i||void 0===i?void 0:i.value," X"):"--"})]}),Object(ve.jsxs)(T.q,{children:[Object(ve.jsx)(T.Kb,{fontSize:"14px",textAlign:"right",children:a("Total staked")}),Number(t.totalLiquidity)?Object(ve.jsxs)(T.Kb,{bold:!0,textAlign:"right",children:["$ ",Number(t.totalLiquidity).toLocaleString(void 0,{maximumFractionDigits:0})]}):Object(ve.jsx)(T.Eb,{})]})]})}),Object(ve.jsx)(Ze,{userData:n,poolInfo:t})]})})},tt=Object(g.e)(A.a)(w||(w=Object(f.a)(["\n  padding-top: 0;\n"]))),nt=Object(g.e)(T.q)(O||(O=Object(f.a)(["\n  margin-top: 28px;\n  margin-bottom: 16px;\n  padding: 16px 20px;\n  border: 1px solid ",";\n  border-radius: 10px;\n  width: 100%;\n  max-width: 580px;\n  overflow: auto;\n"])),(function(e){return e.theme.colors.primary})),rt=Object(g.e)(T.q)(h||(h=Object(f.a)(["\n  width: 538px;\n"]))),at=g.e.div(x||(x=Object(f.a)(["\n  background-color: ",";\n  height: 1px;\n  margin: 16px 0 0;\n  width: 100%;\n"])),(function(e){return e.theme.colors.cardBorder}));t.default=function(){var e=Object(y.b)().t;je();var t=ke(),n=t.data,r=t.loaded,a=t.userDataMap,o=t.userStakesMap,i=t.poolAprMap,c=Object(v.useMemo)((function(){return n}),[n]);return Object(ve.jsxs)(R.a,{index:2,width:"100%",backgroundPosition:"right",background:"bgimage2",children:[Object(ve.jsxs)(S.a,{noPaddingRight:!0,children:[Object(ve.jsx)(T.Q,{flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",children:Object(ve.jsxs)(T.q,{width:"100%",children:[Object(ve.jsxs)(T.T,{as:"h1",scale:"xl",mb:"16px",children:["TIME ",e("Staking")]}),Object(ve.jsx)(T.Kb,{children:e("TIME single token staking mining: both TIME and DSG tokens can be mined.")}),Object(ve.jsx)(T.Kb,{children:e("The logic of acquiring TIME: 20% of the TIME tokens consumed by users are added to the staking pool every day for staking users to mine TIME")}),Object(ve.jsx)(T.Kb,{children:e("The logic of acquiring DSG: 15% of the swapped DSG are directly distributed to the staking pool, 20% will go into value locked account, and will be released linearly in the next 6 months")}),Object(ve.jsx)(T.Kb,{mt:"16px",children:e("While staking TIME, you need to choose lock-up period. The sTIME acquired after the staking process is the certificate used for Metatime governance, it&apos;s also the certificate for calculating staking income. The longer the lock-up time, the more sTIME you can get from each TIME.")}),Object(ve.jsx)(T.Kb,{mt:"16px",children:e("Vesting Proportion")}),Object(ve.jsx)(nt,{children:Object(ve.jsxs)(rt,{children:[Object(ve.jsxs)(T.Q,{children:[Object(ve.jsx)(T.Kb,{width:"25%",children:e("Vesting period")}),Xe.map((function(t){return Object(ve.jsxs)(T.Kb,{width:"15%",children:[t.lable," ",e(t.unit)]},t.lable)}))]}),Object(ve.jsxs)(T.Q,{children:[Object(ve.jsx)(T.Kb,{width:"25%",children:e("Boost Factor")}),Xe.map((function(e){return Object(ve.jsx)(T.Kb,{width:"15%",children:e.value},e.value)}))]})]})})]})}),Object(ve.jsx)(at,{})]}),Object(ve.jsx)(T.q,{children:Object(ve.jsx)(tt,{children:r&&c.length?Object(ve.jsx)(D.a,{children:c.map((function(e){return Object(ve.jsx)(et,{poolInfo:e,userData:a[e.pid],userStakes:o[e.pid],poolApr:i[e.pid]},e.pid)}))}):Object(ve.jsx)(T.Q,{justifyContent:"center",alignItems:"center",children:r?Object(ve.jsx)(T.K,{}):Object(ve.jsx)(T.Hb,{})})})})]})}}}]);
//# sourceMappingURL=38.ca32476c.chunk.js.map