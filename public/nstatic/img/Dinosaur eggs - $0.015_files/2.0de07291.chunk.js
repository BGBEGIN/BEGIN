(this["webpackJsonpxxx-swap"]=this["webpackJsonpxxx-swap"]||[]).push([[2],{803:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"f",(function(){return m})),n.d(e,"g",(function(){return k})),n.d(e,"d",(function(){return C})),n.d(e,"e",(function(){return E})),n.d(e,"c",(function(){return g}));var r,a=n(3),c=n.n(a),o=n(1),u=n(9),s=n(12),i=n(2),b=n(15),f=n.n(b),l=n(39),O=n(57),j=n(64),d=n(17),p=n(37),h=n(133),v=n(113),x=n(398),S=function(){var t=Object(i.useState)(Date.now()),e=Object(s.a)(t,2),n=e[0],r=e[1];return{lastUpdated:n,previousLastUpdated:Object(x.a)(n),setLastUpdated:Object(i.useCallback)((function(){r(Date.now())}),[r])}};!function(t){t.NOT_FETCHED="not-fetched",t.SUCCESS="success",t.FAILED="failed"}(r||(r={}));var w=function(t,e){var n=r.NOT_FETCHED,a=r.SUCCESS,b=r.FAILED,l=Object(i.useState)({balance:p.c,fetchStatus:n}),d=Object(s.a)(l,2),h=d[0],x=d[1],S=Object(O.c)().account,w=Object(v.a)().fastRefresh;return Object(i.useEffect)((function(){(S||e)&&function(){var n=Object(u.a)(c.a.mark((function n(){var r,u;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Object(j.b)(t),n.prev=1,n.next=4,r.balanceOf(e||S);case 4:u=n.sent,x({balance:new f.a(u.toString()),fetchStatus:a}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0),x((function(t){return Object(o.a)(Object(o.a)({},t),{},{fetchStatus:b})}));case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(){return n.apply(this,arguments)}}()()}),[S,t,w,e,a,b]),h},m=function(){var t=Object(v.a)().slowRefresh,e=Object(i.useState)(),n=Object(s.a)(e,2),a=n[0],b=n[1],O=function(){var t=Object(d.e)(),e=r.NOT_FETCHED,n=r.SUCCESS,a=r.FAILED,b=Object(i.useState)({balance:p.c,fetchStatus:e}),O=Object(s.a)(b,2),h=O[0],x=O[1],S=Object(v.a)().fastRefresh;return Object(i.useEffect)((function(){!function(){var e=Object(u.a)(c.a.mark((function e(){var r,u,s,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(j.b)(t),e.prev=1,u=l.o.map((function(t){return r.balanceOf(t)})),e.next=5,Promise.all(u);case 5:s=e.sent,i=new f.a(0),s.forEach((function(t){i=i.plus(t.toString())})),x({balance:i,fetchStatus:n}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),x((function(t){return Object(o.a)(Object(o.a)({},t),{},{fetchStatus:a})}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}()()}),[S,n,a,t]),h}(),h=O.balance,x=O.fetchStatus;return Object(i.useEffect)((function(){function t(){return(t=Object(u.a)(c.a.mark((function t(){var e,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(j.d)(),t.next=3,e.totalSupply();case 3:n=t.sent,x===r.SUCCESS&&b(new f.a(n.toString()).minus(h));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[t,x,h]),a},k=function(){var t=Object(v.a)().slowRefresh,e=Object(i.useState)(),n=Object(s.a)(e,2),r=n[0],a=n[1];return Object(i.useEffect)((function(){function t(){return(t=Object(u.a)(c.a.mark((function t(){var e,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(j.w)(),t.next=3,e.totalSupply();case 3:n=t.sent,a(new f.a(n.toString()));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[t]),r},C=function(){var t=Object(i.useState)(p.c),e=Object(s.a)(t,2),n=e[0],r=e[1],a=Object(v.a)().slowRefresh;return Object(i.useEffect)((function(){(function(){var t=Object(u.a)(c.a.mark((function t(){var e,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(j.d)(),t.next=3,e.totalBurned();case 3:n=t.sent,r(new f.a(n.toString()));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[a]),n},E=function(){var t=Object(i.useState)(r.NOT_FETCHED),e=Object(s.a)(t,2),n=e[0],a=e[1],o=Object(i.useState)(p.c),b=Object(s.a)(o,2),l=b[0],j=b[1],d=Object(O.c)().account,v=S(),x=v.lastUpdated,w=v.setLastUpdated;return Object(i.useEffect)((function(){d&&function(){var t=Object(u.a)(c.a.mark((function t(){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.getBalance(d);case 3:e=t.sent,j(new f.a(e.toString())),a(r.SUCCESS),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(r.FAILED);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()()}),[d,x,j,a]),{balance:l,fetchStatus:n,refresh:w}},g=function(){return w(Object(d.e)())};e.b=w},804:function(t,e,n){"use strict";n.d(e,"f",(function(){return E})),n.d(e,"e",(function(){return g})),n.d(e,"i",(function(){return L})),n.d(e,"j",(function(){return y})),n.d(e,"h",(function(){return _})),n.d(e,"g",(function(){return D})),n.d(e,"a",(function(){return N})),n.d(e,"b",(function(){return F})),n.d(e,"d",(function(){return I})),n.d(e,"c",(function(){return U}));var r=n(1),a=n(3),c=n.n(a),o=n(11),u=n(9),s=n(12),i=n(2),b=n(32),f=n(96),l=n(65),O=n(7),j=n(132),d=n(67),p=n(57),h=n(40),v=n(229),x=n(224),S=n(113),w=n(395),m=n(22),k=n(256),C=n(228),E=function(){var t=Object(d.b)(),e=Object(S.a)().slowRefresh,n=Object(p.c)().account;Object(i.useEffect)((function(){n&&t(Object(w.d)(n))}),[t,e,n])},g=function(t){var e=Object(d.b)(),n=Object(S.a)().slowRefresh,r=Object(p.c)().account;Object(i.useEffect)((function(){r&&t&&e(Object(w.d)(r))}),[e,n,r,t])},L=function(){return Object(b.c)((function(t){return t.nfts}))},y=function(){var t=L().user;return{loaded:t.loaded,data:t.data.filter((function(t){return t.properties.owner_status===m.b.NORMAL}))}},_=function(t,e){return L().market.data.find((function(n){var r,a;return Number(null===(r=n.metadata)||void 0===r||null===(a=r.properties)||void 0===a?void 0:a.token_id)===Number(t)&&"".concat(e).toLowerCase()===n.nft.toLowerCase()}))},D=function(t,e){var n=L().user;return(null===n||void 0===n?void 0:n.data)?n.data.find((function(n){return Number(n.properties.token_id)===Number(t)&&"".concat(e).toLowerCase()===n.properties.token.toLowerCase()})):null},N=function(t,e){var n=Object(p.c)().account,r=Object(d.b)(),a=L().market,b=Object(i.useState)(""),f=Object(s.a)(b,2),l=f[0],O=f[1],j=Object(i.useState)(x.b.NOT_FETCHED),v=Object(s.a)(j,2),S=v[0],m=v[1],C=Object(i.useCallback)(function(){var e=Object(u.a)(c.a.mark((function e(u){var i,b,f,l,O,j,d,p,v,S,C,E,g,L,y,_,D,N,F,A,T,I;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(x.b.LOADING),b=(i=a||{}).data,f=i.limit,l=i.loadEnd,O=i.total,j=JSON.parse(t),d=j.sort,p=j.currency,v=j.search,S=j.nft,C=j.isOwner,E=j.contract,g=j.contracts,!u){e.next=7;break}r(Object(w.f)({refresh:u,data:[],total:O})),e.next=10;break;case 7:if(!l){e.next=10;break}return m(x.b.DATA_END),e.abrupt("return");case 10:return L=u?0:(null===b||void 0===b?void 0:b.length)||0,y=C?"".concat(n).toLowerCase():"",r(Object(w.h)(!0)),_=v?Object(h.h)(v)?["seller",v.toLowerCase()]:(Number(v),["token_id",v]):["",""],D=Object(s.a)(_,2),N=D[0],F=D[1],e.prev=14,e.next=17,Object(k.a)(Object(o.a)({limit:f,sort:d,contract:null===E||void 0===E?void 0:E.toLowerCase(),"metadata.properties.nft":null===S||void 0===S?void 0:S.toLowerCase(),currency:null===p||void 0===p?void 0:p.toLowerCase(),offset:L,seller:y,contracts:null===g||void 0===g?void 0:g.map((function(t){return null===t||void 0===t?void 0:t.toLowerCase()}))},N,F));case 17:A=e.sent,T=A.data,I=A.total,r(Object(w.f)({data:T,total:I,refresh:u})),m(x.b.SUCCESS),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(14),m(x.b.FAILED);case 27:n&&r(Object(w.b)(n));case 28:case"end":return e.stop()}}),e,null,[[14,24]])})));return function(t){return e.apply(this,arguments)}}(),[a,t,n,r]);return Object(i.useEffect)((function(){if(S===x.b.NOT_FETCHED||t!==l){if(O(t),!e)return;m(x.b.LOADING),C(!0)}}),[S,t,l,e,C]),{fetchData:C,fetchState:S,setFetchState:m}},F=function(t){var e=Object(p.c)().account,n=Object(d.b)(),r=L().marketHistory,a=Object(i.useState)(""),o=Object(s.a)(a,2),b=o[0],f=o[1],l=Object(i.useState)(x.b.NOT_FETCHED),O=Object(s.a)(l,2),j=O[0],v=O[1],S=Object(i.useCallback)(function(){var a=Object(u.a)(c.a.mark((function a(o){var u,i,b,f,l,O,j,d,p,S,m,C,E,g,L,y,_,D,N,F;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(v(x.b.LOADING),i=(u=r||{}).data,b=u.limit,f=u.loadEnd,l=u.total,O=JSON.parse(t),j=O.sort,d=O.currency,p=O.search,S=O.nft,m=O.isOwner,C=O.time,E=O.contract,g=O.contracts,!o){a.next=7;break}n(Object(w.g)({refresh:o,data:[],total:l})),a.next=10;break;case 7:if(!f){a.next=10;break}return v(x.b.DATA_END),a.abrupt("return");case 10:return L=o?0:(null===i||void 0===i?void 0:i.length)||0,m?e:"",n(Object(w.h)(!0)),y=p?Object(h.h)(p)?["seller",p]:(Number(p),["token_id",p]):["",""],_=Object(s.a)(y,2),_[0],_[1],a.prev=14,a.next=17,Object(k.a)({limit:b,sort:j,contract:null===E||void 0===E?void 0:E.toLowerCase(),"metadata.properties.nft":null===S||void 0===S?void 0:S.toLowerCase(),currency:null===d||void 0===d?void 0:d.toLowerCase(),contracts:null===g||void 0===g?void 0:g.map((function(t){return null===t||void 0===t?void 0:t.toLowerCase()})),offset:L,final_time_gt:C,state:1});case 17:D=a.sent,N=D.data,F=D.total,n(Object(w.g)({data:N,total:F,refresh:o})),v(x.b.SUCCESS),a.next=27;break;case 24:a.prev=24,a.t0=a.catch(14),v(x.b.FAILED);case 27:e&&n(Object(w.b)(e));case 28:case"end":return a.stop()}}),a,null,[[14,24]])})));return function(t){return a.apply(this,arguments)}}(),[r,t,e,n]);return Object(i.useEffect)((function(){(j===x.b.NOT_FETCHED||t!==b)&&(f(t),v(x.b.LOADING),S(!0))}),[j,t,b,S]),{fetchData:S,fetchState:j,setFetchState:v}},A=function(){var t=Object(u.a)(c.a.mark((function t(e,n,a){var o,u,i,b,l,j,d;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(k.a)({contract:null===e||void 0===e?void 0:e.toLowerCase(),token_id:n});case 2:if((u=t.sent).total){t.next=5;break}return t.abrupt("return",null);case 5:if(a){t.next=7;break}return t.abrupt("return",u.data[0]);case 7:return t.next=9,Object(C.d)(a);case 9:return i=t.sent,t.next=12,Object(C.b)(a,[null===(o=u.data[0])||void 0===o?void 0:o.metadata]);case 12:return b=t.sent,l=Object(s.a)(b,1),j=l[0],d=i.find((function(t){return u.data[0].currency.toLowerCase()===t.currency.toLowerCase()}))||{allowance:f.a.constants.MaxUint256.toHexString(),currencySymbol:O.e.symbol},t.abrupt("return",Object(r.a)(Object(r.a)(Object(r.a)({},u.data[0]),d),j));case 17:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),T=function(){var t=Object(u.a)(c.a.mark((function t(e,n,a){var o,u,i,b,f,O,j,d;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=Object(l.e)(e),u=null,!o){t.next=8;break}return t.next=5,Object(v.b)(e,[n]);case 5:u=t.sent,t.next=11;break;case 8:return t.next=10,Object(v.a)(e,[n]);case 10:u=t.sent;case 11:if(!u||!u.length){t.next=25;break}if(a){t.next=14;break}return t.abrupt("return",u[0]);case 14:return t.next=16,Object(C.b)(a,[u[0]]);case 16:return i=t.sent,b=Object(s.a)(i,1),f=b[0],t.next=21,Object(k.d)([u[0]]);case 21:return O=t.sent,j=Object(s.a)(O,1),d=j[0],t.abrupt("return",Object(r.a)(Object(r.a)(Object(r.a)({},u[0]),f),d));case 25:return t.abrupt("return",null);case 26:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),I=function(t,e,n){var r=Object(i.useState)(x.b.NOT_FETCHED),a=Object(s.a)(r,2),o=a[0],b=a[1],f=Object(i.useState)(null),l=Object(s.a)(f,2),O=l[0],d=l[1],h=Object(i.useState)(null),v=Object(s.a)(h,2),w=v[0],m=v[1],k=Object(i.useState)(null),C=Object(s.a)(k,2),E=C[0],g=C[1],L=Object(p.c)().account,y=Object(i.useState)(""),_=Object(s.a)(y,2),D=_[0],N=_[1],F=Object(S.a)().fastRefresh,I=Object(i.useCallback)(Object(u.a)(c.a.mark((function n(){var r,a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o===x.b.SUCCESS?b(x.b.REFRESH):b(x.b.LOADING),n.prev=1,n.next=4,A(t,e,L);case 4:if(!(r=n.sent)){n.next=10;break}return m(r),d(j.a.MARKET),b(x.b.SUCCESS),n.abrupt("return");case 10:return n.next=12,T(t,e,L);case 12:if(!(a=n.sent)){n.next=18;break}return g(a),d(j.a.INFO),b(x.b.SUCCESS),n.abrupt("return");case 18:n.next=24;break;case 20:n.prev=20,n.t0=n.catch(1),console.error(n.t0),b(x.b.FAILED);case 24:case"end":return n.stop()}}),n,null,[[1,20]])}))),[o,t,e,L]);return Object(i.useEffect)((function(){var r="".concat(e,"_").concat(t,"_").concat(n,"_").concat(F,"_").concat(L);e&&t&&r!==D&&(N(r),I())}),[I,t,e,n,D,F,L]),{fetchData:I,dataType:O,marketNftInfo:w,nftInfo:E,fetchState:o,setFetchState:b}},U=function(t,e){var n=Object(i.useState)(x.b.NOT_FETCHED),r=Object(s.a)(n,2),a=r[0],o=r[1],b=Object(i.useState)(null),f=Object(s.a)(b,2),l=f[0],O=f[1],j=Object(i.useCallback)(Object(u.a)(c.a.mark((function n(){var r,a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(x.b.LOADING),n.prev=1,n.next=4,Object(k.a)({limit:500,sort:"final_time",contract:null===t||void 0===t?void 0:t.toLowerCase(),token_id:e,state:1});case 4:r=n.sent,a=r.data,r.total,O(a),o(x.b.SUCCESS),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),console.error(n.t0),o(x.b.FAILED);case 15:case"end":return n.stop()}}),n,null,[[1,11]])}))),[t,e]);return Object(i.useEffect)((function(){e&&t&&j()}),[j,t,e]),{fetchData:j,historyData:l,fetchState:a,setFetchState:o}}},848:function(t,e,n){"use strict";n(2);var r=n(44),a=n(4),c=n(20),o=n(0);e.a=function(t){var e=t.symbol,n=t.address,u=Object(c.b)().t;return Object(o.jsxs)(o.Fragment,{children:[u("Insufficient %symbol% balance",{symbol:e}),":\xa0",Object(o.jsx)(a.fb,{fontSize:"14px",bold:!1,href:"".concat(r.h).concat(n),external:!0,color:"failure",children:u("Get %symbol%",{symbol:e})})]})}},929:function(t,e,n){"use strict";var r,a,c,o,u=n(1),s=n(41),i=n(12),b=n(26),f=n(6),l=n(2),O=n(4),j=n(259),d=n(5),p=n(232),h=n(0),v=["onChange","nfts","hasAll","maxSelect","children"],x=Object(d.e)(O.v)(r||(r=Object(f.a)(["\n  width: 432px;\n  min-width: 100px;\n  max-width: 100%;\n  max-height: 38.2vh;\n  box-shadow: ",";\n  background-color: ",";\n  padding: 8px;\n"])),(function(t){return t.theme.shadows.inset}),(function(t){return t.theme.colors.backgroundLight})),S=Object(d.e)(O.Q)(a||(a=Object(f.a)(["\n  max-height: 32.2vh;\n  width: 100%;\n  overflow-y: scroll;\n"]))),w=Object(d.e)(O.Q)(c||(c=Object(f.a)(["\n  /* width: 76px;\n  height: 105px; */\n  box-shadow: ",";\n  justify-content: center;\n  align-items: center;\n  border-radius: 10px;\n  position: relative;\n  overflow: hidden;\n  cursor: pointer;\n  user-select: none;\n  margin: 8px;\n"])),(function(t){return t.theme.shadows.inset})),m=Object(d.e)(w)(o||(o=Object(f.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  box-shadow: none;\n  background-color: rgba(83, 83, 83, 0.6);\n"])));e.a=function(t){var e=t.onChange,n=t.nfts,r=t.hasAll,a=void 0!==r&&r,c=t.maxSelect,o=void 0===c?0:c,f=t.children,d=Object(b.a)(t,v),k=Object(l.useState)([]),C=Object(i.a)(k,2),E=C[0],g=C[1],L=Object(l.useState)([]),y=Object(i.a)(L,2),_=y[0],D=y[1],N=Object(l.useState)(!1),F=Object(i.a)(N,2),A=F[0],T=F[1],I=Object(l.useCallback)((function(t){var r,a=[];E.some((function(e){return e.properties.token_id===t.properties.token_id}))?(a=E.filter((function(e){return e.properties.token_id!==t.properties.token_id})),D(_.filter((function(e){return e!==t.properties.token_id})))):o&&E.length>o||1===o?(a=[t],D([t.properties.token_id])):o&&E.length===o?a=Object(s.a)(E):(a=[].concat(Object(s.a)(E),[t]),D([].concat(Object(s.a)(_),[t.properties.token_id]))),g(a),(null===(r=a)||void 0===r?void 0:r.length)===(null===n||void 0===n?void 0:n.length)?T(!0):T(!1),e&&e(a)}),[E,n,g,e,_,D,o,T]),U=Object(l.useCallback)((function(t){T(t),t?(g(Object(s.a)(n)),D(n.map((function(t){return t.properties.token_id}))),e&&e(Object(s.a)(n))):(g([]),D([]),e&&e([]))}),[T,g,n,D,e]);return Object(h.jsxs)(x,Object(u.a)(Object(u.a)({},d),{},{children:[Object(h.jsxs)(O.Q,{margin:"8px",alignItems:"center",justifyContent:"space-between",children:[Object(h.jsx)(O.Q,{flex:"1",alignItems:"center",justifyContent:"space-between",children:f}),a&&Object(h.jsxs)(O.Q,{alignItems:"center",children:[Object(h.jsx)(O.z,{name:"selectAll",type:"checkbox",checked:A,onChange:function(){return U(!A)},scale:"sm"}),Object(h.jsx)(O.Kb,{ml:"4px",children:"ALL"})]})]}),Object(h.jsxs)(S,{justifyContent:"space-around",flexWrap:"wrap",children:[Object(h.jsx)(j.a,{children:n.map((function(t){return Object(h.jsxs)(w,{onClick:function(){return I(t)},children:[Object(h.jsx)(p.a,{src:t.image,scale:"sm",id:t.properties.token_id,nft:t.properties.token,name:t.name,level:t.properties.level,power:t.properties.power}),_.includes(t.properties.token_id)?Object(h.jsx)(m,{children:Object(h.jsx)(O.Db,{width:28})}):null]},t.properties.token_id)}))}),!n.length&&Object(h.jsx)(O.q,{width:"100%",children:Object(h.jsx)(O.K,{scale:"sm"})})]})]}))}}}]);
//# sourceMappingURL=2.0de07291.chunk.js.map