(this["webpackJsonpxxx-swap"]=this["webpackJsonpxxx-swap"]||[]).push([[13],{1355:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Ht}));var r,a,c,i,s,o,u,l,b,d=n(1),j=n(12),f=n(6),p=n(2),O=n(81),x=n(15),h=n.n(x),m=n(57),v=n(4),k=n(5),w=n(407),g=n(255),y=n(114),S=n(804),C=n(22),T=n(20),D=n(402),A=n(259),N=n(836),L=n(17),F=n(51),E=n(370),P=n(34),R=n(37),q=n(134),_=n(396),M=n(425),I=n(412),B=n(393),K=n(224),Q=n(474),G=n(53),U=n(3),z=n.n(U),H=n(9),V=n(26),W=n(67),Y=n(115),Z=n(395),X=n(91),J=n(0),$=k.e.div(r||(r=Object(f.a)(["\n  display: inline-block;\n"]))),ee=(k.e.div(a||(a=Object(f.a)(["\n  color: ",";\n  /* width: 36px; */\n  text-align: right;\n  margin-right: 4px;\n\n  "," {\n    /* text-align: left; */\n    margin-right: 4px;\n  }\n"])),(function(e){return e.theme.colors.text}),(function(e){return e.theme.mediaQueries.lg})),k.e.div(c||(c=Object(f.a)(["\n  display: flex;\n  align-items: center;\n"])))),te=function(e){var t=e.multiplier,n=e.rewardSymbol,r=void 0===n?"DSG":n,a=(t?t.toLowerCase():v.Eb,Object(T.b)().t),c=Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(v.Kb,{children:a("The Multiplier represents the proportion of %assets% rewards each farm receives, as a proportion of the %assets% produced each block.",{assets:r})}),Object(J.jsx)(v.Kb,{my:"24px",children:a("For example, if a 1x farm received 1 %assets% per block, a 40x farm would receive 40 %assets% per block.",{assets:r})}),Object(J.jsx)(v.Kb,{children:a("This amount is already included in all APR calculations for the farm.")})]}),i=Object(v.ac)(c,{placement:"top-end",tooltipOffset:[20,10]}),s=i.targetRef,o=i.tooltip,u=i.tooltipVisible;return Object(J.jsxs)(ee,{children:[Object(J.jsx)($,{ref:s,children:Object(J.jsx)(v.U,{width:16,color:"textSubtle"})}),u&&o]})},ne=n(44),re=n(82),ae=function(e){var t=e.quoteTokenAddress,n=e.tokenAddress,r=Object(L.D)(),a=t?t[56]:null,c=n?n[56]:null,i=c&&c!==r?c:"BNB";return"".concat(a&&a!==r?a:"BNB","/").concat(i)},ce=n(40),ie=n(98),se=n(409),oe=n(58),ue=n(52),le=Object(k.e)(v.Q)(i||(i=Object(f.a)(["\n  svg {\n    /* margin-right: 4px; */\n  }\n"]))),be=function(e){var t=e.lpAddress,n=e.lpLabel,r=e.singleToken,a=e.token,c=e.quoteToken,i=e.farmTypes,s=e.onLockClick,o=e.isLock,u=(e.farm,e.hideLock),l=e.nftInfo,b=Object(T.b)().t,d=Object(p.useState)(!1),f=Object(j.a)(d,2),O=f[0],x=f[1],h=Object(p.useState)(!1),m=Object(j.a)(h,2),k=(m[0],m[1]),w=Object(ie.a)().toastInfo,g=n.split(" ")[0],y=Object(ue.h)(null===a||void 0===a?void 0:a.token),S=Object(ue.h)(null===c||void 0===c?void 0:c.token),C=Object(p.useCallback)(Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=3;break}return w(b("Tips"),b("You've accelerated")),e.abrupt("return");case 3:if(!o||!s){e.next=10;break}return x(!0),e.next=7,s();case 7:x(!1),e.next=11;break;case 10:i===K.a.NFT_EARN_ERC20?k(!0):s&&s();case 11:case"end":return e.stop()}}),e)}))),[k,o,i,s,l,w,b]);return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(le,{justifyContent:"",alignItems:"center",mb:"12px",children:[r?Object(J.jsx)(oe.a,{currency:y}):Object(J.jsx)(se.b,{variant:"inverted",primaryToken:y,secondaryToken:S,width:55,height:55}),Object(J.jsxs)(v.q,{ml:"12px",children:[Object(J.jsxs)(v.T,{scale:"ld",mb:"4px",children:[g," ",r?"TOKEN":"LP"]}),Object(J.jsx)(v.gb,{fontSize:"16px",href:Object(ce.e)(t,"token"),children:b("View Contract")})]}),u?null:Object(J.jsx)(v.Q,{justifyContent:"flex-end",flex:"1",children:Object(J.jsx)(v.r,{isLoading:O,padding:"0",onClick:C,variant:"text",children:Object(J.jsx)(v.q,{width:"60px",children:Object(J.jsx)(v.X,{src:"/images/nfts/feed.gif?12",width:60,height:60})})})})]})})},de=n(130),je=n(140),fe=n(197),pe=n(195),Oe=function(e){var t=e.max,n=e.onConfirm,r=e.onDismiss,a=e.tokenName,c=void 0===a?"":a,i=e.addLiquidityUrl,s=Object(p.useState)(""),o=Object(j.a)(s,2),u=o[0],l=o[1],b=Object(ie.a)(),d=b.toastSuccess,f=b.toastError,O=Object(p.useState)(!1),x=Object(j.a)(O,2),m=x[0],k=x[1],w=Object(T.b)().t,g=Object(p.useMemo)((function(){return Object(F.i)(t)}),[t]),y=new h.a(u),S=new h.a(g),C=Object(p.useCallback)((function(e){e.currentTarget.validity.valid&&l(e.currentTarget.value.replace(/,/g,"."))}),[l]),D=Object(p.useCallback)((function(){l(g)}),[g,l]);return Object(J.jsxs)(v.pb,{title:w("Stake LP tokens"),onDismiss:r,children:[Object(J.jsx)(pe.b,{value:u,onSelectMax:D,onChange:C,max:g,symbol:c,addLiquidityUrl:i,inputTitle:w("Stake")}),Object(J.jsxs)(pe.a,{children:[Object(J.jsx)(v.r,{variant:"secondary",onClick:r,width:"100%",disabled:m,children:w("Cancel")}),Object(J.jsx)(v.r,{width:"100%",disabled:m||!y.isFinite()||y.eq(0)||y.gt(S),onClick:Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,e.next=4,n(u);case 4:d(w("Staked!"),w("Your funds have been staked in the farm")),r(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),f(w("Error"),w("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 12:return e.prev=12,k(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])}))),children:w(m?"Confirming":"Confirm")})]}),Object(J.jsx)(v.gb,{href:i,style:{alignSelf:"center"},children:w("Get %symbol%",{symbol:c})})]})},xe=n(132),he=function(e){var t=e.max,n=e.onConfirm,r=e.onDismiss,a=e.defaultVal,c=void 0===a?"":a,i=e.tokenName,s=void 0===i?"":i,o=e.addLiquidityUrl,u=Object(p.useState)(c),l=Object(j.a)(u,2),b=l[0],d=l[1],f=Object(ie.a)(),O=f.toastSuccess,x=f.toastError,m=Object(p.useState)(!1),k=Object(j.a)(m,2),w=k[0],g=k[1],y=Object(T.b)().t,S=Object(p.useMemo)((function(){return Object(F.i)(t)}),[t]),C=new h.a(b),D=new h.a(S),A=Object(p.useCallback)((function(e){e.currentTarget.validity.valid&&d(e.currentTarget.value.replace(/,/g,"."))}),[d]),N=Object(p.useCallback)((function(){d(S)}),[S,d]);return Object(J.jsxs)(v.pb,{minWidth:"370px",title:y("NFT-Earning"),onDismiss:r,children:[Object(J.jsx)(pe.b,{value:b,onSelectMax:N,onChange:A,max:S,symbol:s,addLiquidityUrl:o,inputTitle:y("Stake"),hideMax:!0,readOnly:!0}),Object(J.jsx)(v.cb,{mt:"32px",children:Object(J.jsxs)(v.Q,{alignItems:"center",children:[Object(J.jsx)(xe.c,{scale:"xs",mr:"8px"}),Object(J.jsxs)(v.Q,{flexDirection:"column",flex:"1",children:[Object(J.jsx)(v.Q,{children:Object(J.jsx)(v.Kb,{textTransform:"uppercase",pr:"4px",children:y("You will receive")})}),Object(J.jsxs)(v.Q,{justifyContent:"space-between",mt:"8px",children:[Object(J.jsx)(v.Kb,{bold:!0,textTransform:"uppercase",fontSize:"20px",pr:"4px",children:"1"}),Object(J.jsx)(v.Kb,{bold:!0,textTransform:"uppercase",fontSize:"20px",children:"NFT"})]})]})]})}),Object(J.jsxs)(pe.a,{children:[Object(J.jsx)(v.r,{variant:"secondary",onClick:r,width:"100%",disabled:w,children:y("Cancel")}),Object(J.jsx)(v.r,{width:"100%",disabled:w||!C.isFinite()||C.eq(0)||C.gt(D),onClick:Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,n();case 4:O(y("Staked!"),y("Your funds have been staked in the farm")),r(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),x(y("Error"),y("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 12:return e.prev=12,g(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])}))),children:y(w?"Confirming":"Confirm")})]}),Object(J.jsx)(v.gb,{href:o,style:{alignSelf:"center"},children:y("Get %symbol%",{symbol:s})})]})},me=n(413),ve=n(408),ke=k.e.div(s||(s=Object(f.a)(["\n  background-color: ",";\n  height: 1px;\n  margin: 24px auto;\n  width: 100%;\n"])),(function(e){return e.theme.colors.textSubtle})),we=function(e){var t=e.item,n=e.index,r=e.outputs,a=e.tokenName,c=e.stakeTime,i=e.onConfirm,s=e.onDismiss,o=Object(ie.a)(),u=o.toastSuccess,l=o.toastError,b=Object(T.b)().t,d=new h.a(c),f=Object(ve.a)(d.toNumber()),O=f.days,x=f.hours,m=f.minutes,k=Object(p.useState)(!1),w=Object(j.a)(k,2),g=w[0],y=w[1],S=Math.floor(Date.now()/1e3),C=Number(t.endTime)-S;C=C<0?0:C;var D,A,N=Object(ve.a)(C),L=N.days,E=N.hours,P=N.minutes,R=d.minus(C).div(d).times(100).toNumber()||0,q=new h.a(t.amount);return Object(J.jsxs)(v.q,{children:[0===n?null:Object(J.jsx)(ke,{}),Object(J.jsxs)(v.Q,{alignItems:"center",children:[Object(J.jsxs)(v.Q,{mr:"20px",justifyContent:"space-between",flex:"1",children:[Object(J.jsxs)(v.q,{children:[Object(J.jsx)(v.Kb,{color:"textSubtle",fontSize:"14px",children:a}),Object(J.jsx)(v.Kb,{bold:!0,fontSize:"20px",children:Object(F.i)(q)})]}),Object(J.jsxs)(v.q,{children:[Object(J.jsx)(v.Kb,{color:"textSubtle",fontSize:"14px",children:b("You will receive")}),Object(J.jsx)(v.Kb,{textAlign:"right",bold:!0,fontSize:"20px",children:r})]})]}),(D=t.isCompleted,A=t.sid,D?Object(J.jsx)(v.r,{disabled:g,onClick:Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,i(D,A);case 4:u(b("Harvested!"),b("Your earnings have also been harvested to your wallet")),s(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),l(b("Error"),b("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 12:return e.prev=12,y(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])}))),children:b(g?"Harvesting":"Harvest")}):Object(J.jsx)(v.r,{disabled:g,onClick:Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,i(D,A);case 4:u(b("Withdrawed!"),b("Your earnings have also been harvested to your wallet")),s(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),l(b("Error"),b("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 12:return e.prev=12,y(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])}))),children:b(g?"Withdrawing":"Withdraw")}))]}),Object(J.jsxs)(v.Q,{mt:"12px",justifyContent:"space-between",children:[Object(J.jsxs)(v.Kb,{color:"textSubtle",style:{display:"flex"},fontSize:"14px",children:[b("Time left"),"\xa0 \xa0",Object(J.jsx)(me.a,{minutes:P,hours:E,days:L})]}),Object(J.jsxs)(v.Kb,{color:"textSubtle",style:{display:"flex"},fontSize:"14px",children:[b("Duration"),Object(J.jsx)(me.a,{minutes:m,hours:x,days:O})]})]}),Object(J.jsx)(v.Ab,{primaryStep:R})]},t.sid)},ge=function(e){var t=e.onDismiss,n=e.outputs,r=e.stakeView,a=e.tokenName,c=e.stakeTime,i=void 0===c?"0":c,s=e.onConfirm,o=Object(T.b)().t;return Object(J.jsxs)(v.pb,{minWidth:"350px",title:o("Unstake %asset%",{asset:"DSG"}),onDismiss:t,children:[r.map((function(e,r){return Object(J.jsx)(we,{onDismiss:t,outputs:n,item:e,index:r,tokenName:a,stakeTime:i,onConfirm:s})})),Object(J.jsx)(pe.a,{children:Object(J.jsx)(v.Kb,{width:"350px",textAlign:"left",color:"failure",fontSize:"14px",children:o("If you withdraw LP tokens in advance, you may not receive any NFT at all and will only receive a full refund of your LP tokens.")})})]})},ye=n(162),Se=function(e){var t=e.onConfirm,n=e.onDismiss,r=e.nftInfo,a=e.max,c=e.tokenName,i=void 0===c?"":c,s=Object(p.useState)(""),o=Object(j.a)(s,2),u=o[0],l=o[1],b=Object(ie.a)(),d=b.toastSuccess,f=b.toastError,O=Object(p.useState)(!1),x=Object(j.a)(O,2),m=x[0],k=x[1],w=Object(ye.a)().theme,g=Object(T.b)(),y=g.t,S=g.getHTML,C=Object(p.useMemo)((function(){return Object(F.i)(a)}),[a]),D=new h.a(u),A=new h.a(C),N=Object(p.useCallback)((function(e){e.currentTarget.validity.valid&&l(e.currentTarget.value.replace(/,/g,"."))}),[l]),L=Object(p.useCallback)((function(){l(C)}),[C,l]);return Object(J.jsxs)(v.pb,{title:y("Unstake LP tokens"),onDismiss:n,children:[Object(J.jsx)(pe.b,{onSelectMax:L,onChange:N,value:u,max:C,symbol:i,inputTitle:y("Unstake")}),r&&Object(J.jsx)(v.q,{mt:"24px",children:Object(J.jsxs)(v.Kb,{fontSize:"14px",color:"textSubtle",children:["* ",S('After the use of "meat", any LP %reduction% will cause "meat" to %expire%',{expire:'<span style="color: '.concat(w.colors.warning,'">').concat(y("expire"),"</span>"),reduction:'<span style="color: '.concat(w.colors.warning,'">').concat(y("reduction"),"</span>")})]})}),Object(J.jsxs)(pe.a,{children:[Object(J.jsx)(v.r,{variant:"secondary",onClick:n,width:"100%",disabled:m,children:y("Cancel")}),Object(J.jsx)(v.r,{disabled:m||!D.isFinite()||D.eq(0)||D.gt(A),onClick:Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,e.next=4,t(u);case 4:d(y("Unstaked!"),y("Your earnings have also been harvested to your wallet")),n(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),f(y("Error"),y("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 12:return e.prev=12,k(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])}))),width:"100%",children:y(m?"Confirming":"Confirm")})]})]})},Ce=n(163),Te=n(56),De=function(e,t){var n=Object(Te.j)(e);return{onUnstake:Object(p.useCallback)(function(){var e=Object(H.a)(z.a.mark((function e(r){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ce.D)(n,t,r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,t])}},Ae=function(e,t){var n=Object(Te.j)(e);return{onStake:Object(p.useCallback)(function(){var e=Object(H.a)(z.a.mark((function e(r){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ce.u)(n,t,r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,t])}},Ne=function(e){var t=Object(Te.g)();return{onReward:Object(p.useCallback)(function(){var n=Object(H.a)(z.a.mark((function n(r){return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ce.m)(t,e,r);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,e])}},Le=k.e.div(o||(o=Object(f.a)(["\n  display: flex;\n  svg {\n    width: 20px;\n  }\n"]))),Fe=function(e){var t=e.stakedBalance,n=e.tokenBalance,r=e.tokenName,a=e.pid,c=e.addLiquidityUrl,i=e.farmTypes,s=e.stakeAmount,o=e.stakeView,u=void 0===o?[]:o,l=e.stakeTime,b=e.outputs,d=e.nftInfo,f=e.lpAddress,x=e.farmPoolType,k=e.lpTokenPrice,w=e.removed,g=Object(T.b)().t,y=Ae(f,a).onStake,S=function(e){var t=Object(Te.g)();return{onStake:Object(p.useCallback)(Object(H.a)(z.a.mark((function n(){return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ce.t)(t,e);case 2:case"end":return n.stop()}}),n)}))),[t,e])}}(a).onStake,C=De(f,a).onUnstake,D=function(e){var t=Object(Te.g)();return{onUnstake:Object(p.useCallback)(function(){var n=Object(H.a)(z.a.mark((function n(r){return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ce.C)(t,e,r);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,e])}}(a).onUnstake,A=Ne(a).onReward,N=(Object(O.h)(),Object(W.b)()),L=Object(m.c)().account,E=new h.a(k||0),P=(u.filter((function(e){return!e.isCompleted})),function(){var e=Object(H.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:N(Object(Y.j)(L,x));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R=function(){var e=Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:N(Object(Y.d)(L));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(H.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:N(Object(Y.j)(L,x));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(H.a)(z.a.mark((function e(t,n){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,A(n);case 3:e.next=7;break;case 5:return e.next=7,D(n);case 7:N(Object(Y.d)(L));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=Object(p.useCallback)((function(){var e=Object(F.f)(t);return e.gt(0)&&e.lt(1e-7)?e.toFixed(10,h.a.ROUND_DOWN):e.gt(0)&&e.lt(1e-4)?Object(F.i)(t).toLocaleString():e.toFixed(3,h.a.ROUND_DOWN)}),[t]),I=Object(v.Zb)(Object(J.jsx)(Oe,{max:n,onConfirm:P,tokenName:r,addLiquidityUrl:c})),B=Object(j.a)(I,1)[0],Q=Object(v.Zb)(Object(J.jsx)(he,{defaultVal:s,max:n,onConfirm:R,tokenName:r,addLiquidityUrl:c})),G=Object(j.a)(Q,1)[0],U=Object(v.Zb)(Object(J.jsx)(Se,{max:t,nftInfo:d,onConfirm:q,tokenName:r})),V=Object(j.a)(U,1)[0],Z=Object(v.Zb)(Object(J.jsx)(ge,{onConfirm:_,stakeTime:l,tokenName:r,outputs:b,stakeView:u})),X=Object(j.a)(Z,1)[0],$=Object(p.useCallback)((function(){switch(i){case K.a.LP_FARM:B();break;case K.a.ERC20_EARN_NFT:G();break;default:B()}}),[i,B,G]),ee=Object(p.useCallback)((function(){switch(i){case K.a.LP_FARM:V();break;case K.a.ERC20_EARN_NFT:X();break;default:V()}}),[i,V,X]);return Object(J.jsxs)(v.Q,{mt:"8px",justifyContent:"space-between",alignItems:"center",children:[Object(J.jsxs)(v.Q,{flexDirection:"column",alignItems:"flex-start",children:[Object(J.jsx)(v.T,{color:t.eq(0)?"textDisabled":"text",children:M()}),t.gt(0)&&E.gt(0)&&Object(J.jsx)(fe.a,{fontSize:"12px",color:"textSubtle",decimals:2,value:Object(F.g)(E.times(t)),unit:" USD",prefix:"~"})]}),t.eq(0)?Object(J.jsx)(v.r,{onClick:$,disabled:w,children:g("Stake LP")}):Object(J.jsxs)(Le,{children:[Object(J.jsx)(v.W,{variant:"tertiary",onClick:ee,mr:"6px",children:Object(J.jsx)(v.ob,{color:"primary",width:"14px"})}),Object(J.jsx)(v.W,{variant:"tertiary",onClick:$,disabled:w,children:Object(J.jsx)(v.b,{color:"primary",width:"14px"})})]})]})},Ee=n(63),Pe=Object(k.e)(v.v)(u||(u=Object(f.a)(["\n  background: ",";\n  color: white;\n"])),(function(e){return e.theme.colors.primary})),Re=function(e){var t=e.earnings,n=e.nftInfo,r=e.pid,a=e.lpAddress,c=e.rewardToken,i=e.farmPoolType,s=e.onLockClick,o=e.memberDataInfo,u=e.hideLock,l=Object(m.c)().account,b=Object(ie.a)(),d=b.toastSuccess,f=b.toastError,O=b.toastInfo,x=b.toastCustom,k=b.remove,w=Object(v.Xb)(),g=Object(j.a)(w,2),S=g[0],C=g[1],D=Object(T.b)().t,A=Object(p.useState)(!1),N=Object(j.a)(A,2),L=N[0],E=N[1],P=function(e,t){var n=Object(Te.j)(e);return{onReward:Object(p.useCallback)(Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ce.o)(n,t));case 1:case"end":return e.stop()}}),e)}))),[t,n])}}(a,r).onReward,q=Object(ue.h)(c),_=Object(y.i)(c),M=Object(W.b)(),I=l?Object(F.f)(t):R.c,B=I.toFixed(3,h.a.ROUND_DOWN),K=I?I.multipliedBy(_).toNumber():0,Q=Object(p.useCallback)(Object(H.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return t=e.sent,S(),e.next=6,t.wait();case 6:M(Object(Y.j)(l,i));case 7:case"end":return e.stop()}}),e)}))),[P,S,M,l,i]),G=Object(p.useCallback)((function(){if(o)var e=x({title:"",ttl:1e4,width:"300px",description:Object(J.jsxs)(v.q,{width:"248px",mt:"16px",pl:"24px",children:[Object(J.jsx)(v.T,{children:D("%amouunt% %symbol% harvested!",{amouunt:B,symbol:null===q||void 0===q?void 0:q.symbol})}),Object(J.jsx)(v.Kb,{mt:"16px",fontSize:"14px",children:D("Deposit %amouunt% %symbol% into vDSG, in 180 days, you will get: ",{amouunt:B,symbol:null===q||void 0===q?void 0:q.symbol})}),Object(J.jsxs)(Pe,{padding:"16px 8px",mt:"8px",children:[Object(J.jsxs)(v.Q,{alignItems:"baseline",justifyContent:"center",children:[Object(J.jsx)(v.Kb,{fontSize:"28px",color:"white",bold:!0,children:Object(F.e)(I.times(null===o||void 0===o?void 0:o.totalApr).div(100).div(365).times(180).toNumber()||0)}),Object(J.jsx)(v.Kb,{color:"white",ml:"8px",fontSize:"14px",bold:!0,children:"DSG"})]}),Object(J.jsx)(v.Q,{mt:"8px",justifyContent:"center",children:Object(J.jsx)(v.Kb,{color:"white",fontSize:"14px",children:D("(based on current APY and exit fee rate)")})})]}),Object(J.jsxs)(v.Q,{alignItems:"baseline",mt:"16px",justifyContent:"space-between",children:[Object(J.jsxs)(v.Kb,{fontSize:"14px",children:[D("Current vDSG APY"),":"]}),Object(J.jsxs)(v.Kb,{fontSize:"16px",children:[" ",Object(F.a)(null===o||void 0===o?void 0:o.totalApr),"%"]})]}),Object(J.jsxs)(v.Q,{alignItems:"baseline",justifyContent:"space-between",mt:"8px",children:[Object(J.jsxs)(v.Kb,{fontSize:"14px",children:[D("Current Exit Fee Rate"),":"]}),Object(J.jsxs)(v.Kb,{fontSize:"16px",children:[null===o||void 0===o?void 0:o.feeRatioDisplay,"%"]})]}),Object(J.jsx)(v.Q,{margin:"16px 0",justifyContent:"center",children:Object(J.jsx)(v.r,{onClick:function(){setTimeout((function(){k(e)}),1e3)},as:Ee.a,to:"/vdsg",children:D("More About vDSG")})})]})});else d("".concat(D("Harvested"),"!"),D("Your %symbol% earnings have been sent to your wallet!",{symbol:(null===q||void 0===q?void 0:q.symbol)||""}))}),[B,o,I,k,null===q||void 0===q?void 0:q.symbol,D,x,d]),U=Object(p.useCallback)(Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,e.next=4,Q();case 4:G(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0),f(D("Error"),D("Please try again. Confirm the transaction and make sure you are paying enough gas!"));case 11:return e.prev=11,E(!1),C(),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[1,7,11,15]])}))),[Q,G,f,D,C]);return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(v.Q,{alignItems:"center",children:[Object(J.jsx)(v.q,{width:"24px",mr:"4px",children:Object(J.jsx)(oe.a,{size:"24px",currency:q})}),Object(J.jsx)(v.Kb,{bold:!0,textTransform:"uppercase",fontSize:"12px",pr:"4px",children:null===q||void 0===q?void 0:q.symbol}),Object(J.jsx)(v.Kb,{bold:!0,textTransform:"uppercase",fontSize:"12px",children:D("Earned")}),!u&&Object(J.jsx)(v.r,{onClick:function(){n||!s?O(D("Tips"),D("You've accelerated")):s()},ml:"16px",startIcon:Object(J.jsx)(v.Gb,{width:15}),endIcon:!n&&Object(J.jsx)(v.g,{width:14,color:"white"}),variant:"orange",scale:"xs",children:D(n?"Boosted":"Boost")})]}),Object(J.jsxs)(v.Q,{mt:"8px",mb:"8px",justifyContent:"space-between",alignItems:"center",children:[Object(J.jsxs)(v.Q,{flexDirection:"column",alignItems:"flex-start",children:[Object(J.jsx)(v.T,{color:I.eq(0)?"textDisabled":"textPrimary",children:B}),K>0&&Object(J.jsx)(fe.a,{fontSize:"12px",color:"textSubtle",decimals:2,value:K,unit:"",prefix:"$ "})]}),Object(J.jsx)(v.r,{disabled:I.eq(0)||L,onClick:U,children:D("Harvest")})]})]})},qe=n(96),_e=function(e,t){var n=Object(Te.f)(e);return{onApprove:Object(p.useCallback)(Object(H.a)(z.a.mark((function e(){var r,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.approve(t,qe.a.constants.MaxUint256);case 3:return r=e.sent,e.next=6,r.wait();case 6:return a=e.sent,e.abrupt("return",a.status);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[n,t])}},Me=k.e.div(l||(l=Object(f.a)(["\n  padding-top: 16px;\n"]))),Ie=function(e){var t=e.farm,n=e.account,r=e.nftInfo,a=e.addLiquidityUrl,c=e.removed,i=e.onLockClick,s=e.memberDataInfo,o=e.isLock,u=e.hideLock,l=Object(T.b)().t,b=Object(p.useState)(!1),d=Object(j.a)(b,2),f=d[0],O=d[1],x=t.pid,m=t.lpAddresses,k=t.userData||{},w=k.allowance,g=void 0===w?0:w,y=k.tokenBalance,S=void 0===y?0:y,C=k.stakedBalance,D=void 0===C?0:C,A=k.earnings,N=void 0===A?0:A,F=new h.a(g),E=new h.a(S),P=new h.a(D),R=new h.a(N),q=Object(L.b)(m),_=n&&F&&F.isGreaterThan(0),M=Object(W.b)(),I=_e(q,t.liquidityPoolAddress).onApprove,B=Object(p.useCallback)(Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(!0),e.next=4,I();case 4:M(Object(Y.k)(n,t.farmPoolType)),O(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[I,M,n,t.farmPoolType]);return Object(J.jsxs)(Me,{children:[Object(J.jsx)(v.cb,{children:Object(J.jsx)(Re,{farmPoolType:t.farmPoolType,lpAddress:t.liquidityPoolAddress,rewardToken:t.rewardToken,nftInfo:r,hideLock:u,isLock:o,onLockClick:i,earnings:R,memberDataInfo:s,pid:x})}),Object(J.jsxs)(v.cb,{mt:"16px",children:[Object(J.jsx)(v.Q,{pb:"8px",justifyContent:"space-between",children:Object(J.jsxs)(v.Q,{children:[Object(J.jsx)(v.Kb,{bold:!0,textTransform:"uppercase",fontSize:"12px",pr:"4px",children:t.lpSymbol}),Object(J.jsx)(v.Kb,{bold:!0,textTransform:"uppercase",fontSize:"12px",children:l("Staked")})]})}),n?_||P.gt(0)?Object(J.jsx)(Fe,{stakedBalance:P,tokenBalance:E,tokenName:t.lpSymbol,lpTokenPrice:t.lpTokenPrice,lpAddress:t.liquidityPoolAddress,farmPoolType:t.farmPoolType,pid:x,addLiquidityUrl:a,removed:c,nftInfo:r,farmTypes:K.a.LP_FARM}):Object(J.jsx)(v.Q,{justifyContent:"flex-end",children:Object(J.jsx)(v.r,{mt:"8px",disabled:f||c,onClick:B,children:f?Object(J.jsx)(de.a,{children:l("Enabling")}):l("Enable")})}):Object(J.jsx)(je.a,{mt:"8px",width:"100%"})]})]})};!function(e){e[e.NFT=0]="NFT",e[e.DSG=1]="DSG"}(b||(b={}));var Be,Ke,Qe,Ge,Ue=n(803),ze=n(848);!function(e){e[e.NFT=0]="NFT",e[e.DSG=1]="DSG"}(Ge||(Ge={}));var He,Ve,We,Ye,Ze,Xe,Je,$e,et,tt,nt,rt,at,ct,it,st,ot,ut,lt,bt=Object(k.e)(v.q)(Be||(Be=Object(f.a)(["\n  margin-top: 15px;\n  max-height: 264px;\n  overflow: auto;\n"]))),dt=Object(k.e)(v.q)(Ke||(Ke=Object(f.a)(["\n  "," {\n    width: 280px;\n  }\n\n  "," {\n    width: 380px;\n  }\n  "," {\n    width: 430px;\n  }\n"])),(function(e){return e.theme.mediaQueries.xs}),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.md})),jt=Object(k.e)(v.cb)(Qe||(Qe=Object(f.a)(["\n  margin-bottom: 15px;\n  cursor: pointer;\n  user-select: none;\n\n  background: ",";\n\n"])),(function(e){var t=e.active,n=e.theme;return t?n.colors.primary:n.colors.input})),ft=function(e){var t=e.t,n=e.active,r=e.levelRates,a=e.amount,c=e.nftInfo,i=e.onClick;if(!a)return null;var s=c.properties.level;return Object(J.jsx)(jt,{active:n,onClick:function(){return i(s,c)},children:Object(J.jsxs)(v.Q,{alignItems:"center",children:[Object(J.jsx)(v.q,{width:"50px",children:Object(J.jsx)(xe.c,{scale:"xs",src:null===c||void 0===c?void 0:c.image})}),Object(J.jsxs)(v.Q,{ml:"8px",flex:"1",justifyContent:"space-between",children:[Object(J.jsxs)(v.q,{width:"30%",children:[Object(J.jsx)(v.Kb,{color:"textSubtle",children:t("Meat")}),Object(J.jsx)(v.Kb,{ellipsis:!0,bold:!0,children:c.name})]}),Object(J.jsxs)(v.q,{width:"30%",children:[Object(J.jsx)(v.Kb,{textAlign:"center",color:"textSubtle",children:t("Attribute")}),Object(J.jsx)(v.Kb,{textAlign:"center",bold:!0,children:r[s]?"+ ".concat(r[s]," %"):Object(J.jsx)(v.Eb,{height:16,width:52})})]}),Object(J.jsxs)(v.q,{width:"30%",children:[Object(J.jsx)(v.Kb,{textAlign:"right",color:"textSubtle",children:t("Number")}),Object(J.jsx)(v.Kb,{textAlign:"right",bold:!0,children:a})]})]})]})})},pt=function(e){var t=e.onConfirm,n=e.onDismiss,r=e.onApprove,a=e.nftSlotFee,c=e.nfts,i=void 0===c?[]:c,s=e.lpAddresses,o=Object(ie.a)(),u=o.toastSuccess,l=o.toastError,b=Object(p.useState)(!1),d=Object(j.a)(b,2),f=d[0],O=d[1],x=Object(p.useState)(!1),k=Object(j.a)(x,2),w=k[0],g=k[1],S=Object(m.c)().account,C=Object(ye.a)().theme,D=Object(T.b)(),A=D.t,N=D.getHTML,E=Object(y.d)(),P=Object(y.a)(),R=P.data,q=P.v1Farm,_=Object(p.useMemo)((function(){var e=R.concat(q.data).find((function(e){return Object(L.b)(e.lpAddresses)===s}));if(e){var t=(e.userData||{}).allowanceDsg,n=void 0===t?0:t,r=e.isApprovedPool,a=new h.a(n);return[r,S&&a&&a.isGreaterThan(0)]}return[!1,!1]}),[q,R,s,S]),M=Object(j.a)(_,2),I=M[0],B=M[1],K=Object(p.useState)([]),Q=Object(j.a)(K,2),G=Q[0],U=Q[1],V=Object(p.useState)(null),W=Object(j.a)(V,2),Y=W[0],Z=W[1],X=Object(Ue.c)(),$=X.balance,ee=X.fetchStatus,te=new h.a(a),ne=ee===Ue.a.SUCCESS&&$.isLessThan(te),re=Object(p.useCallback)((function(e,t){var n=[];e===Y?Z(null):(n=[t],Z(e)),U(n)}),[U,Y,Z]),ae=Object(p.useMemo)((function(){var e=[null,0,0,0,0,0,0],t=[],n=e.length;return i.forEach((function(r){e[n-r.properties.level]+=1,t[n-r.properties.level]=r})),{levels:e,levelNfts:t}}),[i]);return Object(J.jsxs)(v.pb,{title:A("Feed the pterosaur"),onDismiss:n,children:[Object(J.jsx)(v.Q,{minWidth:"300px",justifyContent:"space-between",children:Object(J.jsx)(v.Kb,{children:N("Please select type %num% NFT",{num:'<span style="color: '.concat(C.colors.textPrimary,'">1</span>')})})}),Object(J.jsx)(bt,{children:Object(J.jsx)(dt,{children:ae.levels.map((function(e,t){var n,r;return Object(J.jsx)(ft,{amount:e,t:A,onClick:re,nftInfo:ae.levelNfts[t],level:t,levelRates:E,active:(null===(n=ae.levelNfts[t])||void 0===n||null===(r=n.properties)||void 0===r?void 0:r.level)===Y},t)}))})}),Object(J.jsxs)(v.q,{children:[Object(J.jsx)(v.cb,{mt:"25px",children:Object(J.jsxs)(v.Q,{justifyContent:"space-between",children:[Object(J.jsx)(v.Kb,{children:A("Expected increase in LP revenue")}),Object(J.jsx)(fe.a,{decimals:2,value:E[Y]||0,bold:!0,unit:" %"})]})}),Object(J.jsx)(v.cb,{isWarning:ne,warning:Object(J.jsx)(ze.a,{address:Object(L.e)(),symbol:"DSG"}),mt:"25px",children:Object(J.jsxs)(v.Q,{justifyContent:"space-between",children:[Object(J.jsx)(v.Kb,{children:A("Feeding fee")}),Object(J.jsx)(v.Q,{children:Object(J.jsx)(fe.a,{value:Object(F.g)(te),bold:!0,unit:" DSG"})})]})})]}),I&&B?Object(J.jsxs)(pe.a,{children:[Object(J.jsx)(v.r,{variant:"secondary",onClick:n,width:"100%",disabled:f,children:A("Cancel")}),Object(J.jsx)(v.r,{width:"100%",disabled:f||ne||!G.length,onClick:Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,t(G);case 4:u(A("Fed!"),A("The Pterosaurs have been fed to speed up the search!")),n(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),l(A("Error"),A("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 12:return e.prev=12,O(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])}))),children:A(f?"Confirming":"Confirm")})]}):Object(J.jsxs)(pe.a,{children:[Object(J.jsx)(v.r,{width:"100%",disabled:w||I,onClick:Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,r(Ge.NFT);case 4:u(A("Successfully Enabled!")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),l(A("Error"),A("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 11:return e.prev=11,g(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,7,11,14]])}))),children:w?Object(J.jsx)(de.a,{children:A("Enabling %asset%",{asset:"NFT"})}):A("Enable %asset%",{asset:"NFT"})}),Object(J.jsx)(v.r,{width:"100%",disabled:f||B,onClick:Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,r(Ge.DSG);case 4:u(A("Successfully Enabled!")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),l(A("Error"),A("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 11:return e.prev=11,O(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,7,11,14]])}))),children:f?Object(J.jsx)(de.a,{children:A("Enabling %asset%",{asset:"DSG"})}):A("Enable %asset%",{asset:"DSG"})})]}),Object(J.jsx)(dt,{children:Object(J.jsx)(v.Kb,{width:"100%",fontSize:"14px",color:"textSubtle",children:N('After the use of "meat", any LP %reduction% will cause "meat" to %expire%',{expire:'<span style="color: '.concat(C.colors.warning,'">').concat(A("expire"),"</span>"),reduction:'<span style="color: '.concat(C.colors.warning,'">').concat(A("reduction"),"</span>")})})})]})},Ot=function(e){e.onConfirm;var t=e.onDismiss,n=(e.levleRates,e.nfts,Object(T.b)().t);return Object(J.jsxs)(v.pb,{title:n("Feed the pterosaur"),onDismiss:t,children:[Object(J.jsx)(v.Q,{minWidth:"300px",justifyContent:"space-between",children:Object(J.jsx)(v.Kb,{maxWidth:"400px",bold:!0,children:n("Sorry, you don't have meat yet and can't feed pterosaurs to speed up mining.But you can choose:")})}),Object(J.jsxs)(pe.a,{children:[Object(J.jsx)(v.r,{style:{width:"100%"},as:v.fb,href:"".concat(ne.e),onClick:function(){t()},children:n("Buy meat")}),Object(J.jsx)(v.r,{style:{width:"100%"},as:v.fb,href:"".concat(ne.c,"/").concat(C.a.FTS_FARM),onClick:function(){t()},children:n("Earn meat")})]})]})},xt=["farm","displayApr","userNfts","removed","memberDataInfo","cakePrice","account"],ht=Object(k.e)(v.q)(He||(He=Object(f.a)(["\n  /* align-self: baseline; */\n  background: ",";\n  border-radius: ",";\n  box-shadow: 0px 1px 4px rgba(25, 19, 38, 0.15);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 24px;\n  position: relative;\n  /* min-width: 360px; */\n  /* max-width: 31.5%; */\n  max-width: 384px;\n  min-width: 300px;\n  width: auto;\n  flex: 1;\n  /* text-align: center; */\n"])),(function(e){var t=e.theme;return e.background||t.card.background}),(function(e){return e.theme.radii.card})),mt=function(e){var t=e.farm,n=e.displayApr,r=e.userNfts,a=e.removed,c=e.memberDataInfo,i=(e.cakePrice,e.account),s=Object(V.a)(e,xt),o=Object(T.b)().t,u=t.userData||{},l=u.allowance,f=void 0===l?0:l,O=u.allowanceDsg,x=void 0===O?0:O,m=u.additionalRate,k=void 0===m?0:m,w=t.isApprovedPool,g=t.additionalNft,y=t.nftSlotFee,S=void 0===y?"0":y,C=t.nftsInfo,D=void 0===C?[]:C,A=new h.a(f),N=new h.a(x),E=new h.a(k).div(100),P=i&&A&&A.isGreaterThan(0),R=i&&N&&N.isGreaterThan(0),q=t.liquidity&&t.liquidity.gt(0)?"$".concat(t.liquidity.toNumber().toLocaleString(void 0,{maximumFractionDigits:0})):"",_=t.lpSymbol&&t.lpSymbol.toUpperCase().replace("PANCAKE",""),M=Object(p.useMemo)((function(){return ae({quoteTokenAddress:t.quoteToken.address,tokenAddress:t.token.address})}),[t.quoteToken.address,t.token.address]),I="".concat(ne.a,"/").concat(M),B=Object(L.b)(t.lpAddresses),Q=function(e,t){var n=Object(Te.b)(e);return Object(L.l)(),{onApprove:Object(p.useCallback)(Object(H.a)(z.a.mark((function e(){var r,a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.setApprovalForAll(t,!0);case 3:return r=e.sent,e.next=6,r.wait();case 6:return a=e.sent,e.abrupt("return",a.status);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[n,t])}}(g,t.liquidityPoolAddress).onApprove,G=_e(Object(L.e)(),t.liquidityPoolAddress).onApprove,U=function(e){var t=Object(Te.j)(e);return{onStake:Object(p.useCallback)(function(){var e=Object(H.a)(z.a.mark((function e(n,r){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ce.a)(t,n,r);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t])}}(t.liquidityPoolAddress).onStake,$=Object(W.b)(),ee=Object(p.useCallback)(Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q();case 3:$(Object(Y.g)(i,t.farmPoolType)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),[Q,$,i,t.farmPoolType]),ce=Object(p.useCallback)(Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G();case 3:$(Object(Y.k)(i,t.farmPoolType)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),[G,$,i,t.farmPoolType]),ie=Object(p.useMemo)((function(){return null===r||void 0===r?void 0:r.filter((function(e){return e.properties.token.toLowerCase()===g.toLowerCase()}))}),[r,g]),se=Object(p.useCallback)(function(){var e=Object(H.a)(z.a.mark((function e(n){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t.pid,n[0].properties.token_id);case 2:$(Object(Y.k)(i,t.farmPoolType)),$(Object(Z.d)(i));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i,$,t.pid,U,t.farmPoolType]),oe=Object(v.Zb)(Object(J.jsx)(Ot,{})),ue=Object(j.a)(oe,1)[0],le=Object(p.useCallback)(function(){var e=Object(H.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==b.NFT){e.next=5;break}return e.next=3,ee();case 3:e.next=7;break;case 5:return e.next=7,ce();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[ee,ce]),de=Object(v.Zb)(Object(J.jsx)(pt,{nfts:ie,nftSlotFee:S,addLiquidityUrl:I,onConfirm:se,isNftApproved:w,isDsgApproved:R,lpAddresses:Object(L.b)(t.lpAddresses),onApprove:le})),je=Object(j.a)(de,1)[0],fe=Object(p.useCallback)((function(){ie.length?je():ue()}),[ie,ue,je]);return Object(J.jsxs)(ht,Object(d.a)(Object(d.a)({},s),{},{children:[Object(J.jsx)(be,{lpAddress:B,lpLabel:_,multiplier:t.multiplier,isCommunityFarm:t.isCommunity,token:t.token,nftInfo:D[0],hideLock:!P||Object(re.a)(g),isLock:!w||!R,onLockClick:fe,quoteToken:t.quoteToken,farmTypes:K.a.LP_FARM}),Object(J.jsxs)(v.Q,{justifyContent:"space-between",children:[!a&&Object(J.jsxs)(v.q,{children:[Object(J.jsxs)(v.Q,{alignItems:"center",children:[Object(J.jsx)(v.Kb,{mr:"4px",children:o("APR")}),Boolean(t.lpRewardsApr)&&Object(J.jsx)(X.a,{text:Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(v.Kb,{children:[o("Block reward"),": ",Object(F.a)(t.apr)," %"]}),Object(J.jsxs)(v.Kb,{children:[o("Trade fee reward"),": ",Object(F.a)(t.lpRewardsApr)," %"]})]})})]}),Object(J.jsx)(v.Kb,{bold:!0,color:"textPrimary",style:{display:"flex",alignItems:"center"},children:Number.isFinite(t.apr)?Object(J.jsxs)(J.Fragment,{children:[n||0,"%"]}):Object(J.jsx)(v.Eb,{height:24,width:80})}),!E.eq(0)&&E.isFinite()?Object(J.jsxs)(v.Q,{alignItems:"center",children:[Object(J.jsxs)(v.Kb,{mr:"3px",fontSize:"14px",bold:!0,color:"orange",children:["+ ",Object(F.a)(E.toNumber()),"%"]}),Object(J.jsx)(X.a,{placement:"top-start",text:o("Additional %rate%% boost in calculating LP value, will bring your actual APR closer to \uff1aOriginal APR + %rate%%",{rate:Object(F.a)(E.toNumber())})})]}):null]}),Object(J.jsxs)(v.Q,{alignItems:"center",flexDirection:"column",children:[Object(J.jsxs)(v.Q,{children:[Object(J.jsx)(v.Kb,{mr:"4px",children:o("Multiplier")}),Object(J.jsx)(te,{rewardSymbol:void 0,multiplier:t.multiplier})]}),Object(J.jsx)(v.Q,{alignItems:"center",children:t.multiplier?Object(J.jsx)(v.Kb,{children:t.multiplier}):Object(J.jsx)(v.Eb,{width:75,height:25})})]}),Object(J.jsxs)(v.Q,{alignItems:"flex-end",flexDirection:"column",children:[Object(J.jsx)(v.Kb,{children:o("Total Liquidity")}),q?Object(J.jsx)(v.Kb,{children:q}):Object(J.jsx)(v.Eb,{width:75,height:25})]})]}),Object(J.jsx)(Ie,{hideLock:!P||Object(re.a)(g),isLock:!w||!R,onLockClick:fe,nftInfo:D[0],removed:a,farm:t,account:i,memberDataInfo:c,addLiquidityUrl:I})]}))},vt=k.e.div(Ve||(Ve=Object(f.a)(["\n  padding-top: 16px;\n"]))),kt=Object(k.e)(v.Q)(We||(We=Object(f.a)(["\n  position: relative;\n  margin-top: 8px;\n"]))),wt=Object(k.e)(v.q)(Ye||(Ye=Object(f.a)(["\n  position: absolute;\n  z-index: 9;\n  bottom: 0;\n"]))),gt=function(e){var t,n=e.farm,r=e.account,a=e.addLiquidityUrl,c=e.removed,i=Object(T.b)().t,s=Object(p.useState)(!1),o=Object(j.a)(s,2),u=o[0],l=o[1],b=n.pid,d=n.tokenAddress,f=n.token,O=n.isLpToken,x=n.stakeAmount,m=n.outputs,k=n.stakeTime,w=n.userData||{},g=w.allowance,y=void 0===g?0:g,S=w.tokenBalance,C=void 0===S?0:S,D=w.stakedBalance,A=void 0===D?0:D,N=w.earnings,E=void 0===N?0:N,P=new h.a(y),R=new h.a(C),q=new h.a(A),_=new h.a(E),M=(Object(L.g)(),r&&P&&P.isGreaterThan(0)),I=Object(W.b)(),B=function(e){var t=Object(Te.g)();return{onApprove:Object(p.useCallback)(Object(H.a)(z.a.mark((function n(){var r,a;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.approve(t.address,qe.a.constants.MaxUint256);case 3:return r=n.sent,n.next=6,r.wait();case 6:return a=n.sent,n.abrupt("return",a.status);case 10:return n.prev=10,n.t0=n.catch(0),n.abrupt("return",!1);case 13:case"end":return n.stop()}}),n,null,[[0,10]])}))),[e,t])}}(Object(Te.f)(d)).onApprove,Q=Object(p.useCallback)(Object(H.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,B();case 4:I(Object(Y.d)(r)),l(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[B,I,r]),G=((null===n||void 0===n||null===(t=n.userData)||void 0===t?void 0:t.stakeView)||[]).filter((function(e){return e.isCompleted})),U=Ne(b).onReward,V=function(){var e=Object(H.a)(z.a.mark((function e(t,n){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(n);case 2:I(Object(Y.d)(r));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=Object(v.Zb)(Object(J.jsx)(ge,{onConfirm:V,stakeTime:k,outputs:m,tokenName:n.lpSymbol,stakeView:G})),X=Object(j.a)(Z,1)[0],$=Object(p.useMemo)((function(){var e=O?18:f.decimals,t=new h.a(x||0);return Object(F.i)(t,e,4)}),[x,O,f]),ee=function(){var e;return M?Object(J.jsx)(Fe,{stakedBalance:q,tokenBalance:R,tokenName:n.lpSymbol,pid:b,stakeAmount:$,addLiquidityUrl:a,farmTypes:K.a.ERC20_EARN_NFT,stakeTime:k,outputs:m,stakeView:null===n||void 0===n||null===(e=n.userData)||void 0===e?void 0:e.stakeView,removed:c}):Object(J.jsx)(v.Q,{justifyContent:"flex-end",children:Object(J.jsx)(v.r,{scale:"ld",mt:"8px",disabled:u||c,onClick:Q,children:i("Enable")})})};return Object(J.jsxs)(vt,{children:[Object(J.jsx)(v.cb,{children:Object(J.jsxs)(v.Q,{alignItems:"center",children:[Object(J.jsx)(xe.c,{mr:"8px",scale:"xs"}),Object(J.jsxs)(v.Q,{mt:"8px",flexDirection:"column",justifyContent:"space-between",flex:"1",children:[Object(J.jsx)(v.Q,{children:Object(J.jsx)(v.Kb,{bold:!0,textTransform:"uppercase",fontSize:"12px",children:i("%asset% Earned",{asset:"NFT"})})}),Object(J.jsxs)(v.Q,{mb:"8px",justifyContent:"space-between",alignItems:"center",children:[Object(J.jsx)(v.T,{mt:"16px",color:_.eq(0)?"textDisabled":"text",children:_.toString()}),Object(J.jsx)(v.r,{onClick:X,disabled:_.eq(0),children:i("Harvest")})]})]})]})}),r&&M?Object(J.jsxs)(v.cb,{mt:"16px",children:[Object(J.jsx)(v.Q,{pb:"8px",justifyContent:"space-between",children:Object(J.jsxs)(v.Q,{children:[Object(J.jsx)(v.Kb,{bold:!0,textTransform:"uppercase",fontSize:"12px",pr:"4px",children:n.lpSymbol}),Object(J.jsx)(v.Kb,{bold:!0,textTransform:"uppercase",fontSize:"12px",children:i("Staked")})]})}),r?ee():Object(J.jsx)(je.a,{mt:"8px",width:"100%"})]}):Object(J.jsxs)(kt,{flexDirection:"column",alignItems:"center",justifyContent:"center",children:[Object(J.jsx)(v.X,{src:"/images/nfts/nfts.png",height:85.8,width:158.4}),Object(J.jsx)(wt,{children:r?ee():Object(J.jsx)(je.a,{mt:"8px",width:"100%"})})]})]})},yt=["farm","account","removed"],St=k.e.div(Ze||(Ze=Object(f.a)(["\n  align-self: baseline;\n  background: ",";\n  border-radius: ",";\n  box-shadow: 0px 1px 4px rgba(25, 19, 38, 0.15);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 24px;\n  position: relative;\n  min-width: 360px;\n  max-width: 31.5%;\n  /* text-align: center; */\n"])),(function(e){return e.theme.card.background}),(function(e){var t=e.theme;return e.isPromotedFarm?"31px":t.radii.card})),Ct=function(e){var t=e.farm,n=e.account,r=e.removed,a=Object(V.a)(e,yt),c=Object(T.b)().t,i=Object(ve.a)(Number(t.stakeTime)),s=i.days,o=i.hours,u=i.minutes,l=new h.a(t.nftLeft||0),b=t.lpSymbol,j=Object(p.useCallback)((function(){var e=new h.a(t.stakeAmount).times(t.nftTokenIds.length-Number(t.nftLeft));return Object(F.i)(e)}),[t.stakeAmount,t.nftLeft,t.nftTokenIds]),f=ae({quoteTokenAddress:t.quoteToken.address,tokenAddress:t.token.address}),O=t.isLpToken?"".concat(ne.a,"/").concat(f):"".concat(ne.h).concat(Object(L.b)(t.token.address));return Object(J.jsxs)(St,Object(d.a)(Object(d.a)({},a),{},{children:[Object(J.jsx)(be,{singleToken:!t.isLpToken,lpAddress:t.tokenAddress,lpLabel:b,hideLock:!0,token:t.token,quoteToken:t.quoteToken,farmTypes:K.a.ERC20_EARN_NFT,isCommunityFarm:!0}),Object(J.jsxs)(v.Q,{justifyContent:"space-between",children:[Object(J.jsxs)(v.q,{children:[Object(J.jsx)(v.Kb,{color:"textSubtle",fontSize:"14px",children:c("Staking Pool")}),Object(J.jsx)(v.Kb,{bold:!0,style:{display:"flex",alignItems:"center"},children:j()})]}),Object(J.jsxs)(v.q,{children:[Object(J.jsx)(v.Kb,{color:"textSubtle",fontSize:"14px",children:c("Duration")}),Object(J.jsx)(me.a,{minutes:u,hours:o,days:s})]}),Object(J.jsxs)(v.Q,{alignItems:"flex-end",flexDirection:"column",children:[Object(J.jsx)(v.Kb,{color:"textSubtle",fontSize:"14px",children:c("NFT left")}),l.lte(10)?Object(J.jsx)(v.Kb,{color:"failure",children:l.toString()}):Object(J.jsx)(v.Kb,{children:l.toString()})]})]}),Object(J.jsx)(gt,{removed:r,farm:t,account:n,addLiquidityUrl:O})]}))},Tt=Object(k.e)(ht)(Xe||(Xe=Object(f.a)(["\n  /* box-shadow: none; */\n  /* background: none; */\n  /* padding-top: 0; */\n  /* padding-left: 0; */\n"]))),Dt=Object(k.e)(v.q)(Je||(Je=Object(f.a)(["\n  position: relative;\n"]))),At=(Object(k.e)(v.X)($e||($e=Object(f.a)(["\n  /* position: absolute; */\n  top: 16px;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  margin: auto;\n"]))),{meat:"/images/nfts/meat-f.png",triangleDinosaur:"/images/nfts/egg-f.png",ticket:"/images/nfts/ticket-f.png",ycdrawing:"/images/nfts/yc-f.png"}),Nt=function(e){var t=e.type,n=e.name,r=e.desc;Object(T.b)().t,Object(ye.a)().theme;return Object(J.jsx)(Tt,{children:Object(J.jsxs)(Dt,{children:[Object(J.jsx)(v.T,{children:n}),Object(J.jsx)(v.Kb,{mt:"16px",children:r}),Object(J.jsx)(v.X,{mt:"16px",src:At[t],height:246,width:246})]})})},Lt=function(e){e.hasStakeInFinishedFarms;var t,n=Object(O.i)().url,r=Object(O.h)(),a=Object(T.b)().t;switch(r.pathname){case"/farms":t=0;break;case"/farms/fts":t=1;break;case"/farms/lp":t=2;break;default:t=0}return Object(J.jsx)(Ft,{children:Object(J.jsxs)(v.s,{activeIndex:t,scale:"ld",variant:"primary",children:[Object(J.jsx)(v.t,{as:Ee.a,to:"".concat(n),children:a("Earn DSG")}),Object(J.jsx)(v.t,{as:Ee.a,to:"".concat(n,"/fts"),children:a("Earn Fragments")}),Object(J.jsx)(v.t,{as:Ee.a,to:"".concat(n,"/lp"),children:a("Earn NFT")})]})})},Ft=k.e.div(et||(et=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 16px;\n\n  a {\n    padding-left: 12px;\n    padding-right: 12px;\n  }\n\n  "," {\n    margin-left: 16px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Et=function(){var e,t=Object(O.i)().url,n=Object(O.h)(),r=Object(T.b)().t;switch(n.pathname){case"/farms":e=0;break;case"/farms/v1":e=1;break;default:e=-1}return Object(J.jsx)(J.Fragment,{children:-1===e?null:Object(J.jsx)(Pt,{children:Object(J.jsxs)(v.s,{activeIndex:e,scale:"md",variant:"primary",children:[Object(J.jsx)(v.t,{as:Ee.a,to:"".concat(t),children:r("V2")}),Object(J.jsx)(v.t,{as:Ee.a,to:"".concat(t,"/v1"),children:r("V1(Old)")})]})})})},Pt=k.e.div(tt||(tt=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  a {\n    padding-left: 12px;\n    padding-right: 12px;\n  }\n\n  "," {\n    margin-left: 16px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Rt=n(371),qt=Object(k.e)(v.Q)(nt||(nt=Object(f.a)(["\n  width: 429px;\n  height: 50px;\n  border-radius: ",";\n  background: ",";\n  ","\n  margin-bottom: 16px;\n  max-width: 100%;\n"])),(function(e){return e.theme.radii.card}),(function(e){return e.theme.colors.backgroundPrimary}),(function(e){return e.theme.mediaQueriesSize.padding}));function _t(){Object(Rt.a)();var e=Object(T.b)().t,t=Object(m.c)().account,n=Object(Rt.b)(t),r=n.pools,a=(n.poolDataLoaded,Object(y.j)()),c=Object(p.useCallback)((function(e){var t=0;return e.forEach((function(e){var n=e||{},r=n.accQuantity,c=void 0===r?"":r,i=n.rewardsPerBlock,s=void 0===i?"0":i,o=new h.a(c),u=new h.a(s),l=Object(D.g)(o.times(ne.s),a,u);t=t>Number(l)?t:Number(l)})),t}),[a]),i=Object(p.useMemo)((function(){return Object(F.a)(c(r))}),[c,r]);return Object(J.jsxs)(qt,{justifyContent:"space-between",alignItems:"center",children:[Object(J.jsxs)(v.Kb,{color:"white",children:[e("Trade Mining Rewards"),": ",i?Object(J.jsx)(v.Kb,{as:"span",fontSize:"20px",color:"white",bold:!0,children:i}):"--"," %"]}),Object(J.jsx)(v.r,{as:Ee.a,to:"/trading",children:e("View")})]})}var Mt=Object(k.e)(g.a)(rt||(rt=Object(f.a)(["\n  padding-top: 0;\n"]))),It=k.e.div(at||(at=Object(f.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  position: relative;\n\n  justify-content: space-between;\n  flex-direction: column;\n  margin-bottom: 32px;\n\n  "," {\n    flex-direction: row;\n    flex-wrap: wrap;\n    /* padding: 0 32px; */\n    margin-bottom: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Bt=Object(k.e)(v.Q)(ct||(ct=Object(f.a)(["\n  margin-top: 10px;\n  margin-right: 16px;\n  align-items: center;\n  &:last-child {\n    margin-right: 0;\n  }\n"]))),Kt=k.e.div(it||(it=Object(f.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 8px 0px;\n  flex-wrap: wrap;\n\n  "," {\n    width: auto;\n    padding: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Qt=k.e.div(st||(st=Object(f.a)(["\n  background-color: ",";\n  height: 1px;\n  margin: 16px 0 32px;\n  width: 100%;\n"])),(function(e){return e.theme.colors.cardBorder})),Gt=k.e.div(ot||(ot=Object(f.a)(["\n  flex-wrap: wrap;\n  justify-content: space-between;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  margin-right: ",";\n  margin-top: ",";\n  margin-left: ",";\n  margin-bottom: ",";\n\n  > div {\n    padding: 0px;\n  }\n\n  "," {\n    justify-content: flex-start;\n    width: auto;\n\n    > div {\n      padding: 0px;\n      margin: 0;\n    }\n  }\n"])),(function(e){return e.mr}),(function(e){return e.mt}),(function(e){return e.ml}),(function(e){return e.mb}),(function(e){return e.theme.mediaQueries.sm})),Ut=(Object(k.e)(v.q)(ut||(ut=Object(f.a)(["\n  width: 100%;\n  min-width: 100%;\n  max-width: 100%;\n"]))),Object(k.e)(_.a)(lt||(lt=Object(f.a)(["\n  padding-left: 0;\n  padding-right: 0;\n  margin-right: 0;\n  margin-left: 0;\n"])))),zt=function(e,t){return t&&t?Object(F.a)(e+t):e?Object(F.a)(e):null},Ht=function(){Object(N.a)();var e=Object(O.i)().path,t=Object(O.h)().pathname,n=Object(T.b)().t,r=Object(y.a)(),a=r.data,c=r.erc20Farm,i=r.ffFarm,s=r.afFarm,o=r.tfFarm,u=r.ycfFarm,l=r.incentiveFarm,b=r.v1Farm,f=r.userDataLoaded,x=r.farmsDataLoaded,k=Object(y.j)(),g=Object(y.i)(Object(L.b)(P.l.dsgff.address)),F=Object(y.i)(Object(L.b)(P.l.dsgtf.address)),U=Object(y.i)(Object(L.b)(P.l.dsgaf.address)),z=Object(y.i)(Object(L.b)(P.l.dsgycdbf.address)),H=Object(p.useState)(""),V=Object(j.a)(H,2),W=V[0],Y=V[1],Z=Object(m.c)().account,X=Object(p.useState)("hot"),$=Object(j.a)(X,2),ee=$[0],te=$[1],ne=Object(p.useState)("hot"),re=Object(j.a)(ne,2),ae=re[0],ce=re[1],ie=Object(N.d)(),se=Object(p.useMemo)((function(){switch(t){case"/farms":return C.a.DSG_AND_INCENTTIVE_FARM;case"/farms/".concat(C.a.FTS_FARM):return C.a.FTS_FARM;case"/farms/".concat(C.a.LP_FARM):return C.a.LP_FARM;case"/farms/".concat(C.a.V1_FARM):return C.a.V1_FARM;default:return null}}),[t]);Object(y.f)(se),Object(y.g)(se),Object(S.f)();var oe=Object(S.j)().data,ue=Object(G.k)(),le=Object(j.a)(ue,2),be=le[0],de=le[1],je=Object(G.l)(),fe=Object(j.a)(je,2),pe=fe[0],Oe=fe[1],xe=Object(p.useCallback)((function(e){var t=e.map((function(e){var t,n,r,a,c,i,s,o;if(!e.totalLiquidity||!e.quoteToken.busdPrice)return e;var u=new h.a(e.totalLiquidity),l=new h.a(e.rewardsPerBlock),b=R.c;b=(null===e||void 0===e||null===(t=e.rewardToken)||void 0===t?void 0:t.toLowerCase())===(null===(n=Object(L.b)(P.l.dsgff.address))||void 0===n?void 0:n.toLowerCase())?g:(null===e||void 0===e||null===(r=e.rewardToken)||void 0===r?void 0:r.toLowerCase())===(null===(a=Object(L.b)(P.l.dsgtf.address))||void 0===a?void 0:a.toLowerCase())?F:(null===e||void 0===e||null===(c=e.rewardToken)||void 0===c?void 0:c.toLowerCase())===(null===(i=Object(L.b)(P.l.dsgaf.address))||void 0===i?void 0:i.toLowerCase())?U:(null===e||void 0===e||null===(s=e.rewardToken)||void 0===s?void 0:s.toLowerCase())===(null===(o=Object(L.b)(P.l.dsgycdbf.address))||void 0===o?void 0:o.toLowerCase())?z:k;var j=be?{cakeRewardsApr:0,lpRewardsApr:0}:Object(D.a)(new h.a(e.fourRealAmount),b,l,u,Object(L.b)(e.lpAddresses)),f=j.cakeRewardsApr,p=j.lpRewardsApr;return Object(d.a)(Object(d.a)({},e),{},{apr:f,lpRewardsApr:p,liquidity:u})}));if(W){var n=Object(E.a)(W.toLowerCase());t=t.filter((function(e){return Object(E.a)(e.lpSymbol.toLowerCase()).includes(n)}))}return t}),[k,g,U,F,z,W,be]),he=Object(p.useMemo)((function(){if(se!==C.a.DSG_AND_INCENTTIVE_FARM)return[];var e=a.filter((function(e){return Number(e.allocPoint)})),t=a.filter((function(e){return!Number(e.allocPoint)})),n=e.filter((function(e){return e.userData&&new h.a(e.userData.stakedBalance).isGreaterThan(0)})),r=t.filter((function(e){return e.userData&&new h.a(e.userData.stakedBalance).isGreaterThan(0)}));return function(e){switch(ee){case"apr":return Object(q.orderBy)(e,(function(e){return e.apr+e.lpRewardsApr}),"desc");case"multiplier":return Object(q.orderBy)(e,(function(e){return e.multiplier?Number(e.multiplier.slice(0,-1)):0}),"desc");case"earned":return Object(q.orderBy)(e,(function(e){return e.userData?Number(e.userData.earnings):0}),"desc");case"liquidity":return Object(q.orderBy)(e,(function(e){return Number(e.liquidity)}),"desc");default:return Object(q.orderBy)(e,(function(e){return e.lpSymbol.includes("DSG")?10:1}),"desc")}}(xe(be?pe?r:t:pe?n:e))}),[se,a,xe,be,ee,pe]),me=Object(p.useMemo)((function(){if(se!==C.a.FTS_FARM)return[];var e=i.data.filter((function(e){return Number(e.allocPoint)})),t=i.data.filter((function(e){return!Number(e.allocPoint)})),n=e.filter((function(e){return e.userData&&new h.a(e.userData.stakedBalance).isGreaterThan(0)})),r=t.filter((function(e){return e.userData&&new h.a(e.userData.stakedBalance).isGreaterThan(0)}));return function(e){switch(ee){case"apr":return Object(q.orderBy)(e,(function(e){return e.apr+e.lpRewardsApr}),"desc");case"multiplier":return Object(q.orderBy)(e,(function(e){return e.multiplier?Number(e.multiplier.slice(0,-1)):0}),"desc");case"earned":return Object(q.orderBy)(e,(function(e){return e.userData?Number(e.userData.earnings):0}),"desc");case"liquidity":return Object(q.orderBy)(e,(function(e){return Number(e.liquidity)}),"desc");default:return e}}(xe(be?pe?r:t:pe?n:e))}),[se,i.data,be,ee,pe,xe]),ve=Object(p.useMemo)((function(){if(se!==C.a.FTS_FARM)return[];var e=s.data.filter((function(e){return Number(e.allocPoint)})),t=s.data.filter((function(e){return!Number(e.allocPoint)})),n=e.filter((function(e){return e.userData&&new h.a(e.userData.stakedBalance).isGreaterThan(0)})),r=t.filter((function(e){return e.userData&&new h.a(e.userData.stakedBalance).isGreaterThan(0)}));return function(e){switch(ee){case"apr":return Object(q.orderBy)(e,(function(e){return e.apr+e.lpRewardsApr}),"desc");case"multiplier":return Object(q.orderBy)(e,(function(e){return e.multiplier?Number(e.multiplier.slice(0,-1)):0}),"desc");case"earned":return Object(q.orderBy)(e,(function(e){return e.userData?Number(e.userData.earnings):0}),"desc");case"liquidity":return Object(q.orderBy)(e,(function(e){return Number(e.liquidity)}),"desc");default:return e}}(xe(be?pe?r:t:pe?n:e))}),[se,s.data,be,ee,pe,xe]),ke=Object(p.useMemo)((function(){if(se!==C.a.FTS_FARM)return[];var e=o.data.filter((function(e){return Number(e.allocPoint)})),t=o.data.filter((function(e){return!Number(e.allocPoint)})),n=e.filter((function(e){return e.userData&&new h.a(e.userData.stakedBalance).isGreaterThan(0)})),r=t.filter((function(e){return e.userData&&new h.a(e.userData.stakedBalance).isGreaterThan(0)}));return function(e){switch(ee){case"apr":return Object(q.orderBy)(e,(function(e){return e.apr+e.lpRewardsApr}),"desc");case"multiplier":return Object(q.orderBy)(e,(function(e){return e.multiplier?Number(e.multiplier.slice(0,-1)):0}),"desc");case"earned":return Object(q.orderBy)(e,(function(e){return e.userData?Number(e.userData.earnings):0}),"desc");case"liquidity":return Object(q.orderBy)(e,(function(e){return Number(e.liquidity)}),"desc");default:return e}}(xe(be?pe?r:t:pe?n:e))}),[se,o.data,be,ee,pe,xe]),we=Object(p.useMemo)((function(){if(se!==C.a.FTS_FARM)return[];var e=u.data.filter((function(e){return Number(e.allocPoint)})),t=u.data.filter((function(e){return!Number(e.allocPoint)})),n=e.filter((function(e){return e.userData&&new h.a(e.userData.stakedBalance).isGreaterThan(0)})),r=t.filter((function(e){return e.userData&&new h.a(e.userData.stakedBalance).isGreaterThan(0)}));return function(e){switch(ee){case"apr":return Object(q.orderBy)(e,(function(e){return e.apr+e.lpRewardsApr}),"desc");case"multiplier":return Object(q.orderBy)(e,(function(e){return e.multiplier?Number(e.multiplier.slice(0,-1)):0}),"desc");case"earned":return Object(q.orderBy)(e,(function(e){return e.userData?Number(e.userData.earnings):0}),"desc");case"liquidity":return Object(q.orderBy)(e,(function(e){return Number(e.liquidity)}),"desc");default:return e}}(xe(be?pe?r:t:pe?n:e))}),[se,u.data,be,ee,pe,xe]),ge=Object(p.useMemo)((function(){if(se!==C.a.DSG_AND_INCENTTIVE_FARM)return[];var e=l.data.filter((function(e){return Number(e.allocPoint)})),t=l.data.filter((function(e){return!Number(e.allocPoint)})),n=e.filter((function(e){return e.userData&&new h.a(e.userData.stakedBalance).isGreaterThan(0)})),r=t.filter((function(e){return e.userData&&new h.a(e.userData.stakedBalance).isGreaterThan(0)}));return function(e){switch(ee){case"apr":return Object(q.orderBy)(e,(function(e){return e.apr+e.lpRewardsApr}),"desc");case"multiplier":return Object(q.orderBy)(e,(function(e){return e.multiplier?Number(e.multiplier.slice(0,-1)):0}),"desc");case"earned":return Object(q.orderBy)(e,(function(e){return e.userData?Number(e.userData.earnings):0}),"desc");case"liquidity":return Object(q.orderBy)(e,(function(e){return Number(e.liquidity)}),"desc");default:return e}}(xe(be?pe?r:t:pe?n:e))}),[se,l.data,be,ee,pe,xe]),ye=Object(p.useMemo)((function(){if(se!==C.a.V1_FARM)return[];var e=b.data.filter((function(e){return Number(e.allocPoint)})),t=b.data.filter((function(e){return!Number(e.allocPoint)})),n=e.filter((function(e){return e.userData&&new h.a(e.userData.stakedBalance).isGreaterThan(0)})),r=t.filter((function(e){return e.userData&&new h.a(e.userData.stakedBalance).isGreaterThan(0)}));return function(e){switch(ee){case"apr":return Object(q.orderBy)(e,(function(e){return e.apr+e.lpRewardsApr}),"desc");case"multiplier":return Object(q.orderBy)(e,(function(e){return e.multiplier?Number(e.multiplier.slice(0,-1)):0}),"desc");case"earned":return Object(q.orderBy)(e,(function(e){return e.userData?Number(e.userData.earnings):0}),"desc");case"liquidity":return Object(q.orderBy)(e,(function(e){return Number(e.liquidity)}),"desc");default:return e}}(xe(be?pe?r:t:pe?n:e))}),[se,b.data,be,ee,pe,xe]),Se=Object(p.useCallback)((function(e){if(W){var t=Object(E.a)(W.toLowerCase());return e.filter((function(e){return Object(E.a)(e.lpSymbol.toLowerCase()).includes(t)}))}return e}),[W]),Ce=Object(p.useMemo)((function(){if(se!==C.a.LP_FARM)return[];var e=c.data.filter((function(e){return new h.a(e.nftLeft).isGreaterThan(0)})),t=c.data.filter((function(e){return new h.a(e.nftLeft).eq(0)})),n=e.filter((function(e){return e.userData&&new h.a(e.userData.stakedBalance).isGreaterThan(0)})),r=t.filter((function(e){return e.userData&&new h.a(e.userData.stakedBalance).isGreaterThan(0)}));return function(e){switch(ae){case"stakeTime":return Object(q.orderBy)(e,(function(e){return Number(e.stakeTime)}),"desc");case"earned":return Object(q.orderBy)(e,(function(e){return e.userData?Number(e.userData.earnings):0}),"desc");case"nftLeft":return Object(q.orderBy)(e,(function(e){return Number(e.nftLeft)}),"desc");default:return e}}(Se(be?pe?r:t:pe?n:e))}),[se,c.data,be,ae,pe,Se]),Te=Object(p.useMemo)((function(){return se===C.a.DSG_AND_INCENTTIVE_FARM?!x||!l.dataLoaded:se===C.a.FTS_FARM?!i.dataLoaded||!o.dataLoaded||!s.dataLoaded:se===C.a.LP_FARM?!c.dataLoaded:se===C.a.V1_FARM&&!b.dataLoaded}),[se,x,l.dataLoaded,i.dataLoaded,o.dataLoaded,s.dataLoaded,c.dataLoaded,b.dataLoaded]),De=Object(p.useMemo)((function(){return se===C.a.DSG_AND_INCENTTIVE_FARM?!Te&&!he.length&&!ge.length:se===C.a.LP_FARM?!Te&&!Ce.length:se===C.a.V1_FARM?!Te&&!ye.length:se!==C.a.FTS_FARM||!Te&&!(ke.length||me.length||ve.length)}),[se,Te,he.length,ge.length,Ce.length,ye.length,ke.length,ve.length,me.length]),Ae=function(e){te(e.value)},Ne=function(e){ce(e.value)};return Object(J.jsxs)(B.a,{index:2,width:"100%",backgroundPosition:"right",background:"bgimage3",children:[Object(J.jsx)(_.a,{noPaddingRight:!0,children:Object(J.jsxs)(v.Q,{flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",children:[Object(J.jsxs)(v.q,{children:[Object(J.jsx)(v.T,{as:"h1",scale:"xl",mb:"16px",children:n("Pterosaur Farm")}),Object(J.jsx)(v.Kb,{children:n("Stake LP tokens to earn\uff0cPterosaur is searching DSGs for you !")})]}),Object(J.jsx)(v.q,{maxWidth:"100%",mt:"16px",children:Object(J.jsx)(_t,{})})]})}),Object(J.jsxs)(Mt,{children:[Object(J.jsxs)(It,{children:[Object(J.jsxs)(Kt,{children:[Object(J.jsx)(Gt,{mr:"16px",mt:"8px",children:Object(J.jsx)(Lt,{hasStakeInFinishedFarms:he.length>0})}),Object(J.jsx)(Gt,{mr:"16px",mt:"8px",children:Object(J.jsx)(Et,{})})]}),Object(J.jsxs)(Kt,{children:[Object(J.jsxs)(Bt,{children:[Object(J.jsx)(v.Mb,{checked:be,onChange:function(){return de(!be)},scale:"sm"}),Object(J.jsx)(v.Kb,{ml:"4px",children:n("Finished")})]}),Object(J.jsxs)(Bt,{children:[Object(J.jsx)(v.Mb,{checked:pe,onChange:function(){return Oe(!pe)},scale:"sm"}),Object(J.jsx)(v.Kb,{ml:"4px",children:n("Staked only")})]}),Object(J.jsx)(Bt,{children:Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(O.b,{exact:!0,path:"".concat(e),children:Object(J.jsx)(I.b,{options:[{label:n("Hot"),value:"hot"},{label:n("APR"),value:"apr"},{label:n("Multiplier"),value:"multiplier"},{label:n("Earned"),value:"earned"},{label:n("Liquidity"),value:"liquidity"}],onChange:Ae})}),Object(J.jsx)(O.b,{exact:!0,path:"".concat(e,"/fts"),children:Object(J.jsx)(I.b,{options:[{label:n("Hot"),value:"hot"},{label:n("APR"),value:"apr"},{label:n("Multiplier"),value:"multiplier"},{label:n("Earned"),value:"earned"},{label:n("Liquidity"),value:"liquidity"}],onChange:Ae})}),Object(J.jsx)(O.b,{exact:!0,path:"".concat(e,"/lp"),children:Object(J.jsx)(I.b,{options:[{label:n("Hot"),value:"hot"},{label:n("Duration"),value:"stakeTime"},{label:n("Earned"),value:"earned"},{label:n("NFT left"),value:"nftLeft"}],onChange:Ne})})]})}),Object(J.jsx)(Bt,{children:Object(J.jsx)(M.a,{onChange:function(e){Y(e.target.value)},placeholder:"Search Farms"})})]})]}),Object(J.jsx)(Qt,{}),Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(w.a,{children:[Object(J.jsx)(O.b,{exact:!0,path:"".concat(e),children:Object(J.jsx)(A.a,{lineMax:3,children:he.map((function(e){return Object(J.jsx)(mt,{farm:e,displayApr:zt(e.apr,e.lpRewardsApr),cakePrice:k,account:Z,removed:be,memberDataInfo:ie,userNfts:oe,cardType:K.a.LP_FARM},"".concat(e.pid,"_").concat(e.farmPoolType))}))})}),Object(J.jsx)(O.b,{exact:!0,path:"".concat(e,"/v1"),children:Object(J.jsx)(A.a,{lineMax:3,children:ye.map((function(e){return Object(J.jsx)(mt,{farm:e,displayApr:zt(e.apr),cakePrice:k,account:Z,removed:be,memberDataInfo:ie,cardType:K.a.LP_FARM},"".concat(e.pid,"_").concat(e.farmPoolType))}))})}),Object(J.jsx)(O.b,{exact:!0,path:"".concat(e,"/lp"),children:Object(J.jsx)(A.a,{lineMax:3,children:Ce.map((function(e){return Object(J.jsx)(Ct,{farm:e,account:Z,removed:be},e.pid)}))})})]}),Object(J.jsx)(w.a,{children:Object(J.jsx)(O.b,{exact:!0,path:"".concat(e,"/").concat(C.a.FTS_FARM),children:!!we.length&&Object(J.jsxs)(A.a,{lineMax:3,children:[!!we.length&&Object(J.jsx)(Nt,{type:"ycdrawing",name:n("METAYC Avatar Fragment"),desc:n("It can synthesize avatar drawing board.")}),we.map((function(e){return Object(J.jsx)(mt,{farm:e,displayApr:zt(e.apr),cakePrice:k,account:Z,removed:be,cardType:K.a.LP_FARM},"".concat(e.liquidityPoolAddress,"_").concat(e.pid))}))]})})}),Object(J.jsx)(w.a,{children:Object(J.jsxs)(O.b,{exact:!0,path:"".concat(e,"/").concat(C.a.FTS_FARM),children:[!!ve.length&&Object(J.jsx)(Nt,{type:"ticket",name:n("Genesis Dinosaur Avatar Fragment"),desc:n("It can synthesize avatar drawing board.")}),Object(J.jsx)(A.a,{lineMax:3,children:ve.map((function(e){return Object(J.jsx)(mt,{farm:e,displayApr:zt(e.apr),cakePrice:k,account:Z,removed:be,cardType:K.a.LP_FARM},"".concat(e.liquidityPoolAddress,"_").concat(e.pid))}))})]})}),Object(J.jsx)(w.a,{children:Object(J.jsxs)(O.b,{exact:!0,path:"".concat(e,"/").concat(C.a.FTS_FARM),children:[!!ke.length&&Object(J.jsx)(Nt,{type:"triangleDinosaur",name:n("Money-hungry Dino egg fragment"),desc:n("It can synthesize Money-hungry Dino egg to obtain DSG dividend income!")}),Object(J.jsx)(A.a,{lineMax:3,children:ke.map((function(e){return Object(J.jsx)(mt,{farm:e,displayApr:zt(e.apr),cakePrice:k,account:Z,removed:be,cardType:K.a.LP_FARM},"".concat(e.liquidityPoolAddress,"_").concat(e.pid))}))})]})}),Object(J.jsx)(w.a,{children:Object(J.jsxs)(O.b,{exact:!0,path:"".concat(e,"/").concat(C.a.FTS_FARM),children:[!!me.length&&Object(J.jsx)(Nt,{type:"meat",name:n("Meat fragment"),desc:n("It can synthesize meat and accelerate the acquisition speed of DSG.")}),Object(J.jsx)(A.a,{lineMax:3,children:me.map((function(e){return Object(J.jsx)(mt,{farm:e,displayApr:zt(e.apr),cakePrice:k,account:Z,removed:be,cardType:K.a.LP_FARM},"".concat(e.liquidityPoolAddress,"_").concat(e.pid))}))})]})}),Object(J.jsx)(v.q,{children:Object(J.jsxs)(O.b,{exact:!0,path:"".concat(e),children:[Object(J.jsxs)(Ut,{children:[Object(J.jsx)(v.T,{as:"h1",scale:"xl",mb:"16px",children:n("Fragment Pool Incentives")}),Object(J.jsx)(v.Kb,{color:"textSubtle",mt:"8px",children:n("The protocol uses the reserve pool to incentivize the liquidity of the Fragment pool. Reserve pool DSG source: 20% of vDSG exit fees")})]}),Object(J.jsx)(w.a,{children:Object(J.jsx)(A.a,{lineMax:3,children:ge.map((function(e){return Object(J.jsx)(mt,{farm:e,displayApr:zt(e.apr),cakePrice:k,memberDataInfo:ie,account:Z,removed:be,cardType:K.a.LP_FARM},"".concat(e.pid,"_").concat(e.farmPoolType))}))})})]})})]}),Z&&!f&&pe&&Object(J.jsx)(v.Q,{justifyContent:"center",children:Object(J.jsx)(Q.a,{})}),Te&&Object(J.jsx)(v.Q,{justifyContent:"center",children:Object(J.jsx)(v.Hb,{})}),De&&Object(J.jsx)(v.K,{})]})]})}},803:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return S})),n.d(t,"c",(function(){return C}));var r,a=n(3),c=n.n(a),i=n(1),s=n(9),o=n(12),u=n(2),l=n(15),b=n.n(l),d=n(39),j=n(57),f=n(64),p=n(17),O=n(37),x=n(133),h=n(113),m=n(398),v=function(){var e=Object(u.useState)(Date.now()),t=Object(o.a)(e,2),n=t[0],r=t[1];return{lastUpdated:n,previousLastUpdated:Object(m.a)(n),setLastUpdated:Object(u.useCallback)((function(){r(Date.now())}),[r])}};!function(e){e.NOT_FETCHED="not-fetched",e.SUCCESS="success",e.FAILED="failed"}(r||(r={}));var k=function(e,t){var n=r.NOT_FETCHED,a=r.SUCCESS,l=r.FAILED,d=Object(u.useState)({balance:O.c,fetchStatus:n}),p=Object(o.a)(d,2),x=p[0],m=p[1],v=Object(j.c)().account,k=Object(h.a)().fastRefresh;return Object(u.useEffect)((function(){(v||t)&&function(){var n=Object(s.a)(c.a.mark((function n(){var r,s;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Object(f.b)(e),n.prev=1,n.next=4,r.balanceOf(t||v);case 4:s=n.sent,m({balance:new b.a(s.toString()),fetchStatus:a}),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0),m((function(e){return Object(i.a)(Object(i.a)({},e),{},{fetchStatus:l})}));case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(){return n.apply(this,arguments)}}()()}),[v,e,k,t,a,l]),x},w=function(){var e=Object(h.a)().slowRefresh,t=Object(u.useState)(),n=Object(o.a)(t,2),a=n[0],l=n[1],j=function(){var e=Object(p.e)(),t=r.NOT_FETCHED,n=r.SUCCESS,a=r.FAILED,l=Object(u.useState)({balance:O.c,fetchStatus:t}),j=Object(o.a)(l,2),x=j[0],m=j[1],v=Object(h.a)().fastRefresh;return Object(u.useEffect)((function(){!function(){var t=Object(s.a)(c.a.mark((function t(){var r,s,o,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(f.b)(e),t.prev=1,s=d.o.map((function(e){return r.balanceOf(e)})),t.next=5,Promise.all(s);case 5:o=t.sent,u=new b.a(0),o.forEach((function(e){u=u.plus(e.toString())})),m({balance:u,fetchStatus:n}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.error(t.t0),m((function(e){return Object(i.a)(Object(i.a)({},e),{},{fetchStatus:a})}));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(){return t.apply(this,arguments)}}()()}),[v,n,a,e]),x}(),x=j.balance,m=j.fetchStatus;return Object(u.useEffect)((function(){function e(){return(e=Object(s.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(f.d)(),e.next=3,t.totalSupply();case 3:n=e.sent,m===r.SUCCESS&&l(new b.a(n.toString()).minus(x));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e,m,x]),a},g=function(){var e=Object(h.a)().slowRefresh,t=Object(u.useState)(),n=Object(o.a)(t,2),r=n[0],a=n[1];return Object(u.useEffect)((function(){function e(){return(e=Object(s.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(f.w)(),e.next=3,t.totalSupply();case 3:n=e.sent,a(new b.a(n.toString()));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e]),r},y=function(){var e=Object(u.useState)(O.c),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(h.a)().slowRefresh;return Object(u.useEffect)((function(){(function(){var e=Object(s.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(f.d)(),e.next=3,t.totalBurned();case 3:n=e.sent,r(new b.a(n.toString()));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),n},S=function(){var e=Object(u.useState)(r.NOT_FETCHED),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(u.useState)(O.c),l=Object(o.a)(i,2),d=l[0],f=l[1],p=Object(j.c)().account,h=v(),m=h.lastUpdated,k=h.setLastUpdated;return Object(u.useEffect)((function(){p&&function(){var e=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.getBalance(p);case 3:t=e.sent,f(new b.a(t.toString())),a(r.SUCCESS),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a(r.FAILED);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[p,m,f,a]),{balance:d,fetchStatus:n,refresh:k}},C=function(){return k(Object(p.e)())};t.b=k},804:function(e,t,n){"use strict";n.d(t,"f",(function(){return S})),n.d(t,"e",(function(){return C})),n.d(t,"i",(function(){return T})),n.d(t,"j",(function(){return D})),n.d(t,"h",(function(){return A})),n.d(t,"g",(function(){return N})),n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return F})),n.d(t,"d",(function(){return R})),n.d(t,"c",(function(){return q}));var r=n(1),a=n(3),c=n.n(a),i=n(11),s=n(9),o=n(12),u=n(2),l=n(32),b=n(96),d=n(65),j=n(7),f=n(132),p=n(67),O=n(57),x=n(40),h=n(229),m=n(224),v=n(113),k=n(395),w=n(22),g=n(256),y=n(228),S=function(){var e=Object(p.b)(),t=Object(v.a)().slowRefresh,n=Object(O.c)().account;Object(u.useEffect)((function(){n&&e(Object(k.d)(n))}),[e,t,n])},C=function(e){var t=Object(p.b)(),n=Object(v.a)().slowRefresh,r=Object(O.c)().account;Object(u.useEffect)((function(){r&&e&&t(Object(k.d)(r))}),[t,n,r,e])},T=function(){return Object(l.c)((function(e){return e.nfts}))},D=function(){var e=T().user;return{loaded:e.loaded,data:e.data.filter((function(e){return e.properties.owner_status===w.b.NORMAL}))}},A=function(e,t){return T().market.data.find((function(n){var r,a;return Number(null===(r=n.metadata)||void 0===r||null===(a=r.properties)||void 0===a?void 0:a.token_id)===Number(e)&&"".concat(t).toLowerCase()===n.nft.toLowerCase()}))},N=function(e,t){var n=T().user;return(null===n||void 0===n?void 0:n.data)?n.data.find((function(n){return Number(n.properties.token_id)===Number(e)&&"".concat(t).toLowerCase()===n.properties.token.toLowerCase()})):null},L=function(e,t){var n=Object(O.c)().account,r=Object(p.b)(),a=T().market,l=Object(u.useState)(""),b=Object(o.a)(l,2),d=b[0],j=b[1],f=Object(u.useState)(m.b.NOT_FETCHED),h=Object(o.a)(f,2),v=h[0],w=h[1],y=Object(u.useCallback)(function(){var t=Object(s.a)(c.a.mark((function t(s){var u,l,b,d,j,f,p,O,h,v,y,S,C,T,D,A,N,L,F,E,P,R;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w(m.b.LOADING),l=(u=a||{}).data,b=u.limit,d=u.loadEnd,j=u.total,f=JSON.parse(e),p=f.sort,O=f.currency,h=f.search,v=f.nft,y=f.isOwner,S=f.contract,C=f.contracts,!s){t.next=7;break}r(Object(k.f)({refresh:s,data:[],total:j})),t.next=10;break;case 7:if(!d){t.next=10;break}return w(m.b.DATA_END),t.abrupt("return");case 10:return T=s?0:(null===l||void 0===l?void 0:l.length)||0,D=y?"".concat(n).toLowerCase():"",r(Object(k.h)(!0)),A=h?Object(x.h)(h)?["seller",h.toLowerCase()]:(Number(h),["token_id",h]):["",""],N=Object(o.a)(A,2),L=N[0],F=N[1],t.prev=14,t.next=17,Object(g.a)(Object(i.a)({limit:b,sort:p,contract:null===S||void 0===S?void 0:S.toLowerCase(),"metadata.properties.nft":null===v||void 0===v?void 0:v.toLowerCase(),currency:null===O||void 0===O?void 0:O.toLowerCase(),offset:T,seller:D,contracts:null===C||void 0===C?void 0:C.map((function(e){return null===e||void 0===e?void 0:e.toLowerCase()}))},L,F));case 17:E=t.sent,P=E.data,R=E.total,r(Object(k.f)({data:P,total:R,refresh:s})),w(m.b.SUCCESS),t.next=27;break;case 24:t.prev=24,t.t0=t.catch(14),w(m.b.FAILED);case 27:n&&r(Object(k.b)(n));case 28:case"end":return t.stop()}}),t,null,[[14,24]])})));return function(e){return t.apply(this,arguments)}}(),[a,e,n,r]);return Object(u.useEffect)((function(){if(v===m.b.NOT_FETCHED||e!==d){if(j(e),!t)return;w(m.b.LOADING),y(!0)}}),[v,e,d,t,y]),{fetchData:y,fetchState:v,setFetchState:w}},F=function(e){var t=Object(O.c)().account,n=Object(p.b)(),r=T().marketHistory,a=Object(u.useState)(""),i=Object(o.a)(a,2),l=i[0],b=i[1],d=Object(u.useState)(m.b.NOT_FETCHED),j=Object(o.a)(d,2),f=j[0],h=j[1],v=Object(u.useCallback)(function(){var a=Object(s.a)(c.a.mark((function a(i){var s,u,l,b,d,j,f,p,O,v,w,y,S,C,T,D,A,N,L,F;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(h(m.b.LOADING),u=(s=r||{}).data,l=s.limit,b=s.loadEnd,d=s.total,j=JSON.parse(e),f=j.sort,p=j.currency,O=j.search,v=j.nft,w=j.isOwner,y=j.time,S=j.contract,C=j.contracts,!i){a.next=7;break}n(Object(k.g)({refresh:i,data:[],total:d})),a.next=10;break;case 7:if(!b){a.next=10;break}return h(m.b.DATA_END),a.abrupt("return");case 10:return T=i?0:(null===u||void 0===u?void 0:u.length)||0,w?t:"",n(Object(k.h)(!0)),D=O?Object(x.h)(O)?["seller",O]:(Number(O),["token_id",O]):["",""],A=Object(o.a)(D,2),A[0],A[1],a.prev=14,a.next=17,Object(g.a)({limit:l,sort:f,contract:null===S||void 0===S?void 0:S.toLowerCase(),"metadata.properties.nft":null===v||void 0===v?void 0:v.toLowerCase(),currency:null===p||void 0===p?void 0:p.toLowerCase(),contracts:null===C||void 0===C?void 0:C.map((function(e){return null===e||void 0===e?void 0:e.toLowerCase()})),offset:T,final_time_gt:y,state:1});case 17:N=a.sent,L=N.data,F=N.total,n(Object(k.g)({data:L,total:F,refresh:i})),h(m.b.SUCCESS),a.next=27;break;case 24:a.prev=24,a.t0=a.catch(14),h(m.b.FAILED);case 27:t&&n(Object(k.b)(t));case 28:case"end":return a.stop()}}),a,null,[[14,24]])})));return function(e){return a.apply(this,arguments)}}(),[r,e,t,n]);return Object(u.useEffect)((function(){(f===m.b.NOT_FETCHED||e!==l)&&(b(e),h(m.b.LOADING),v(!0))}),[f,e,l,v]),{fetchData:v,fetchState:f,setFetchState:h}},E=function(){var e=Object(s.a)(c.a.mark((function e(t,n,a){var i,s,u,l,d,f,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)({contract:null===t||void 0===t?void 0:t.toLowerCase(),token_id:n});case 2:if((s=e.sent).total){e.next=5;break}return e.abrupt("return",null);case 5:if(a){e.next=7;break}return e.abrupt("return",s.data[0]);case 7:return e.next=9,Object(y.d)(a);case 9:return u=e.sent,e.next=12,Object(y.b)(a,[null===(i=s.data[0])||void 0===i?void 0:i.metadata]);case 12:return l=e.sent,d=Object(o.a)(l,1),f=d[0],p=u.find((function(e){return s.data[0].currency.toLowerCase()===e.currency.toLowerCase()}))||{allowance:b.a.constants.MaxUint256.toHexString(),currencySymbol:j.e.symbol},e.abrupt("return",Object(r.a)(Object(r.a)(Object(r.a)({},s.data[0]),p),f));case 17:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),P=function(){var e=Object(s.a)(c.a.mark((function e(t,n,a){var i,s,u,l,b,j,f,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Object(d.e)(t),s=null,!i){e.next=8;break}return e.next=5,Object(h.b)(t,[n]);case 5:s=e.sent,e.next=11;break;case 8:return e.next=10,Object(h.a)(t,[n]);case 10:s=e.sent;case 11:if(!s||!s.length){e.next=25;break}if(a){e.next=14;break}return e.abrupt("return",s[0]);case 14:return e.next=16,Object(y.b)(a,[s[0]]);case 16:return u=e.sent,l=Object(o.a)(u,1),b=l[0],e.next=21,Object(g.d)([s[0]]);case 21:return j=e.sent,f=Object(o.a)(j,1),p=f[0],e.abrupt("return",Object(r.a)(Object(r.a)(Object(r.a)({},s[0]),b),p));case 25:return e.abrupt("return",null);case 26:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),R=function(e,t,n){var r=Object(u.useState)(m.b.NOT_FETCHED),a=Object(o.a)(r,2),i=a[0],l=a[1],b=Object(u.useState)(null),d=Object(o.a)(b,2),j=d[0],p=d[1],x=Object(u.useState)(null),h=Object(o.a)(x,2),k=h[0],w=h[1],g=Object(u.useState)(null),y=Object(o.a)(g,2),S=y[0],C=y[1],T=Object(O.c)().account,D=Object(u.useState)(""),A=Object(o.a)(D,2),N=A[0],L=A[1],F=Object(v.a)().fastRefresh,R=Object(u.useCallback)(Object(s.a)(c.a.mark((function n(){var r,a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i===m.b.SUCCESS?l(m.b.REFRESH):l(m.b.LOADING),n.prev=1,n.next=4,E(e,t,T);case 4:if(!(r=n.sent)){n.next=10;break}return w(r),p(f.a.MARKET),l(m.b.SUCCESS),n.abrupt("return");case 10:return n.next=12,P(e,t,T);case 12:if(!(a=n.sent)){n.next=18;break}return C(a),p(f.a.INFO),l(m.b.SUCCESS),n.abrupt("return");case 18:n.next=24;break;case 20:n.prev=20,n.t0=n.catch(1),console.error(n.t0),l(m.b.FAILED);case 24:case"end":return n.stop()}}),n,null,[[1,20]])}))),[i,e,t,T]);return Object(u.useEffect)((function(){var r="".concat(t,"_").concat(e,"_").concat(n,"_").concat(F,"_").concat(T);t&&e&&r!==N&&(L(r),R())}),[R,e,t,n,N,F,T]),{fetchData:R,dataType:j,marketNftInfo:k,nftInfo:S,fetchState:i,setFetchState:l}},q=function(e,t){var n=Object(u.useState)(m.b.NOT_FETCHED),r=Object(o.a)(n,2),a=r[0],i=r[1],l=Object(u.useState)(null),b=Object(o.a)(l,2),d=b[0],j=b[1],f=Object(u.useCallback)(Object(s.a)(c.a.mark((function n(){var r,a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i(m.b.LOADING),n.prev=1,n.next=4,Object(g.a)({limit:500,sort:"final_time",contract:null===e||void 0===e?void 0:e.toLowerCase(),token_id:t,state:1});case 4:r=n.sent,a=r.data,r.total,j(a),i(m.b.SUCCESS),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),console.error(n.t0),i(m.b.FAILED);case 15:case"end":return n.stop()}}),n,null,[[1,11]])}))),[e,t]);return Object(u.useEffect)((function(){t&&e&&f()}),[f,e,t]),{fetchData:f,historyData:d,fetchState:a,setFetchState:i}}},836:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return x})),n.d(t,"d",(function(){return h}));var r=n(1),a=n(2),c=n(15),i=n.n(c),s=n(44),o=n(32),u=n(67),l=n(402),b=n(51),d=n(57),j=n(113),f=n(404),p=function(){var e=Object(u.b)(),t=Object(j.a)().slowRefresh,n=Object(d.c)().account;Object(a.useEffect)((function(){e(Object(f.b)()),e(Object(f.c)()),e(Object(f.h)()),e(Object(f.e)()),e(Object(f.d)()),n&&(e(Object(f.f)(n)),e(Object(f.g)(n)))}),[e,t,n])},O=function(){return Object(o.c)((function(e){return e.member}))},x=function(){var e=O();return{balanceRanking:e.balanceRanking,mintList:e.mintList,redeemList:e.redeemList}},h=function(){var e=O().data,t=Object(a.useMemo)((function(){var t=e.dsgPerBlock,n=void 0===t?"0":t,r=e.totalStakingPower,a=void 0===r?"0":r,c=e.alpha,o=e.donateAmount3,u=void 0===o?"0":o,b=e.donateDt,d=void 0===b?0:b,j=e.feeAmount3,f=void 0===j?"0":j,p=e.feeDt,O=void 0===p?0:p,x=(e.decimals,new i.a(n)),h=new i.a(a),m=new i.a(u),v=new i.a(f),k=h.times(c).div(s.p).div(s.p),w=Object(l.b)(x,k),g=Object(l.c)(m,d,k),y=Object(l.d)(v,O,k);return{baseApr:w,donateApr:g,feeApr:y,totalApr:Object(l.e)(w,g,y)}}),[e]),n=Object(a.useMemo)((function(){var n=new i.a(1),r=n.times(e._superiorRatio).div(s.p).div(e.dsgRatio).times(t.totalApr).div(10).div(12);return{stake:n,credit:r,creditPerMonth:r}}),[e._superiorRatio,e.dsgRatio,t.totalApr]),c=Object(a.useMemo)((function(){var t=new i.a(e.feeRatio).div(s.p).times(100).toNumber();return Object(b.e)(t)}),[e.feeRatio]);return Object(r.a)(Object(r.a)(Object(r.a)({},t),n),{},{feeRatioDisplay:c})}},848:function(e,t,n){"use strict";n(2);var r=n(44),a=n(4),c=n(20),i=n(0);t.a=function(e){var t=e.symbol,n=e.address,s=Object(c.b)().t;return Object(i.jsxs)(i.Fragment,{children:[s("Insufficient %symbol% balance",{symbol:t}),":\xa0",Object(i.jsx)(a.fb,{fontSize:"14px",bold:!1,href:"".concat(r.h).concat(n),external:!0,color:"failure",children:s("Get %symbol%",{symbol:t})})]})}}}]);
//# sourceMappingURL=13.255355a6.chunk.js.map